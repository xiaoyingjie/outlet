/*!
 * author: FDD <smileFDD@gmail.com> 
 * hmap-js v1.5.8
 * build-time: 2018-8-1 13:10
 * LICENSE: MIT
 * (c) 2016-2018 https://sakitam-fdd.github.io/HMap/
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.HMap=e()}(this,function(){"use strict";var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t=function(){function i(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,o){return e&&i(t.prototype,e),o&&i(t,o),t}}(),r=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e};"function"!=typeof Object.create&&(Object.create=function(t,e){if("object"!==(void 0===t?"undefined":l(t))&&"function"!=typeof t)throw new TypeError("Object prototype may only be an Object: "+t);if(null===t)throw new Error("This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument.");if(void 0!==e)throw new Error("This browser's implementation of Object.create is a shim and doesn't support a second argument.");function o(){}return o.prototype=t,new o}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},writable:!0,configurable:!0});var e=Math.ceil,o=Math.floor,a=function(t){return isNaN(t=+t)?0:(0<t?o:e)(t)},p=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t,e){return t(e={exports:{}},e.exports),e.exports}var v=n(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),f=n(function(t){var e=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=e)}),A=(f.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),y=function(t){if(!A(t))throw TypeError(t+" is not an object!");return t},C=function(t){try{return!!t()}catch(t){return!0}},s=!C(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),u=v.document,g=A(u)&&A(u.createElement),d=function(t){return g?u.createElement(t):{}},m=!s&&!C(function(){return 7!=Object.defineProperty(d("div"),"a",{get:function(){return 7}}).a}),I=function(t,e){if(!A(t))return t;var o,i;if(e&&"function"==typeof(o=t.toString)&&!A(i=o.call(t)))return i;if("function"==typeof(o=t.valueOf)&&!A(i=o.call(t)))return i;if(!e&&"function"==typeof(o=t.toString)&&!A(i=o.call(t)))return i;throw TypeError("Can't convert object to primitive value")},b=Object.defineProperty,w={f:s?Object.defineProperty:function(t,e,o){if(y(t),e=I(e,!0),y(o),m)try{return b(t,e,o)}catch(t){}if("get"in o||"set"in o)throw TypeError("Accessors not supported!");return"value"in o&&(t[e]=o.value),t}},M=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},S=s?function(t,e,o){return w.f(t,e,M(1,o))}:function(t,e,o){return t[e]=o,t},x={}.hasOwnProperty,P=function(t,e){return x.call(t,e)},E=0,L=Math.random(),T=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++E+L).toString(36))},j=n(function(t){var n=T("src"),e="toString",o=Function[e],s=(""+o).split(e);f.inspectSource=function(t){return o.call(t)},(t.exports=function(t,e,o,i){var r="function"==typeof o;r&&(P(o,"name")||S(o,"name",e)),t[e]!==o&&(r&&(P(o,n)||S(o,n,t[e]?""+t[e]:s.join(String(e)))),t===v?t[e]=o:i?t[e]?t[e]=o:S(t,e,o):(delete t[e],S(t,e,o)))})(Function.prototype,e,function(){return"function"==typeof this&&this[n]||o.call(this)})}),F=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},R=function(i,r,t){if(F(i),void 0===r)return i;switch(t){case 1:return function(t){return i.call(r,t)};case 2:return function(t,e){return i.call(r,t,e)};case 3:return function(t,e,o){return i.call(r,t,e,o)}}return function(){return i.apply(r,arguments)}},O="prototype",N=function(t,e,o){var i,r,n,s,a=t&N.F,p=t&N.G,h=t&N.S,l=t&N.P,c=t&N.B,u=p?v:h?v[e]||(v[e]={}):(v[e]||{})[O],g=p?f:f[e]||(f[e]={}),y=g[O]||(g[O]={});for(i in p&&(o=e),o)n=((r=!a&&u&&void 0!==u[i])?u:o)[i],s=c&&r?R(n,v):l&&"function"==typeof n?R(Function.call,n):n,u&&j(u,i,n,t&N.U),g[i]!=n&&S(g,i,s),l&&y[i]!=n&&(y[i]=n)};v.core=f,N.F=1,N.G=2,N.S=4,N.P=8,N.B=16,N.W=32,N.U=64,N.R=128;var k=N,D={},_={}.toString,G=function(t){return _.call(t).slice(8,-1)},B=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==G(t)?t.split(""):Object(t)},U=function(t){return B(p(t))},z=Math.min,Z=function(t){return 0<t?z(a(t),9007199254740991):0},V=Math.max,H=Math.min,W=function(t,e){return(t=a(t))<0?V(t+e,0):H(t,e)},X=function(a){return function(t,e,o){var i,r=U(t),n=Z(r.length),s=W(o,n);if(a&&e!=e){for(;s<n;)if((i=r[s++])!=i)return!0}else for(;s<n;s++)if((a||s in r)&&r[s]===e)return a||s||0;return!a&&-1}},Y="__core-js_shared__",K=v[Y]||(v[Y]={}),J=function(t){return K[t]||(K[t]={})},q=J("keys"),Q=function(t){return q[t]||(q[t]=T(t))},$=X(!1),tt=Q("IE_PROTO"),et=function(t,e){var o,i=U(t),r=0,n=[];for(o in i)o!=tt&&P(i,o)&&n.push(o);for(;e.length>r;)P(i,o=e[r++])&&(~$(n,o)||n.push(o));return n},ot="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),it=Object.keys||function(t){return et(t,ot)},rt=s?Object.defineProperties:function(t,e){y(t);for(var o,i=it(e),r=i.length,n=0;n<r;)w.f(t,o=i[n++],e[o]);return t},nt=v.document,st=nt&&nt.documentElement,at=Q("IE_PROTO"),pt=function(){},ht="prototype",lt=function(){var t,e=d("iframe"),o=ot.length;for(e.style.display="none",st.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),lt=t.F;o--;)delete lt[ht][ot[o]];return lt()},ct=Object.create||function(t,e){var o;return null!==t?(pt[ht]=y(t),o=new pt,pt[ht]=null,o[at]=t):o=lt(),void 0===e?o:rt(o,e)},ut=n(function(t){var e=J("wks"),o=v.Symbol,i="function"==typeof o;(t.exports=function(t){return e[t]||(e[t]=i&&o[t]||(i?o:T)("Symbol."+t))}).store=e}),gt=w.f,yt=ut("toStringTag"),ft=function(t,e,o){t&&!P(t=o?t:t.prototype,yt)&&gt(t,yt,{configurable:!0,value:e})},dt={};S(dt,ut("iterator"),function(){return this});var vt,At=function(t,e,o){t.prototype=ct(dt,{next:M(1,o)}),ft(t,e+" Iterator")},Ct=function(t){return Object(p(t))},mt=Q("IE_PROTO"),It=Object.prototype,bt=Object.getPrototypeOf||function(t){return t=Ct(t),P(t,mt)?t[mt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?It:null},wt=ut("iterator"),Mt=!([].keys&&"next"in[].keys()),St="values",xt=function(){return this},Pt=function(t,e,o,i,r,n,s){At(o,e,i);var a,p,h,l=function(t){if(!Mt&&t in y)return y[t];switch(t){case"keys":case St:return function(){return new o(this,t)}}return function(){return new o(this,t)}},c=e+" Iterator",u=r==St,g=!1,y=t.prototype,f=y[wt]||y["@@iterator"]||r&&y[r],d=!Mt&&f||l(r),v=r?u?l("entries"):d:void 0,A="Array"==e&&y.entries||f;if(A&&(h=bt(A.call(new t)))!==Object.prototype&&h.next&&(ft(h,c,!0),P(h,wt)||S(h,wt,xt)),u&&f&&f.name!==St&&(g=!0,d=function(){return f.call(this)}),(Mt||g||!y[wt])&&S(y,wt,d),D[e]=d,D[c]=xt,r)if(a={values:u?d:l(St),keys:n?d:l("keys"),entries:v},s)for(p in a)p in y||j(y,p,a[p]);else k(k.P+k.F*(Mt||g),e,a);return a},Et=(vt=!0,function(t,e){var o,i,r=String(p(t)),n=a(e),s=r.length;return n<0||s<=n?vt?"":void 0:(o=r.charCodeAt(n))<55296||56319<o||n+1===s||(i=r.charCodeAt(n+1))<56320||57343<i?vt?r.charAt(n):o:vt?r.slice(n,n+2):i-56320+(o-55296<<10)+65536});Pt(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,o=this._i;return o>=e.length?{value:void 0,done:!0}:(t=Et(e,o),this._i+=t.length,{value:t,done:!1})});var Lt=Array.isArray||function(t){return"Array"==G(t)};k(k.S,"Array",{isArray:Lt});var Tt=function(e,t,o,i){try{return i?t(y(o)[0],o[1]):t(o)}catch(t){var r=e.return;throw void 0!==r&&y(r.call(e)),t}},jt=ut("iterator"),Ft=Array.prototype,Rt=function(t){return void 0!==t&&(D.Array===t||Ft[jt]===t)},Ot=function(t,e,o){e in t?w.f(t,e,M(0,o)):t[e]=o},Nt=ut("toStringTag"),kt="Arguments"==G(function(){return arguments}()),Dt=function(t){var e,o,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(o=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Nt))?o:kt?G(e):"Object"==(i=G(e))&&"function"==typeof e.callee?"Arguments":i},_t=ut("iterator"),Gt=f.getIteratorMethod=function(t){if(null!=t)return t[_t]||t["@@iterator"]||D[Dt(t)]},Bt=ut("iterator"),Ut=!1;try{[7][Bt]().return=function(){Ut=!0}}catch(t){}var zt=function(t,e){if(!e&&!Ut)return!1;var o=!1;try{var i=[7],r=i[Bt]();r.next=function(){return{done:o=!0}},i[Bt]=function(){return r},t(i)}catch(t){}return o};k(k.S+k.F*!zt(function(t){}),"Array",{from:function(t){var e,o,i,r,n=Ct(t),s="function"==typeof this?this:Array,a=arguments.length,p=1<a?arguments[1]:void 0,h=void 0!==p,l=0,c=Gt(n);if(h&&(p=R(p,2<a?arguments[2]:void 0,2)),null==c||s==Array&&Rt(c))for(o=new s(e=Z(n.length));l<e;l++)Ot(o,l,h?p(n[l],l):n[l]);else for(r=c.call(n),o=new s;!(i=r.next()).done;l++)Ot(o,l,h?Tt(r,p,[i.value,l],!0):i.value);return o.length=l,o}}),k(k.S+k.F*C(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,o=new("function"==typeof this?this:Array)(e);t<e;)Ot(o,t,arguments[t++]);return o.length=e,o}});var Zt=function(t,e){return!!t&&C(function(){e?t.call(null,function(){},1):t.call(null)})},Vt=[].join;k(k.P+k.F*(B!=Object||!Zt(Vt)),"Array",{join:function(t){return Vt.call(U(this),void 0===t?",":t)}});var Ht=[].slice;k(k.P+k.F*C(function(){st&&Ht.call(st)}),"Array",{slice:function(t,e){var o=Z(this.length),i=G(this);if(e=void 0===e?o:e,"Array"==i)return Ht.call(this,t,e);for(var r=W(t,o),n=W(e,o),s=Z(n-r),a=new Array(s),p=0;p<s;p++)a[p]="String"==i?this.charAt(r+p):this[r+p];return a}});var Wt=[].sort,Xt=[1,2,3];k(k.P+k.F*(C(function(){Xt.sort(void 0)})||!C(function(){Xt.sort(null)})||!Zt(Wt)),"Array",{sort:function(t){return void 0===t?Wt.call(Ct(this)):Wt.call(Ct(this),F(t))}});var Yt=ut("species"),Kt=function(t,e){return new(Lt(o=t)&&("function"!=typeof(i=o.constructor)||i!==Array&&!Lt(i.prototype)||(i=void 0),A(i)&&null===(i=i[Yt])&&(i=void 0)),void 0===i?Array:i)(e);var o,i},Jt=function(c,t){var u=1==c,g=2==c,y=3==c,f=4==c,d=6==c,v=5==c||d,A=t||Kt;return function(t,e,o){for(var i,r,n=Ct(t),s=B(n),a=R(e,o,3),p=Z(s.length),h=0,l=u?A(t,p):g?A(t,0):void 0;h<p;h++)if((v||h in s)&&(r=a(i=s[h],h,n),c))if(u)l[h]=r;else if(r)switch(c){case 3:return!0;case 5:return i;case 6:return h;case 2:l.push(i)}else if(f)return!1;return d?-1:y||f?f:l}},qt=Jt(0),Qt=Zt([].forEach,!0);k(k.P+k.F*!Qt,"Array",{forEach:function(t){return qt(this,t,arguments[1])}});var $t=Jt(1);k(k.P+k.F*!Zt([].map,!0),"Array",{map:function(t){return $t(this,t,arguments[1])}});var te=Jt(2);k(k.P+k.F*!Zt([].filter,!0),"Array",{filter:function(t){return te(this,t,arguments[1])}});var ee=Jt(3);k(k.P+k.F*!Zt([].some,!0),"Array",{some:function(t){return ee(this,t,arguments[1])}});var oe=Jt(4);k(k.P+k.F*!Zt([].every,!0),"Array",{every:function(t){return oe(this,t,arguments[1])}});var ie=function(t,e,o,i,r){F(e);var n=Ct(t),s=B(n),a=Z(n.length),p=r?a-1:0,h=r?-1:1;if(o<2)for(;;){if(p in s){i=s[p],p+=h;break}if(p+=h,r?p<0:a<=p)throw TypeError("Reduce of empty array with no initial value")}for(;r?0<=p:p<a;p+=h)p in s&&(i=e(i,s[p],p,n));return i};k(k.P+k.F*!Zt([].reduce,!0),"Array",{reduce:function(t){return ie(this,t,arguments.length,arguments[1],!1)}}),k(k.P+k.F*!Zt([].reduceRight,!0),"Array",{reduceRight:function(t){return ie(this,t,arguments.length,arguments[1],!0)}});var re=X(!1),ne=[].indexOf,se=!!ne&&1/[1].indexOf(1,-0)<0;k(k.P+k.F*(se||!Zt(ne)),"Array",{indexOf:function(t){return se?ne.apply(this,arguments)||0:re(this,t,arguments[1])}});var ae=[].lastIndexOf,pe=!!ae&&1/[1].lastIndexOf(1,-0)<0;k(k.P+k.F*(pe||!Zt(ae)),"Array",{lastIndexOf:function(t){if(pe)return ae.apply(this,arguments)||0;var e=U(this),o=Z(e.length),i=o-1;for(1<arguments.length&&(i=Math.min(i,a(arguments[1]))),i<0&&(i=o+i);0<=i;i--)if(i in e&&e[i]===t)return i||0;return-1}});var he=[].copyWithin||function(t,e){var o=Ct(this),i=Z(o.length),r=W(t,i),n=W(e,i),s=2<arguments.length?arguments[2]:void 0,a=Math.min((void 0===s?i:W(s,i))-n,i-r),p=1;for(n<r&&r<n+a&&(p=-1,n+=a-1,r+=a-1);0<a--;)n in o?o[r]=o[n]:delete o[r],r+=p,n+=p;return o},le=ut("unscopables"),ce=Array.prototype;null==ce[le]&&S(ce,le,{});var ue=function(t){ce[le][t]=!0};k(k.P,"Array",{copyWithin:he}),ue("copyWithin");k(k.P,"Array",{fill:function(t){for(var e=Ct(this),o=Z(e.length),i=arguments.length,r=W(1<i?arguments[1]:void 0,o),n=2<i?arguments[2]:void 0,s=void 0===n?o:W(n,o);r<s;)e[r++]=t;return e}}),ue("fill");var ge=Jt(5),ye="find",fe=!0;ye in[]&&Array(1)[ye](function(){fe=!1}),k(k.P+k.F*fe,"Array",{find:function(t){return ge(this,t,1<arguments.length?arguments[1]:void 0)}}),ue(ye);var de=Jt(6),ve="findIndex",Ae=!0;ve in[]&&Array(1)[ve](function(){Ae=!1}),k(k.P+k.F*Ae,"Array",{findIndex:function(t){return de(this,t,1<arguments.length?arguments[1]:void 0)}}),ue(ve);var Ce=ut("species"),me=function(t){var e=v[t];s&&e&&!e[Ce]&&w.f(e,Ce,{configurable:!0,get:function(){return this}})};me("Array");var Ie=function(t,e){return{value:e,done:!!t}},be=Pt(Array,"Array",function(t,e){this._t=U(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,o=this._i++;return!t||o>=t.length?(this._t=void 0,Ie(1)):Ie(0,"keys"==e?o:"values"==e?t[o]:[o,t[o]])},"values");D.Arguments=D.Array,ue("keys"),ue("values"),ue("entries");f.Array;var we={};we[ut("toStringTag")]="z",we+""!="[object z]"&&j(Object.prototype,"toString",function(){return"[object "+Dt(this)+"]"},!0);for(var Me=ut("iterator"),Se=ut("toStringTag"),xe=D.Array,Pe={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Ee=it(Pe),Le=0;Le<Ee.length;Le++){var Te,je=Ee[Le],Fe=Pe[je],Re=v[je],Oe=Re&&Re.prototype;if(Oe&&(Oe[Me]||S(Oe,Me,xe),Oe[Se]||S(Oe,Se,je),D[je]=xe,Fe))for(Te in be)Oe[Te]||j(Oe,Te,be[Te],!0)}var Ne,ke,De=function(t,e,o){for(var i in e)j(t,i,e[i],o);return t},_e=function(t,e,o,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(o+": incorrect invocation!");return t},Ge=n(function(t){var u={},g={},e=t.exports=function(t,e,o,i,r){var n,s,a,p,h=r?function(){return t}:Gt(t),l=R(o,i,e?2:1),c=0;if("function"!=typeof h)throw TypeError(t+" is not iterable!");if(Rt(h)){for(n=Z(t.length);c<n;c++)if((p=e?l(y(s=t[c])[0],s[1]):l(t[c]))===u||p===g)return p}else for(a=h.call(t);!(s=a.next()).done;)if((p=Tt(a,l,s.value,e))===u||p===g)return p};e.BREAK=u,e.RETURN=g}),Be=n(function(t){var o=T("meta"),e=w.f,i=0,r=Object.isExtensible||function(){return!0},n=!C(function(){return r(Object.preventExtensions({}))}),s=function(t){e(t,o,{value:{i:"O"+ ++i,w:{}}})},a=t.exports={KEY:o,NEED:!1,fastKey:function(t,e){if(!A(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!P(t,o)){if(!r(t))return"F";if(!e)return"E";s(t)}return t[o].i},getWeak:function(t,e){if(!P(t,o)){if(!r(t))return!0;if(!e)return!1;s(t)}return t[o].w},onFreeze:function(t){return n&&a.NEED&&r(t)&&!P(t,o)&&s(t),t}}}),Ue=(Be.KEY,Be.NEED,Be.fastKey,Be.getWeak,Be.onFreeze,function(t,e){if(!A(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}),ze=w.f,Ze=Be.fastKey,Ve=s?"_s":"size",He=function(t,e){var o,i=Ze(e);if("F"!==i)return t._i[i];for(o=t._f;o;o=o.n)if(o.k==e)return o},We={getConstructor:function(t,n,o,i){var r=t(function(t,e){_e(t,r,n,"_i"),t._t=n,t._i=ct(null),t._f=void 0,t._l=void 0,t[Ve]=0,null!=e&&Ge(e,o,t[i],t)});return De(r.prototype,{clear:function(){for(var t=Ue(this,n),e=t._i,o=t._f;o;o=o.n)o.r=!0,o.p&&(o.p=o.p.n=void 0),delete e[o.i];t._f=t._l=void 0,t[Ve]=0},delete:function(t){var e=Ue(this,n),o=He(e,t);if(o){var i=o.n,r=o.p;delete e._i[o.i],o.r=!0,r&&(r.n=i),i&&(i.p=r),e._f==o&&(e._f=i),e._l==o&&(e._l=r),e[Ve]--}return!!o},forEach:function(t){Ue(this,n);for(var e,o=R(t,1<arguments.length?arguments[1]:void 0,3);e=e?e.n:this._f;)for(o(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!He(Ue(this,n),t)}}),s&&ze(r.prototype,"size",{get:function(){return Ue(this,n)[Ve]}}),r},def:function(t,e,o){var i,r,n=He(t,e);return n?n.v=o:(t._l=n={i:r=Ze(e,!0),k:e,v:o,p:i=t._l,n:void 0,r:!1},t._f||(t._f=n),i&&(i.n=n),t[Ve]++,"F"!==r&&(t._i[r]=n)),t},getEntry:He,setStrong:function(t,o,e){Pt(t,o,function(t,e){this._t=Ue(t,o),this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,o=t._l;o&&o.r;)o=o.p;return t._t&&(t._l=o=o?o.n:t._t._f)?Ie(0,"keys"==e?o.k:"values"==e?o.v:[o.k,o.v]):(t._t=void 0,Ie(1))},e?"entries":"values",!e,!0),me(o)}},Xe={f:{}.propertyIsEnumerable},Ye=Object.getOwnPropertyDescriptor,Ke={f:s?Ye:function(t,e){if(t=U(t),e=I(e,!0),m)try{return Ye(t,e)}catch(t){}if(P(t,e))return M(!Xe.f.call(t,e),t[e])}},Je=function(t,e){if(y(t),!A(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},qe={set:Object.setPrototypeOf||("__proto__"in{}?function(t,o,i){try{(i=R(Function.call,Ke.f(Object.prototype,"__proto__").set,2))(t,[]),o=!(t instanceof Array)}catch(t){o=!0}return function(t,e){return Je(t,e),o?t.__proto__=e:i(t,e),t}}({},!1):void 0),check:Je},Qe=qe.set,$e=(function(a,t,e,o,p,i){var h=v[a],l=h,c=p?"set":"add",r=l&&l.prototype,n={},s=function(t){var o=r[t];j(r,t,"delete"==t?function(t){return!(i&&!A(t))&&o.call(this,0===t?0:t)}:"has"==t?function(t){return!(i&&!A(t))&&o.call(this,0===t?0:t)}:"get"==t?function(t){return i&&!A(t)?void 0:o.call(this,0===t?0:t)}:"add"==t?function(t){return o.call(this,0===t?0:t),this}:function(t,e){return o.call(this,0===t?0:t,e),this})};if("function"==typeof l&&(i||r.forEach&&!C(function(){(new l).entries().next()}))){var u=new l,g=u[c](i?{}:-0,1)!=u,y=C(function(){u.has(1)}),f=zt(function(t){new l(t)}),d=!i&&C(function(){for(var t=new l,e=5;e--;)t[c](e,e);return!t.has(-0)});f||(((l=t(function(t,e){_e(t,l,a);var o,i,r,n,s=(o=new h,i=l,(n=t.constructor)!==i&&"function"==typeof n&&(r=n.prototype)!==i.prototype&&A(r)&&Qe&&Qe(o,r),o);return null!=e&&Ge(e,p,s[c],s),s})).prototype=r).constructor=l),(y||d)&&(s("delete"),s("has"),p&&s("get")),(d||g)&&s(c),i&&r.clear&&delete r.clear}else l=o.getConstructor(t,a,p,c),De(l.prototype,e),Be.NEED=!0;ft(l,a),n[a]=l,k(k.G+k.W+k.F*(l!=h),n),i||o.setStrong(l,a,p)}("Set",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{add:function(t){return We.def(Ue(this,"Set"),t=0===t?0:t,t)}},We),f.Set,{f:ut}),to=w.f,eo={f:Object.getOwnPropertySymbols},oo=ot.concat("length","prototype"),io={f:Object.getOwnPropertyNames||function(t){return et(t,oo)}},ro=io.f,no={}.toString,so="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ao={f:function(t){return so&&"[object Window]"==no.call(t)?function(t){try{return ro(t)}catch(t){return so.slice()}}(t):ro(U(t))}},po=Be.KEY,ho=Ke.f,lo=w.f,co=ao.f,uo=v.Symbol,go=v.JSON,yo=go&&go.stringify,fo="prototype",vo=ut("_hidden"),Ao=ut("toPrimitive"),Co={}.propertyIsEnumerable,mo=J("symbol-registry"),Io=J("symbols"),bo=J("op-symbols"),wo=Object[fo],Mo="function"==typeof uo,So=v.QObject,xo=!So||!So[fo]||!So[fo].findChild,Po=s&&C(function(){return 7!=ct(lo({},"a",{get:function(){return lo(this,"a",{value:7}).a}})).a})?function(t,e,o){var i=ho(wo,e);i&&delete wo[e],lo(t,e,o),i&&t!==wo&&lo(wo,e,i)}:lo,Eo=function(t){var e=Io[t]=ct(uo[fo]);return e._k=t,e},Lo=Mo&&"symbol"==typeof uo.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof uo},To=function(t,e,o){return t===wo&&To(bo,e,o),y(t),e=I(e,!0),y(o),P(Io,e)?(o.enumerable?(P(t,vo)&&t[vo][e]&&(t[vo][e]=!1),o=ct(o,{enumerable:M(0,!1)})):(P(t,vo)||lo(t,vo,M(1,{})),t[vo][e]=!0),Po(t,e,o)):lo(t,e,o)},jo=function(t,e){y(t);for(var o,i=function(t){var e=it(t),o=eo.f;if(o)for(var i,r=o(t),n=Xe.f,s=0;r.length>s;)n.call(t,i=r[s++])&&e.push(i);return e}(e=U(e)),r=0,n=i.length;r<n;)To(t,o=i[r++],e[o]);return t},Fo=function(t){var e=Co.call(this,t=I(t,!0));return!(this===wo&&P(Io,t)&&!P(bo,t))&&(!(e||!P(this,t)||!P(Io,t)||P(this,vo)&&this[vo][t])||e)},Ro=function(t,e){if(t=U(t),e=I(e,!0),t!==wo||!P(Io,e)||P(bo,e)){var o=ho(t,e);return!o||!P(Io,e)||P(t,vo)&&t[vo][e]||(o.enumerable=!0),o}},Oo=function(t){for(var e,o=co(U(t)),i=[],r=0;o.length>r;)P(Io,e=o[r++])||e==vo||e==po||i.push(e);return i},No=function(t){for(var e,o=t===wo,i=co(o?bo:U(t)),r=[],n=0;i.length>n;)!P(Io,e=i[n++])||o&&!P(wo,e)||r.push(Io[e]);return r};Mo||(j((uo=function(){if(this instanceof uo)throw TypeError("Symbol is not a constructor!");var e=T(0<arguments.length?arguments[0]:void 0),o=function(t){this===wo&&o.call(bo,t),P(this,vo)&&P(this[vo],e)&&(this[vo][e]=!1),Po(this,e,M(1,t))};return s&&xo&&Po(wo,e,{configurable:!0,set:o}),Eo(e)})[fo],"toString",function(){return this._k}),Ke.f=Ro,w.f=To,io.f=ao.f=Oo,Xe.f=Fo,eo.f=No,s&&j(wo,"propertyIsEnumerable",Fo,!0),$e.f=function(t){return Eo(ut(t))}),k(k.G+k.W+k.F*!Mo,{Symbol:uo});for(var ko="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Do=0;ko.length>Do;)ut(ko[Do++]);for(var _o=it(ut.store),Go=0;_o.length>Go;)Ne=_o[Go++],void 0,ke=f.Symbol||(f.Symbol=v.Symbol||{}),"_"==Ne.charAt(0)||Ne in ke||to(ke,Ne,{value:$e.f(Ne)});k(k.S+k.F*!Mo,"Symbol",{for:function(t){return P(mo,t+="")?mo[t]:mo[t]=uo(t)},keyFor:function(t){if(!Lo(t))throw TypeError(t+" is not a symbol!");for(var e in mo)if(mo[e]===t)return e},useSetter:function(){xo=!0},useSimple:function(){xo=!1}}),k(k.S+k.F*!Mo,"Object",{create:function(t,e){return void 0===e?ct(t):jo(ct(t),e)},defineProperty:To,defineProperties:jo,getOwnPropertyDescriptor:Ro,getOwnPropertyNames:Oo,getOwnPropertySymbols:No}),go&&k(k.S+k.F*(!Mo||C(function(){var t=uo();return"[null]"!=yo([t])||"{}"!=yo({a:t})||"{}"!=yo(Object(t))})),"JSON",{stringify:function(t){for(var e,o,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(o=e=i[1],(A(e)||void 0!==t)&&!Lo(t))return Lt(e)||(e=function(t,e){if("function"==typeof o&&(e=o.call(this,t,e)),!Lo(e))return e}),i[1]=e,yo.apply(go,i)}}),uo[fo][Ao]||S(uo[fo],Ao,uo[fo].valueOf),ft(uo,"Symbol"),ft(Math,"Math",!0),ft(v.JSON,"JSON",!0);f.Symbol;var Bo=(v.Reflect||{}).apply,Uo=Function.apply;k(k.S+k.F*!C(function(){Bo(function(){})}),"Reflect",{apply:function(t,e,o){var i=F(t),r=y(o);return Bo?Bo(i,e,r):Uo.call(i,e,r)}});var zo=[].slice,Zo={},Vo=Function.bind||function(e){var o=F(this),i=zo.call(arguments,1),r=function(){var t=i.concat(zo.call(arguments));return this instanceof r?function(t,e,o){if(!(e in Zo)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";Zo[e]=Function("F,a","return new F("+i.join(",")+")")}return Zo[e](t,o)}(o,t.length,t):function(t,e,o){var i=void 0===o;switch(e.length){case 0:return i?t():t.call(o);case 1:return i?t(e[0]):t.call(o,e[0]);case 2:return i?t(e[0],e[1]):t.call(o,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(o,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(o,e[0],e[1],e[2],e[3])}return t.apply(o,e)}(o,t,e)};return A(o.prototype)&&(r.prototype=o.prototype),r},Ho=(v.Reflect||{}).construct,Wo=C(function(){function t(){}return!(Ho(function(){},[],t)instanceof t)}),Xo=!C(function(){Ho(function(){})});k(k.S+k.F*(Wo||Xo),"Reflect",{construct:function(t,e){F(t),y(e);var o=arguments.length<3?t:F(arguments[2]);if(Xo&&!Wo)return Ho(t,e,o);if(t==o){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(Vo.apply(t,i))}var r=o.prototype,n=ct(A(r)?r:Object.prototype),s=Function.apply.call(t,n,e);return A(s)?s:n}}),k(k.S+k.F*C(function(){Reflect.defineProperty(w.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,o){y(t),e=I(e,!0),y(o);try{return w.f(t,e,o),!0}catch(t){return!1}}});var Yo=Ke.f;k(k.S,"Reflect",{deleteProperty:function(t,e){var o=Yo(y(t),e);return!(o&&!o.configurable)&&delete t[e]}});var Ko=function(t){this._t=y(t),this._i=0;var e,o=this._k=[];for(e in t)o.push(e)};At(Ko,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),k(k.S,"Reflect",{enumerate:function(t){return new Ko(t)}}),k(k.S,"Reflect",{get:function t(e,o){var i,r,n=arguments.length<3?e:arguments[2];return y(e)===n?e[o]:(i=Ke.f(e,o))?P(i,"value")?i.value:void 0!==i.get?i.get.call(n):void 0:A(r=bt(e))?t(r,o,n):void 0}}),k(k.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return Ke.f(y(t),e)}}),k(k.S,"Reflect",{getPrototypeOf:function(t){return bt(y(t))}}),k(k.S,"Reflect",{has:function(t,e){return e in t}});var Jo=Object.isExtensible;k(k.S,"Reflect",{isExtensible:function(t){return y(t),!Jo||Jo(t)}});var qo=v.Reflect,Qo=qo&&qo.ownKeys||function(t){var e=io.f(y(t)),o=eo.f;return o?e.concat(o(t)):e};k(k.S,"Reflect",{ownKeys:Qo});var $o=Object.preventExtensions;k(k.S,"Reflect",{preventExtensions:function(t){y(t);try{return $o&&$o(t),!0}catch(t){return!1}}}),k(k.S,"Reflect",{set:function t(e,o,i){var r,n,s=arguments.length<4?e:arguments[3],a=Ke.f(y(e),o);if(!a){if(A(n=bt(e)))return t(n,o,i,s);a=M(0)}return P(a,"value")?!(!1===a.writable||!A(s)||((r=Ke.f(s,o)||M(0)).value=i,w.f(s,o,r),0)):void 0!==a.set&&(a.set.call(s,i),!0)}}),qe&&k(k.S,"Reflect",{setPrototypeOf:function(t,e){qe.check(t,e);try{return qe.set(t,e),!0}catch(t){return!1}}});f.Reflect;var ti=n(function(t,e){t.exports=function(){var t,e,o,r={},n=this;function i(t,e){var o,i=r;t=t.split("."),i=i||n,t[0]in i||!i.execScript||i.execScript("var "+t[0]);for(;t.length&&(o=t.shift());)t.length||void 0===e?i=i[o]&&i[o]!==Object.prototype[o]?i[o]:i[o]={}:i[o]=e}function s(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function A(){}function Qt(t){return t.xp||(t.xp=++a)}var a=0;function p(t){this.message="Assertion failed. See https://openlayers.org/en/v4.6.4/doc/errors/#"+t+" for details.",this.code=t,this.name="AssertionError"}function O(t,e,o,i){this.fa=t,this.la=e,this.ea=o,this.ka=i}function h(t,e,o,i,r){return void 0!==r?(r.fa=t,r.la=e,r.ea=o,r.ka=i,r):new O(t,e,o,i)}function l(t,e,o){return t.fa<=e&&e<=t.la&&t.ea<=o&&o<=t.ka}function N(t,e){if(!t)throw new p(e)}function C(t,e,o){return Math.min(Math.max(t,e),o)}s(p,Error);var c="cosh"in Math?Math.cosh:function(t){return((t=Math.exp(t))+1/t)/2};function m(t,e,o,i,r,n){var s=r-o,a=n-i;if(0!==s||0!==a){var p=((t-o)*s+(e-i)*a)/(s*s+a*a);1<p?(o=r,i=n):0<p&&(o+=s*p,i+=a*p)}return y(t,e,o,i)}function y(t,e,o,i){return(t=o-t)*t+(e=i-e)*e}function I(t){return t*Math.PI/180}function v(t,e){return(t%=e)*e<0?t+e:t}function $t(t,e,o){return t+o*(e-t)}function u(t,e,o){return void 0===o&&(o=[0,0]),o[0]=t[0]+2*e,o[1]=t[1]+2*e,o}function g(t,e,o){return void 0===o&&(o=[0,0]),o[0]=t[0]*e+.5|0,o[1]=t[1]*e+.5|0,o}function G(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}function b(t){for(var e=k(),o=0,i=t.length;o<i;++o)j(e,t[o]);return e}function B(t,e,o){return o?(o[0]=t[0]-e,o[1]=t[1]-e,o[2]=t[2]+e,o[3]=t[3]+e,o):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function f(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function d(t,e,o){return e=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,t=o<t[1]?t[1]-o:t[3]<o?o-t[3]:0,e*e+t*t}function w(t,e){return M(t,e[0],e[1])}function U(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function M(t,e,o){return t[0]<=e&&e<=t[2]&&t[1]<=o&&o<=t[3]}function S(t,e){var o=t[1],i=t[2],r=t[3],n=e[0];e=e[1];var s=0;return n<t[0]?s|=16:i<n&&(s|=4),e<o?s|=8:r<e&&(s|=2),0===s&&(s=1),s}function k(){return[1/0,1/0,-1/0,-1/0]}function z(t,e,o,i,r){return r?(r[0]=t,r[1]=e,r[2]=o,r[3]=i,r):[t,e,o,i]}function L(t){return z(1/0,1/0,-1/0,-1/0,t)}function x(t,e){var o=t[0];return t=t[1],z(o,t,o,t,e)}function P(t,e,o,i,r){return E(r=L(r),t,e,o,i)}function Z(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function T(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function j(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function E(t,e,o,i,r){for(;o<i;o+=r){var n=t,s=e[o],a=e[o+1];n[0]=Math.min(n[0],s),n[1]=Math.min(n[1],a),n[2]=Math.max(n[2],s),n[3]=Math.max(n[3],a)}return t}function F(t,e,o){var i;return(i=e.call(o,D(t)))||(i=e.call(o,_(t)))||(i=e.call(o,K(t)))?i:!!(i=e.call(o,Y(t)))&&i}function R(t){var e=0;return q(t)||(e=J(t)*W(t)),e}function D(t){return[t[0],t[1]]}function _(t){return[t[2],t[1]]}function V(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function H(t,e,o,i,r){var n=e*i[0]/2;i=e*i[1]/2,e=Math.cos(o);var s=Math.sin(o);o=n*e,n*=s,e*=i;var a=i*s,p=t[0],h=t[1];t=p-o+a,i=p-o-a,s=p+o-a,o=p+o+a,a=h-n-e,p=h-n+e;var l=h+n+e;return n=h+n-e,z(Math.min(t,i,s,o),Math.min(a,p,l,n),Math.max(t,i,s,o),Math.max(a,p,l,n),r)}function W(t){return t[3]-t[1]}function X(t,e,o){return o=o||k(),te(t,e)&&(o[0]=t[0]>e[0]?t[0]:e[0],o[1]=t[1]>e[1]?t[1]:e[1],o[2]=t[2]<e[2]?t[2]:e[2],o[3]=t[3]<e[3]?t[3]:e[3]),o}function Y(t){return[t[0],t[3]]}function K(t){return[t[2],t[3]]}function J(t){return t[2]-t[0]}function te(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function q(t){return t[2]<t[0]||t[3]<t[1]}function Q(t,e){var o=(t[2]-t[0])/2*(e-1);e=(t[3]-t[1])/2*(e-1),t[0]-=o,t[2]+=o,t[1]-=e,t[3]+=e}function $(t,e,o){t=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]],e(t,t,2);var i=[t[0],t[2],t[4],t[6]],r=[t[1],t[3],t[5],t[7]];return e=Math.min.apply(null,i),t=Math.min.apply(null,r),i=Math.max.apply(null,i),r=Math.max.apply(null,r),z(e,t,i,r,o)}var tt="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),i=1,r=arguments.length;i<r;++i){var n=arguments[i];if(null!=n)for(var s in n)n.hasOwnProperty(s)&&(o[s]=n[s])}return o};function et(t){for(var e in t)delete t[e]}function ot(t){var e,o=[];for(e in t)o.push(t[e]);return o}function ee(t){for(var e in t)return!1;return!e}function it(t){this.radius=t}function rt(t,e){for(var o=0,i=0,r=t.length;i<r-1;++i)o+=nt(t[i],t[i+1],e);return o}function nt(t,e,o){var i=I(t[1]),r=I(e[1]),n=(r-i)/2;return t=I(e[0]-t[0])/2,i=Math.sin(n)*Math.sin(n)+Math.sin(t)*Math.sin(t)*Math.cos(i)*Math.cos(r),2*o*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))}function st(t,e){for(var o=0,i=t.length,r=t[i-1][0],n=t[i-1][1],s=0;s<i;s++){var a=t[s][0],p=t[s][1];o+=I(a-r)*(2+Math.sin(I(n))+Math.sin(I(p))),r=a,n=p}return o*e*e/2}it.prototype.a=function(t){return st(t,this.radius)},it.prototype.b=function(t,e){return nt(t,e,this.radius)},it.prototype.offset=function(t,e,o){var i=I(t[1]);e/=this.radius;var r=Math.asin(Math.sin(i)*Math.cos(e)+Math.cos(i)*Math.sin(e)*Math.cos(o));return[180*(I(t[0])+Math.atan2(Math.sin(o)*Math.sin(e)*Math.cos(i),Math.cos(e)-Math.sin(i)*Math.sin(r)))/Math.PI,180*r/Math.PI]};var at={};at.degrees=12741994*Math.PI/360,at.ft=.3048,at.m=1,at["us-ft"]=1200/3937;var pt=null;function ht(t){this.wb=t.code,this.a=t.units,this.i=void 0!==t.extent?t.extent:null,this.oe=void 0!==t.worldExtent?t.worldExtent:null,this.b=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.c=void 0!==t.global&&t.global,this.g=!(!this.c||!this.i),this.j=t.getPointResolution,this.f=null,this.l=t.metersPerUnit;var e=t.code,o=pt||window.proj4;"function"==typeof o&&void 0!==(e=o.defs(e))&&(void 0!==e.axis&&void 0===t.axisOrientation&&(this.b=e.axis),void 0===t.metersPerUnit&&(this.l=e.to_meter),void 0===t.units&&(this.a=e.units))}function lt(t){ht.call(this,{code:t,units:"m",extent:ut,global:!0,worldExtent:gt,getPointResolution:function(t,e){return t/c(e[1]/6378137)}})}(t=ht.prototype).ml=function(){return this.wb},t.G=function(){return this.i},t.zo=function(){return this.a},t.Bc=function(){return this.l||at[this.a]},t.Vl=function(){return this.oe},t.il=function(){return this.b},t.Gm=function(){return this.c},t.xq=function(t){this.c=t,this.g=!(!t||!this.i)},t.Si=function(t){this.i=t,this.g=!(!this.c||!t)},t.Sj=function(t){this.oe=t},t.wq=function(t){this.j=t},s(lt,ht);var ct=6378137*Math.PI,ut=[-ct,-ct,ct,ct],gt=[-180,-85,180,85],yt=[new lt("EPSG:3857"),new lt("EPSG:102100"),new lt("EPSG:102113"),new lt("EPSG:900913"),new lt("urn:ogc:def:crs:EPSG:6.18:3:3857"),new lt("urn:ogc:def:crs:EPSG::3857"),new lt("http://www.opengis.net/gml/srs/epsg.xml#3857")];function ft(t,e,o){var i=t.length;o=1<o?o:2,void 0===e&&(e=2<o?t.slice():Array(i));for(var r=0;r<i;r+=o){e[r]=ct*t[r]/180;var n=6378137*Math.log(Math.tan(Math.PI*(t[r+1]+90)/360));ct<n?n=ct:n<-ct&&(n=-ct),e[r+1]=n}return e}function dt(t,e,o){var i=t.length;o=1<o?o:2,void 0===e&&(e=2<o?t.slice():Array(i));for(var r=0;r<i;r+=o)e[r]=180*t[r]/ct,e[r+1]=360*Math.atan(Math.exp(t[r+1]/6378137))/Math.PI-90;return e}function vt(t,e){ht.call(this,{code:t,units:"degrees",extent:At,axisOrientation:e,global:!0,metersPerUnit:Ct,worldExtent:At})}s(vt,ht);var At=[-180,-90,180,90],Ct=6378137*Math.PI/180,mt=[new vt("CRS:84"),new vt("EPSG:4326","neu"),new vt("urn:ogc:def:crs:EPSG::4326","neu"),new vt("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new vt("urn:ogc:def:crs:OGC:1.3:CRS84"),new vt("urn:ogc:def:crs:OGC:2:84"),new vt("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new vt("urn:x-ogc:def:crs:EPSG:4326","neu")],It={},bt={};function wt(t,e,o){t=t.wb,e=e.wb,t in bt||(bt[t]={}),bt[t][e]=o}function Mt(t,e){var o;return t in bt&&e in bt[t]&&(o=bt[t][e]),o}var St=new it(6371008.8);function xt(t,e,o,i){var r=(t=Ft(t)).j;return r?e=r(e,o):"degrees"==t.a&&!i||"degrees"==i||(r=Nt(t,Ft("EPSG:4326")),e=[o[0]-e/2,o[1],o[0]+e/2,o[1],o[0],o[1]-e/2,o[0],o[1]+e/2],e=r(e,e,2),e=(St.b(e.slice(0,2),e.slice(2,4))+St.b(e.slice(4,6),e.slice(6,8)))/2,void 0!==(t=i?at[i]:t.Bc())&&(e/=t)),e}function Pt(t){t.forEach(Et),t.forEach(function(e){t.forEach(function(t){e!==t&&wt(e,t,Dt)})})}function Et(t){wt(It[t.wb]=t,t,Dt)}function Lt(t){return t?"string"==typeof t?Ft(t):t:Ft("EPSG:3857")}function Tt(t,e,o,i){t=Ft(t),e=Ft(e),wt(t,e,jt(o)),wt(e,t,jt(i))}function jt(s){return function(t,e,o){var i,r=t.length;for(o=void 0!==o?o:2,e=void 0!==e?e:Array(r),i=0;i<r;i+=o){var n=s([t[i],t[i+1]]);for(e[i]=n[0],e[i+1]=n[1],n=o-1;2<=n;--n)e[i+n]=t[i+n]}return e}}function Ft(t){var e=null;if(t instanceof ht)e=t;else if("string"==typeof t&&!(e=It[t]||null)){var o=pt||window.proj4;"function"==typeof o&&void 0!==o.defs(t)&&Et(e=new ht({code:t}))}return e}function Rt(t,e){if(t===e)return!0;var o=t.a===e.a;return t.wb===e.wb?o:Nt(t,e)===Dt&&o}function Ot(t,e){return t=Ft(t),e=Ft(e),Nt(t,e)}function Nt(t,e){var o=t.wb,i=e.wb,r=Mt(o,i);if(!r){var n=pt||window.proj4;if("function"==typeof n){var s=n.defs(o),a=n.defs(i);void 0!==s&&void 0!==a&&(s===a?Pt([e,t]):(r=n(i,o),Tt(e,t,r.forward,r.inverse)),r=Mt(o,i))}}return r||(r=kt),r}function kt(t,e){if(void 0!==e&&t!==e){for(var o=0,i=t.length;o<i;++o)e[o]=t[o];t=e}return t}function Dt(t,e){if(void 0!==e){for(var o=0,i=t.length;o<i;++o)e[o]=t[o];t=e}else t=t.slice();return t}function _t(t,e,o){return Ot(e,o)(t,void 0,t.length)}function Gt(t,e,o){return e=Ot(e,o),$(t,e)}function Bt(){Pt(yt),Pt(mt),mt.forEach(function(e){yt.forEach(function(t){wt(e,t,ft),wt(t,e,dt)})})}function Ut(t,e){return e<t?1:t<e?-1:0}function zt(t,e){return 0<=t.indexOf(e)}function Zt(t,e,o){var i=t.length;if(t[0]<=e)return 0;if(!(e<=t[i-1]))if(0<o){for(o=1;o<i;++o)if(t[o]<e)return o-1}else if(o<0){for(o=1;o<i;++o)if(t[o]<=e)return o}else for(o=1;o<i;++o){if(t[o]==e)return o;if(t[o]<e)return t[o-1]-e<e-t[o]?o-1:o}return i-1}function Vt(t,e){var o=Array.isArray(e)?e:[e],i=o.length;for(e=0;e<i;e++)t[t.length]=o[e]}function Ht(t,e){for(var o,i=t.length>>>0,r=0;r<i;r++)if(o=t[r],e(o,r,t))return o;return null}function oe(t,e){var o=t.length;if(o!==e.length)return!1;for(var i=0;i<o;i++)if(t[i]!==e[i])return!1;return!0}function Wt(t){var e,o=$s,i=t.length,r=Array(t.length);for(e=0;e<i;e++)r[e]={index:e,value:t[e]};for(r.sort(function(t,e){return o(t.value,e.value)||t.index-e.index}),e=0;e<t.length;e++)t[e]=r[e].value}function Xt(o,i){var r;return o.every(function(t,e){return!i(t,r=e,o)})?-1:r}function Yt(t,e,o,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=o,i):[t,e,o]}function Kt(t){var o,i;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.b=t.resolutions,N((o=this.b,i=function(t,e){return e-t}||Ut,o.every(function(t,e){return 0===e||!(0<(t=i(o[e-1],t))||0===t)})),17),!t.origins)for(var e=0,r=this.b.length-1;e<r;++e)if(n){if(this.b[e]/this.b[e+1]!==n){n=void 0;break}}else var n=this.b[e]/this.b[e+1];this.l=n,this.maxZoom=this.b.length-1,this.g=void 0!==t.origin?t.origin:null,this.c=null,void 0!==t.origins&&(this.c=t.origins,N(this.c.length==this.b.length,20)),void 0===(n=t.extent)||this.g||this.c||(this.g=Y(n)),N(!this.g&&this.c||this.g&&!this.c,18),this.i=null,void 0!==t.tileSizes&&(this.i=t.tileSizes,N(this.i.length==this.b.length,19)),this.j=void 0!==t.tileSize?t.tileSize:this.i?null:256,N(!this.j&&this.i||this.j&&!this.i,22),this.o=void 0!==n?n:null,this.a=null,this.f=[0,0],void 0!==t.sizes?this.a=t.sizes.map(function(t){return new O(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):n&&function(t,e){for(var o=t.b.length,i=Array(o),r=t.minZoom;r<o;++r)i[r]=re(t,e,r);t.a=i}(this,n)}Bt();var Jt=[0,0,0];function qt(t,e,o,i,r){var n=null,s=e[0]-1;if(2===t.l)var a=e[1],p=e[2];else n=t.Ma(e,r);for(;s>=t.minZoom;){if(2===t.l?(a=Math.floor(a/2),p=Math.floor(p/2),e=h(a,a,p,p,i)):e=re(t,n,s,i),o.call(null,s,e))return!0;--s}return!1}function ie(t,e,o,i){return e[0]<t.maxZoom?2===t.l?(t=2*e[1],e=2*e[2],h(t,t+1,e,e+1,o)):(i=t.Ma(e,i),re(t,i,e[0]+1,o)):null}function re(t,e,o,i){se(t,e[0],e[1],o,!1,Jt);var r=Jt[1],n=Jt[2];return se(t,e[2],e[3],o,!0,Jt),h(r,Jt[1],n,Jt[2],i)}function ne(t,e){var o=t.Ic(e[0]),i=t.Ta(e[0]);return t=G(t.Za(e[0]),t.f),[o[0]+(e[1]+.5)*t[0]*i,o[1]+(e[2]+.5)*t[1]*i]}function se(t,e,o,i,r,n){var s=t.Ic(i),a=t.Ta(i);return t=G(t.Za(i),t.f),e=Math.floor((e-s[0])/a+(r?.5:0))/t[0],o=Math.floor((o-s[1])/a+(r?0:.5))/t[1],r?(e=Math.ceil(e)-1,o=Math.ceil(o)-1):(e=Math.floor(e),o=Math.floor(o)),Yt(i,e,o,n)}function ae(t){var e=t.f;return e||(e=le(t),t.f=e),e}function pe(t){var e={};return tt(e,void 0!==t?t:{}),void 0===e.extent&&(e.extent=Ft("EPSG:3857").G()),e.resolutions=he(e.extent,e.maxZoom,e.tileSize),delete e.maxZoom,new Kt(e)}function he(t,e,o){e=void 0!==e?e:42;var i=W(t);for(t=J(t),o=G(void 0!==o?o:256),o=Math.max(t/o[0],i/o[1]),e+=1,i=Array(e),t=0;t<e;++t)i[t]=o/Math.pow(2,t);return i}function le(t,e,o){return t=ce(t),e=he(t,e,o),new Kt({extent:t,origin:Y(t),resolutions:e,tileSize:o})}function ce(t){var e=(t=Ft(t)).G();return e||(t=180*at.degrees/t.Bc(),e=z(-t,-t,t,t)),e}function ue(t){this.og=t.html}function ge(t,e,o,i){for(var r,n=0,s=t.length;n<s;++n)if((r=t[n]).listener===e&&r.Ch===o)return i&&(r.deleteIndex=n),r}function ye(t,e){return(t=t.ab)?t[e]:void 0}function fe(t){var e=t.ab;return e||(e=t.ab={}),e}function de(t,e){var o=ye(t,e);if(o){for(var i=0,r=o.length;i<r;++i)t.removeEventListener(e,o[i].Dh),et(o[i]);o.length=0,(o=t.ab)&&(delete o[e],0===Object.keys(o).length&&delete t.ab)}}function ve(t,e,o,i,r){var n,s=fe(t),a=s[e];return a||(a=s[e]=[]),(s=ge(a,o,i,!1))?r||(s.Eh=!1):(s={Ch:i,Eh:!!r,listener:o,target:t,type:e},t.addEventListener(e,(n=s).Dh=function(t){var e=n.listener,o=n.Ch||n.target;return n.Eh&&me(n),e.call(o,t)}),a.push(s)),s}function Ae(t,e,o,i){return ve(t,e,o,i,!0)}function Ce(t,e,o,i){(t=ye(t,e))&&(o=ge(t,o,i,!0))&&me(o)}function me(t){if(t&&t.target){t.target.removeEventListener(t.type,t.Dh);var e=ye(t.target,t.type);if(e){var o="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==o&&e.splice(o,1),0===e.length&&de(t.target,t.type)}et(t)}}function Ie(t){var e,o=fe(t);for(e in o)de(t,e)}function be(){}function we(t){t.Ub||(t.Ub=!0,t.ia())}function Me(t){this.type=t,this.target=null}function Se(t){t.stopPropagation()}function xe(){this.Wa={},this.qa={},this.oa={}}function Pe(t,e){return e?e in t.oa:0<Object.keys(t.oa).length}function Ee(){xe.call(this),this.g=0}function Le(t){Ee.call(this),Qt(this),this.N={},void 0!==t&&this.H(t)}(t=Kt.prototype).Vf=function(t,e,o){for(var i=(t=re(this,t,e)).fa,r=t.la;i<=r;++i)for(var n=t.ea,s=t.ka;n<=s;++n)o([e,i,n])},t.G=function(){return this.o},t.mj=function(){return this.maxZoom},t.nj=function(){return this.minZoom},t.Ic=function(t){return this.g?this.g:this.c[t]},t.Ta=function(t){return this.b[t]},t.oj=function(){return this.b},t.Ma=function(t,e){var o=this.Ic(t[0]),i=this.Ta(t[0]),r=G(this.Za(t[0]),this.f),n=o[0]+t[1]*r[0]*i;return t=o[1]+t[2]*r[1]*i,z(n,t,n+r[0]*i,t+r[1]*i,e)},t.Le=function(t,e,o){var i=t[0],r=t[1];t=this.Dc(e);var n=e/this.Ta(t),s=this.Ic(t),a=G(this.Za(t),this.f);return i=n*Math.floor((i-s[0])/e+0)/a[0],e=n*Math.floor((r-s[1])/e+.5)/a[1],i=Math.floor(i),e=Math.floor(e),Yt(t,i,e,o)},t.jg=function(t,e,o){return se(this,t[0],t[1],e,!1,o)},t.Za=function(t){return this.j?this.j:this.i[t]},t.Dc=function(t,e){return C(Zt(this.b,t,e||0),this.minZoom,this.maxZoom)},ue.prototype.b=function(){return this.og},be.prototype.Ub=!1,be.prototype.ia=A,Me.prototype.preventDefault=Me.prototype.stopPropagation=function(){this.sj=!0},s(xe,be),xe.prototype.addEventListener=function(t,e){var o=this.oa[t];o||(o=this.oa[t]=[]),-1===o.indexOf(e)&&o.push(e)},xe.prototype.b=function(t){var e="string"==typeof t?new Me(t):t;t=e.type;var o=(e.target=this).oa[t];if(o){t in this.qa||(this.qa[t]=0,this.Wa[t]=0),++this.qa[t];for(var i=0,r=o.length;i<r;++i)if(!1===o[i].call(this,e)||e.sj){var n=!1;break}if(--this.qa[t],0===this.qa[t]){for(e=this.Wa[t],delete this.Wa[t];e--;)this.removeEventListener(t,A);delete this.qa[t]}return n}},xe.prototype.ia=function(){Ie(this)},xe.prototype.removeEventListener=function(t,e){var o=this.oa[t];o&&(e=o.indexOf(e),t in this.Wa?(o[e]=A,++this.Wa[t]):(o.splice(e,1),0===o.length&&delete this.oa[t]))},s(Ee,xe),(t=Ee.prototype).u=function(){++this.g,this.b("change")},t.K=function(){return this.g},t.I=function(t,e,o){if(Array.isArray(t)){for(var i=t.length,r=Array(i),n=0;n<i;++n)r[n]=ve(this,t[n],e,o);return r}return ve(this,t,e,o)},t.once=function(t,e,o){if(Array.isArray(t)){for(var i=t.length,r=Array(i),n=0;n<i;++n)r[n]=Ae(this,t[n],e,o);return r}return Ae(this,t,e,o)},t.J=function(t,e,o){if(Array.isArray(t))for(var i=0,r=t.length;i<r;++i)Ce(this,t[i],e,o);else Ce(this,t,e,o)},s(Le,Ee);var Te={};function je(t){return Te.hasOwnProperty(t)?Te[t]:Te[t]="change:"+t}function Fe(t,e,o){var i=je(e);t.b(new Re(i,e,o)),t.b(new Re("propertychange",e,o))}function Re(t,e,o){Me.call(this,t),this.key=e,this.oldValue=o}function Oe(t,e){if(Le.call(this),this.c=!!(e||{}).unique,this.a=t||[],this.c)for(t=0,e=this.a.length;t<e;++t)ke(this,this.a[t],t);Ne(this)}function Ne(t){t.set(De,t.a.length)}function ke(t,e,o){for(var i=0,r=t.a.length;i<r;++i)if(t.a[i]===e&&i!==o)throw new p(58)}(t=Le.prototype).get=function(t){var e;return this.N.hasOwnProperty(t)&&(e=this.N[t]),e},t.P=function(){return Object.keys(this.N)},t.L=function(){return tt({},this.N)},t.set=function(t,e,o){o?this.N[t]=e:(o=this.N[t],this.N[t]=e,o!==e&&Fe(this,t,o))},t.H=function(t,e){for(var o in t)this.set(o,t[o],e)},t.R=function(t,e){if(t in this.N){var o=this.N[t];delete this.N[t],e||Fe(this,t,o)}},s(Re,Me),s(Oe,Le),(t=Oe.prototype).clear=function(){for(;0<this.kc();)this.pop()},t.qg=function(t){var e,o=0;for(e=t.length;o<e;++o)this.push(t[o]);return this},t.forEach=function(t,e){t=e?t.bind(e):t,e=this.a;for(var o=0,i=e.length;o<i;++o)t(e[o],o,e)},t.Xm=function(){return this.a},t.item=function(t){return this.a[t]},t.kc=function(){return this.get(De)},t.Re=function(t,e){this.c&&ke(this,e),this.a.splice(t,0,e),Ne(this),this.b(new _e("add",e))},t.pop=function(){return this.Wg(this.kc()-1)},t.push=function(t){this.c&&ke(this,t);var e=this.kc();return this.Re(e,t),this.kc()},t.remove=function(t){var e,o=this.a,i=0;for(e=o.length;i<e;++i)if(o[i]===t)return this.Wg(i)},t.Wg=function(t){var e=this.a[t];return this.a.splice(t,1),Ne(this),this.b(new _e("remove",e)),e},t.rq=function(t,e){var o=this.kc();if(t<o)this.c&&ke(this,e,t),o=this.a[t],this.a[t]=e,this.b(new _e("remove",o)),this.b(new _e("add",e));else{for(;o<t;++o)this.Re(o,void 0);this.Re(t,e)}};var De="length";function _e(t,e){Me.call(this,t),this.element=e}function Ge(t,e,o){Me.call(this,t),this.map=e,this.frameState=void 0!==o?o:null}function Be(t,e,o,i,r){Ge.call(this,t,e,r),this.originalEvent=o,this.pixel=e.ud(o),this.coordinate=e.Ra(this.pixel),this.dragging=void 0!==i&&i}s(_e,Me),s(Ge,Me),s(Be,Ge),Be.prototype.preventDefault=function(){Ge.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},Be.prototype.stopPropagation=function(){Ge.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()};var Ue=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function ze(t,e){var o,i,r=Ue.length;for(i=0;i<r;++i)try{if(o=t.getContext(Ue[i],e))return o}catch(t){}return null}var Ze,Ve,He="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",We=-1!==He.indexOf("firefox"),Xe=-1!==He.indexOf("safari")&&-1==He.indexOf("chrom"),Ye=-1!==He.indexOf("webkit")&&-1==He.indexOf("edge"),Ke=-1!==He.indexOf("macintosh"),Je=window.devicePixelRatio||1,qe=!1,Qe=function(){if(!("HTMLCanvasElement"in window))return!1;try{var t=document.createElement("CANVAS").getContext("2d");return!!t&&(void 0!==t.setLineDash&&(qe=!0),!0)}catch(t){return!1}}(),$e="DeviceOrientationEvent"in window,to="geolocation"in navigator,eo="ontouchstart"in window,oo="PointerEvent"in window,io=!!navigator.msPointerEnabled,ro=!1,no=[];if("WebGLRenderingContext"in window)try{var so=ze(document.createElement("CANVAS"),{failIfMajorPerformanceCaveat:!0});so&&(ro=!0,Ve=so.getParameter(so.MAX_TEXTURE_SIZE),no=so.getSupportedExtensions())}catch(t){}Ze=ro,o=no,e=Ve;var ao={gr:"singleclick",Wq:"click",Xq:"dblclick",$q:"pointerdrag",cr:"pointermove",Zq:"pointerdown",fr:"pointerup",er:"pointerover",dr:"pointerout",ar:"pointerenter",br:"pointerleave",Yq:"pointercancel"};function po(t,e,o,i,r){Be.call(this,t,e,o.b,i,r),this.b=o}function ho(t,e){this.b=t,this.i=e}function lo(t){ho.call(this,t,{mousedown:this.Jm,mousemove:this.Km,mouseup:this.Nm,mouseover:this.Mm,mouseout:this.Lm}),this.a=t.g,this.g=[]}function co(t,e){t=t.g;var o=e.clientX;e=e.clientY;for(var i,r=0,n=t.length;r<n&&(i=t[r]);r++){var s=Math.abs(e-i[1]);if(Math.abs(o-i[0])<=25&&s<=25)return!0}return!1}function uo(t){var e=Mo(t,t),o=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),o()},e.pointerId=1,e.isPrimary=!0,e.pointerType="mouse",e}function go(t){ho.call(this,t,{MSPointerDown:this.Sm,MSPointerMove:this.Tm,MSPointerUp:this.Wm,MSPointerOut:this.Um,MSPointerOver:this.Vm,MSPointerCancel:this.Rm,MSGotPointerCapture:this.Pm,MSLostPointerCapture:this.Qm}),this.a=t.g,this.g=["","unavailable","touch","pen","mouse"]}function yo(t,e){var o=e;return"number"==typeof e.pointerType&&((o=Mo(e,e)).pointerType=t.g[e.pointerType]),o}function fo(t){ho.call(this,t,{pointerdown:this.Kp,pointermove:this.Lp,pointerup:this.Op,pointerout:this.Mp,pointerover:this.Np,pointercancel:this.Jp,gotpointercapture:this.Wl,lostpointercapture:this.Hm})}function vo(t,e,o){var i,r;Me.call(this,t),this.b=e,t=o||{},this.buttons=function(t){if(t.buttons||Ao)t=t.buttons;else switch(t.which){case 1:t=1;break;case 2:t=4;break;case 3:t=2;break;default:t=0}return t}(t),this.pressure=(i=t,r=this.buttons,i.pressure?i.pressure:r?.5:0),this.bubbles="bubbles"in t&&t.bubbles,this.cancelable="cancelable"in t&&t.cancelable,this.view="view"in t?t.view:null,this.detail="detail"in t?t.detail:null,this.screenX="screenX"in t?t.screenX:0,this.screenY="screenY"in t?t.screenY:0,this.clientX="clientX"in t?t.clientX:0,this.clientY="clientY"in t?t.clientY:0,this.ctrlKey="ctrlKey"in t&&t.ctrlKey,this.altKey="altKey"in t&&t.altKey,this.shiftKey="shiftKey"in t&&t.shiftKey,this.metaKey="metaKey"in t&&t.metaKey,this.button="button"in t?t.button:0,this.relatedTarget="relatedTarget"in t?t.relatedTarget:null,this.pointerId="pointerId"in t?t.pointerId:0,this.width="width"in t?t.width:0,this.height="height"in t?t.height:0,this.tiltX="tiltX"in t?t.tiltX:0,this.tiltY="tiltY"in t?t.tiltY:0,this.pointerType="pointerType"in t?t.pointerType:"",this.isPrimary="isPrimary"in t&&t.isPrimary,e.preventDefault&&(this.preventDefault=function(){e.preventDefault()})}s(po,Be),s(lo,ho),(t=lo.prototype).Jm=function(t){if(!co(this,t)){1..toString()in this.a&&this.cancel(t);var e=uo(t);this.a[1..toString()]=t,Eo(this.b,"pointerdown",e,t)}},t.Km=function(t){if(!co(this,t)){var e=uo(t);Eo(this.b,"pointermove",e,t)}},t.Nm=function(t){if(!co(this,t)){var e=this.a[1..toString()];e&&e.button===t.button&&(e=uo(t),Eo(this.b,"pointerup",e,t),delete this.a[1..toString()])}},t.Mm=function(t){if(!co(this,t)){var e=uo(t);Po(this.b,e,t)}},t.Lm=function(t){if(!co(this,t)){var e=uo(t);xo(this.b,e,t)}},t.cancel=function(t){var e=uo(t);this.b.cancel(e,t),delete this.a[1..toString()]},s(go,ho),(t=go.prototype).Sm=function(t){var e=yo(this,this.a[t.pointerId.toString()]=t);Eo(this.b,"pointerdown",e,t)},t.Tm=function(t){var e=yo(this,t);Eo(this.b,"pointermove",e,t)},t.Wm=function(t){var e=yo(this,t);Eo(this.b,"pointerup",e,t),delete this.a[t.pointerId.toString()]},t.Um=function(t){var e=yo(this,t);xo(this.b,e,t)},t.Vm=function(t){var e=yo(this,t);Po(this.b,e,t)},t.Rm=function(t){var e=yo(this,t);this.b.cancel(e,t),delete this.a[t.pointerId.toString()]},t.Qm=function(t){this.b.b(new vo("lostpointercapture",t,t))},t.Pm=function(t){this.b.b(new vo("gotpointercapture",t,t))},s(fo,ho),(t=fo.prototype).Kp=function(t){Lo(this.b,t)},t.Lp=function(t){Lo(this.b,t)},t.Op=function(t){Lo(this.b,t)},t.Mp=function(t){Lo(this.b,t)},t.Np=function(t){Lo(this.b,t)},t.Jp=function(t){Lo(this.b,t)},t.Hm=function(t){Lo(this.b,t)},t.Wl=function(t){Lo(this.b,t)},s(vo,Me);var Ao=!1;try{Ao=1===new MouseEvent("click",{buttons:1}).buttons}catch(t){}function Co(t,e){ho.call(this,t,{touchstart:this.Qq,touchmove:this.Pq,touchend:this.Oq,touchcancel:this.Nq}),this.a=t.g,this.j=e,this.g=void 0,this.f=0,this.c=void 0}function mo(t,e,o){function i(){e.preventDefault()}var r,n,s,a,p=Array.prototype.slice.call(e.changedTouches),h=p.length;for(r=0;r<h;++r){var l=(n=t,s=e,a=p[r],(s=Mo(s,a)).pointerId=a.identifier+2,s.bubbles=!0,s.cancelable=!0,s.detail=n.f,s.button=0,s.buttons=1,s.width=a.webkitRadiusX||a.radiusX||0,s.height=a.webkitRadiusY||a.radiusY||0,s.pressure=a.webkitForce||a.force||.5,s.isPrimary=n.g===a.identifier,s.pointerType="touch",s.clientX=a.clientX,s.clientY=a.clientY,s.screenX=a.screenX,s.screenY=a.screenY,s);l.preventDefault=i,o.call(t,e,l)}}function Io(t,e){var o=t.j.g;if(e=e.changedTouches[0],t.g===e.identifier){var i=[e.clientX,e.clientY];o.push(i),setTimeout(function(){var t=o.indexOf(i);-1<t&&o.splice(t,1)},2500)}}function bo(t){xe.call(this),this.f=t,this.g={},this.i={},this.a=[],oo?wo(this,new fo(this)):io?wo(this,new go(this)):(wo(this,t=new lo(this)),eo&&wo(this,new Co(this,t))),t=this.a.length;for(var e,o=0;o<t;o++)e=this.a[o],i=this,Object.keys(e.i).forEach(function(t){ve(this.f,t,this.c,this)},i);var i}function wo(t,o){var e=Object.keys(o.i);e&&(e.forEach(function(t){var e=o.i[t];e&&(this.i[t]=e.bind(o))},t),t.a.push(o))}function Mo(t,e){for(var o,i={},r=0,n=To.length;r<n;r++)o=To[r][0],i[o]=t[o]||e[o]||To[r][1];return i}function So(t,e,o){e.bubbles=!1,Eo(t,"pointerleave",e,o)}function xo(t,e,o){t.out(e,o);var i=e.target,r=e.relatedTarget;i&&r&&i.contains(r)||So(t,e,o)}function Po(t,e,o){e.bubbles=!0,Eo(t,"pointerover",e,o);var i=e.target,r=e.relatedTarget;i&&r&&i.contains(r)||(e.bubbles=!1,Eo(t,"pointerenter",e,o))}function Eo(t,e,o,i){t.b(new vo(e,i,o))}function Lo(t,e){t.b(new vo(e.type,e,e))}s(Co,ho),(t=Co.prototype).Ej=function(){this.f=0,this.c=void 0},t.Qq=function(t){var e=t.touches,o=Object.keys(this.a),i=o.length;if(i>=e.length){var r,n=[];for(r=0;r<i;++r){var s,a=o[r],p=this.a[a];if(!(s=1==a))t:{for(var h=e.length,l=0;l<h;l++)if((s=e[l]).identifier===a-2){s=!0;break t}s=!1}s||n.push(p.out)}for(r=0;r<n.length;++r)this.Of(t,n[r])}e=t.changedTouches[0],(0===(o=Object.keys(this.a).length)||1===o&&1..toString()in this.a)&&(this.g=e.identifier,void 0!==this.c&&clearTimeout(this.c)),Io(this,t),this.f++,mo(this,t,this.Fp)},t.Fp=function(t,e){this.a[e.pointerId]={target:e.target,out:e,pj:e.target};var o=this.b;e.bubbles=!0,Eo(o,"pointerover",e,t),o=this.b,e.bubbles=!1,Eo(o,"pointerenter",e,t),Eo(this.b,"pointerdown",e,t)},t.Pq=function(t){t.preventDefault(),mo(this,t,this.Om)},t.Om=function(t,e){var o=this.a[e.pointerId];if(o){var i=o.out,r=o.pj;Eo(this.b,"pointermove",e,t),i&&r!==e.target&&(i.relatedTarget=e.target,e.relatedTarget=r,i.target=r,e.target?(xo(this.b,i,t),Po(this.b,e,t)):(e.target=r,e.relatedTarget=null,this.Of(t,e))),o.out=e,o.pj=e.target}},t.Oq=function(t){Io(this,t),mo(this,t,this.Rq)},t.Rq=function(t,e){Eo(this.b,"pointerup",e,t),this.b.out(e,t),So(this.b,e,t),delete this.a[e.pointerId],e.isPrimary&&(this.g=void 0,this.c=setTimeout(this.Ej.bind(this),200))},t.Nq=function(t){mo(this,t,this.Of)},t.Of=function(t,e){this.b.cancel(e,t),this.b.out(e,t),So(this.b,e,t),delete this.a[e.pointerId],e.isPrimary&&(this.g=void 0,this.c=setTimeout(this.Ej.bind(this),200))},s(bo,xe),bo.prototype.c=function(t){var e=this.i[t.type];e&&e(t)},bo.prototype.out=function(t,e){t.bubbles=!0,Eo(this,"pointerout",t,e)},bo.prototype.cancel=function(t,e){Eo(this,"pointercancel",t,e)},bo.prototype.ia=function(){for(var t,e=this.a.length,o=0;o<e;o++)t=this.a[o],i=this,Object.keys(t.i).forEach(function(t){Ce(this.f,t,this.c,this)},i);var i;xe.prototype.ia.call(this)};var To=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];function jo(t,e){xe.call(this),this.g=t,this.j=0,this.l=!1,this.i=[],this.D=e?e*Je:Je,this.c=null,t=this.g.a,this.N=0,this.o={},this.f=new bo(t),this.a=null,this.s=ve(this.f,"pointerdown",this.pm,this),this.v=ve(this.f,"pointermove",this.mq,this)}function Fo(t,e){"pointerup"==e.type||"pointercancel"==e.type?delete t.o[e.pointerId]:"pointerdown"==e.type&&(t.o[e.pointerId]=!0),t.N=Object.keys(t.o).length}function Ro(t,e){return Math.abs(e.clientX-t.c.clientX)>t.D||Math.abs(e.clientY-t.c.clientY)>t.D}function Oo(t,e){this.s=t,this.c=e,this.b=[],this.g=[],this.a={}}function No(t){var e=t.b,o=t.g,i=e[0];return 1==e.length?(e.length=0,o.length=0):(e[0]=e.pop(),o[0]=o.pop(),ko(t,0)),e=t.c(i),delete t.a[e],i}function ko(t,e){for(var o=t.b,i=t.g,r=o.length,n=o[e],s=i[e],a=e;e<r>>1;){var p=2*e+1,h=2*e+2;p=h<r&&i[h]<i[p]?h:p,o[e]=o[p],i[e]=i[p],e=p}o[e]=n,i[e]=s,Do(t,a,e)}function Do(t,e,o){var i=t.b;t=t.g;for(var r=i[o],n=t[o];e<o;){var s=o-1>>1;if(!(t[s]>n))break;i[o]=i[s],t[o]=t[s],o=s}i[o]=r,t[o]=n}function _o(t){var e,o=t.s,i=t.b,r=t.g,n=0,s=i.length;for(e=0;e<s;++e){var a=i[e],p=o(a);1/0==p?delete t.a[t.c(a)]:(r[n]=p,i[n++]=a)}for(i.length=n,r.length=n,o=(t.b.length>>1)-1;0<=o;o--)ko(t,o)}function Go(e,t){Oo.call(this,function(t){return e.apply(null,t)},function(t){return t[0].lb()}),this.v=t,this.j=0,this.f={}}function Bo(t,e,o){for(var i,r,n,s=0,a=!1;t.j<e&&s<o&&0<t.b.length;)r=No(t)[0],n=r.lb(),5===(i=r.getState())?a=!0:0!==i||n in t.f||(t.f[n]=!0,++t.j,++s,r.load());0===s&&a&&t.v()}function Uo(t){return t}function zo(t){if(void 0!==t)return 0}function Zo(t,e){if(void 0!==t)return t+e}function Vo(t,e){return t=void 0!==e?t.toFixed(e):""+t,2<(e=-1===(e=t.indexOf("."))?t.length:e)?t:Array(3-e).join("0")+t}function Ho(t){t=(""+t).split(".");for(var e=["1","3"],o=0;o<Math.max(t.length,e.length);o++){var i=parseInt(t[o]||"0",10),r=parseInt(e[o]||"0",10);if(r<i)return 1;if(i<r)return-1}return 0}function Wo(t,e){return t[0]+=e[0],t[1]+=e[1],t}function Xo(t,e){var o=t[0];t=t[1];var i=e[0],r=e[1];e=i[0],i=i[1];var n=r[0];r=r[1];var s=n-e,a=r-i;return(o=0===s&&0===a?0:(s*(o-e)+a*(t-i))/(s*s+a*a||0))<=0?(t=e,o=i):1<=o?(t=n,o=r):(t=e+o*s,o=i+o*a),[t,o]}function Yo(t,e,o){e=v(e+180,360)-180;var i=Math.abs(3600*e);o=o||0;var r=Math.pow(10,o),n=Math.floor(i/3600),s=Math.floor((i-3600*n)/60);return 60<=(i=Math.ceil((i-3600*n-60*s)*r)/r)&&(i=0,s+=1),60<=s&&(s=0,n+=1),n+"\xb0 "+Vo(s)+"\u2032 "+Vo(i,o)+"\u2033"+(0==e?"":" "+t.charAt(e<0?1:0))}function Ko(t,e,o){return t?e.replace("{x}",t[0].toFixed(o)).replace("{y}",t[1].toFixed(o)):""}function Jo(t,e){for(var o=!0,i=t.length-1;0<=i;--i)if(t[i]!=e[i]){o=!1;break}return o}function qo(t,e){var o=Math.cos(e);e=Math.sin(e);var i=t[1]*o+t[0]*e;return t[0]=t[0]*o-t[1]*e,t[1]=i,t}function Qo(t,e){t[0]*=e,t[1]*=e}function $o(t,e){var o=t[0]-e[0];return t=t[1]-e[1],o*o+t*t}function ti(t,e){return Math.sqrt($o(t,e))}function ei(t,e){return $o(t,Xo(t,e))}function oi(t,e){return Ko(t,"{x}, {y}",e)}function ii(t){return Math.pow(t,3)}function ri(t){return 1-ii(1-t)}function ni(t){return 3*t*t-2*t*t*t}function si(t){return t}function ai(){return!0}function pi(){return!1}function hi(t,e,o,i,r,n){for(var s=n||[],a=0;e<o;e+=i){var p=t[e],h=t[e+1];s[a++]=r[0]*p+r[2]*h+r[4],s[a++]=r[1]*p+r[3]*h+r[5]}return n&&s.length!=a&&(s.length=a),s}function li(t,e,o,i,r,n,s){for(var a,p=s||[],h=0;e<o;e+=i)for(p[h++]=t[e]+r,p[h++]=t[e+1]+n,a=e+2;a<e+i;++a)p[h++]=t[a];return s&&p.length!=h&&(p.length=h),p}s(jo,xe),(t=jo.prototype).ci=function(t){Fo(this,t);var e,o,i,r=new po("pointerup",this.g,t);this.b(r),r.sj||this.l||0!==t.button||(o=(e=this).c,i=new po("click",e.g,o),e.b(i),0!==e.j?(clearTimeout(e.j),e.j=0,i=new po("dblclick",e.g,o),e.b(i)):e.j=setTimeout(function(){this.j=0;var t=new po("singleclick",this.g,o);this.b(t)}.bind(e),250)),0===this.N&&(this.i.forEach(me),this.i.length=0,this.l=!1,this.c=null,we(this.a),this.a=null)},t.pm=function(t){Fo(this,t);var e=new po("pointerdown",this.g,t);this.b(e),this.c=t,0===this.i.length&&(this.a=new bo(document),this.i.push(ve(this.a,"pointermove",this.mn,this),ve(this.a,"pointerup",this.ci,this),ve(this.f,"pointercancel",this.ci,this)))},t.mn=function(t){if(Ro(this,t)){this.l=!0;var e=new po("pointerdrag",this.g,t,this.l);this.b(e)}t.preventDefault()},t.mq=function(t){this.b(new po(t.type,this.g,t,!(!this.c||!Ro(this,t))))},t.ia=function(){this.v&&(me(this.v),this.v=null),this.s&&(me(this.s),this.s=null),this.i.forEach(me),this.i.length=0,this.a&&(we(this.a),this.a=null),this.f&&(we(this.f),this.f=null),xe.prototype.ia.call(this)},Oo.prototype.clear=function(){this.b.length=0,this.g.length=0,et(this.a)},Oo.prototype.i=function(t){N(!(this.c(t)in this.a),31);var e=this.s(t);return 1/0!=e&&(this.b.push(t),this.g.push(e),this.a[this.c(t)]=!0,Do(this,0,this.b.length-1),!0)},s(Go,Oo),Go.prototype.i=function(t){var e=Oo.prototype.i.call(this,t);return e&&ve(t[0],"change",this.l,this),e},Go.prototype.l=function(t){var e=(t=t.target).getState();2!==e&&3!==e&&4!==e&&5!==e||(Ce(t,"change",this.l,this),(t=t.lb())in this.f&&(delete this.f[t],--this.j),this.v())};var ci=Array(6);function ui(t){return yi(t,1,0,0,1,0,0)}function gi(t,e){var o=t[0],i=t[1],r=t[2],n=t[3],s=t[4],a=t[5],p=e[0],h=e[1],l=e[2],c=e[3],u=e[4];return e=e[5],t[0]=o*p+r*h,t[1]=i*p+n*h,t[2]=o*l+r*c,t[3]=i*l+n*c,t[4]=o*u+r*e+s,t[5]=i*u+n*e+a,t}function yi(t,e,o,i,r,n,s){return t[0]=e,t[1]=o,t[2]=i,t[3]=r,t[4]=n,t[5]=s,t}function fi(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function di(t,e){var o=e[0],i=e[1];return e[0]=t[0]*o+t[2]*i+t[4],e[1]=t[1]*o+t[3]*i+t[5],e}function vi(t,e){var o=Math.cos(e);e=Math.sin(e),gi(t,yi(ci,o,e,-e,o,0,0))}function Ai(t,e,o){return gi(t,yi(ci,e,0,0,o,0,0))}function Ci(t,e,o){gi(t,yi(ci,1,0,0,1,e,o))}function mi(t,e,o,i,r,n,s,a){var p=Math.sin(n);return n=Math.cos(n),t[0]=i*n,t[1]=r*p,t[2]=-i*p,t[3]=r*n,t[4]=s*i*n-a*i*p+e,t[5]=s*r*p+a*r*n+o,t}function Ii(t){var e=t[0]*t[3]-t[1]*t[2];N(0!==e,32);var o=t[0],i=t[1],r=t[2],n=t[3],s=t[4],a=t[5];return t[0]=n/e,t[1]=-i/e,t[2]=-r/e,t[3]=o/e,t[4]=(r*a-n*s)/e,t[5]=-(o*a-i*s)/e,t}function bi(){Le.call(this),this.s=k(),this.v=-1,this.i={},this.l=this.f=0,this.O=[1,0,0,1,0,0]}function wi(){bi.call(this),this.ja="XY",this.a=2,this.A=null}function Mi(t){var e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}function Si(t,e,o){t.a=Mi(e),t.ja=e,t.A=o}function xi(t,e,o,i){if(e)o=Mi(e);else{for(e=0;e<i;++e){if(0===o.length)return t.ja="XY",void(t.a=2);o=o[0]}var r;2==(o=o.length)?r="XY":3==o?r="XYZ":4==o&&(r="XYZM"),e=r}t.ja=e,t.a=o}function Pi(t,e,o,i){for(var r=0,n=t[o-i],s=t[o-i+1];e<o;e+=i){var a=t[e],p=t[e+1];r+=s*a-n*p,n=a,s=p}return r/2}function Ei(t,e,o,i){var r,n=0,s=0;for(r=o.length;s<r;++s){var a=o[s];n+=Pi(t,e,a,i),e=a}return n}function Li(t,e,o,i,r,n,s){var a=t[e],p=t[e+1],h=t[o]-a,l=t[o+1]-p;if(0!==h||0!==l)if(1<(n=((r-a)*h+(n-p)*l)/(h*h+l*l)))e=o;else if(0<n){for(r=0;r<i;++r)s[r]=$t(t[e+r],t[o+r],n);return void(s.length=i)}for(r=0;r<i;++r)s[r]=t[e+r];s.length=i}function Ti(t,e,o,i,r){var n=t[e],s=t[e+1];for(e+=i;e<o;e+=i){var a=t[e],p=t[e+1];n=y(n,s,a,p),r<n&&(r=n),n=a,s=p}return r}function ji(t,e,o,i,r){var n,s=0;for(n=o.length;s<n;++s){var a=o[s];r=Ti(t,e,a,i,r),e=a}return r}function Fi(t,e,o,i,r,n,s,a,p,h,l){if(e==o)return h;if(0===r){var c=y(s,a,t[e],t[e+1]);if(c<h){for(l=0;l<i;++l)p[l]=t[e+l];return p.length=i,c}return h}for(var u=l||[NaN,NaN],g=e+i;g<o;)if(Li(t,g-i,g,i,s,a,u),(c=y(s,a,u[0],u[1]))<h){for(h=c,l=0;l<i;++l)p[l]=u[l];p.length=i,g+=i}else g+=i*Math.max((Math.sqrt(c)-Math.sqrt(h))/r|0,1);if(n&&(Li(t,o-i,e,i,s,a,u),(c=y(s,a,u[0],u[1]))<h)){for(h=c,l=0;l<i;++l)p[l]=u[l];p.length=i}return h}function Ri(t,e,o,i,r,n,s,a,p,h,l){var c;l=l||[NaN,NaN];var u=0;for(c=o.length;u<c;++u){var g=o[u];h=Fi(t,e,g,i,r,n,s,a,p,h,l),e=g}return h}function Oi(t,e){var o,i=0,r=0;for(o=e.length;r<o;++r)t[i++]=e[r];return i}function Ni(t,e,o,i){var r,n=0;for(r=o.length;n<r;++n){var s,a=o[n];for(s=0;s<i;++s)t[e++]=a[s]}return e}function ki(t,e,o,i,r){r=r||[];var n,s=0,a=0;for(n=o.length;a<n;++a)e=Ni(t,e,o[a],i),r[s++]=e;return r.length=s,r}function Di(t,e,o,i,r){r=void 0!==r?r:[];for(var n=0;e<o;e+=i)r[n++]=t.slice(e,e+i);return r.length=n,r}function _i(t,e,o,i,r){r=void 0!==r?r:[];var n,s=0,a=0;for(n=o.length;a<n;++a){var p=o[a];r[s++]=Di(t,e,p,i,r[s]),e=p}return r.length=s,r}function Gi(t,e,o,i,r){r=void 0!==r?r:[];var n,s=0,a=0;for(n=o.length;a<n;++a){var p=o[a];r[s++]=_i(t,e,p,i,r[s]),e=p[p.length-1]}return r.length=s,r}function Bi(t,e,o,i,r,n,s){var a=(o-e)/i;if(a<3){for(;e<o;e+=i)n[s++]=t[e],n[s++]=t[e+1];return s}var p=Array(a);p[0]=1,p[a-1]=1,o=[e,o-i];for(var h,l=0;0<o.length;){var c=o.pop(),u=o.pop(),g=0,y=t[u],f=t[u+1],d=t[c],v=t[c+1];for(h=u+i;h<c;h+=i){var A=m(t[h],t[h+1],y,f,d,v);g<A&&(l=h,g=A)}r<g&&(p[(l-e)/i]=1,u+i<l&&o.push(u,l),l+i<c&&o.push(l,c))}for(h=0;h<a;++h)p[h]&&(n[s++]=t[e+h*i],n[s++]=t[e+h*i+1]);return s}function Ui(t,e,o,i,r,n,s,a){var p,h=0;for(p=o.length;h<p;++h){var l=o[h];t:{var c=t,u=l,g=i,y=r,f=n,d=s;if(e!=u){var v=y*Math.round(c[e]/y),A=y*Math.round(c[e+1]/y);e+=g,f[d++]=v,f[d++]=A;do{var C=y*Math.round(c[e]/y);if(s=y*Math.round(c[e+1]/y),(e+=g)==u){f[d++]=C,f[d++]=s,s=d;break t}}while(C==v&&s==A);for(;e<u;){var m=y*Math.round(c[e]/y),I=y*Math.round(c[e+1]/y);if(e+=g,m!=C||I!=s){var b=C-v,w=s-A,M=m-v,S=I-A;b*S==w*M&&(b<0&&M<b||b==M||0<b&&b<M)&&(w<0&&S<w||w==S||0<w&&w<S)||(f[d++]=C,f[d++]=s,v=C,A=s),C=m,s=I}}f[d++]=C,f[d++]=s}s=d}a.push(s),e=l}return s}function zi(t,e){wi.call(this),this.c=this.j=-1,this.na(t,e)}function Zi(t,e,o){Si(t,e,o),t.u()}function Vi(t,e){wi.call(this),this.na(t,e)}function Hi(e,o,i,r,t){return!F(t,function(t){return!Wi(e,o,i,r,t[0],t[1])})}function Wi(t,e,o,i,r,n){for(var s=0,a=t[o-i],p=t[o-i+1];e<o;e+=i){var h=t[e],l=t[e+1];p<=n?n<l&&0<(h-a)*(n-p)-(r-a)*(l-p)&&s++:l<=n&&(h-a)*(n-p)-(r-a)*(l-p)<0&&s--,a=h,p=l}return 0!==s}function Xi(t,e,o,i,r,n){if(0===o.length||!Wi(t,e,o[0],i,r,n))return!1;var s;for(e=1,s=o.length;e<s;++e)if(Wi(t,o[e-1],o[e],i,r,n))return!1;return!0}function Yi(t,e,o,i,r,n,s){for(var a,p,h,l,c,u=r[n+1],g=[],y=0,f=o.length;y<f;++y){var d=o[y];for(h=t[d-i],c=t[d-i+1],a=e;a<d;a+=i)l=t[a],p=t[a+1],(u<=c&&p<=u||c<=u&&u<=p)&&(h=(u-c)/(p-c)*(l-h)+h,g.push(h)),h=l,c=p}for(y=NaN,f=-1/0,g.sort(Ut),h=g[0],a=1,p=g.length;a<p;++a)l=g[a],d=Math.abs(l-h),f<d&&Xi(t,e,o,i,h=(h+l)/2,u)&&(y=h,f=d),h=l;return isNaN(y)&&(y=r[n]),s?(s.push(y,u,f),s):[y,u,f]}function Ki(t,e,o,i,r,n){for(var s,a=[t[e],t[e+1]],p=[];e+i<o;e+=i){if(p[0]=t[e+i],p[1]=t[e+i+1],s=r.call(n,a,p))return s;a[0]=p[0],a[1]=p[1]}return!1}function Ji(t,e,o,i,l){var r=E(k(),t,e,o,i);return!!te(l,r)&&(!!(U(l,r)||r[0]>=l[0]&&r[2]<=l[2]||r[1]>=l[1]&&r[3]<=l[3])||Ki(t,e,o,i,function(t,e){var o=!1,i=S(l,t),r=S(l,e);if(1===i||1===r)o=!0;else{var n=l[0],s=l[1],a=l[2],p=l[3],h=e[0];e=e[1],t=(e-t[1])/(h-t[0]),2&r&&!(2&i)&&(o=n<=(o=h-(e-p)/t)&&o<=a),o||!(4&r)||4&i||(o=s<=(o=e-(h-a)*t)&&o<=p),o||!(8&r)||8&i||(o=n<=(o=h-(e-s)/t)&&o<=a),o||!(16&r)||16&i||(o=s<=(o=e-(h-n)*t)&&o<=p)}return o}))}function qi(t,e,o,i,r){var n=o[0];if(!(Ji(t,e,n,i,r)||Wi(t,e,n,i,r[0],r[1])||Wi(t,e,n,i,r[0],r[3])||Wi(t,e,n,i,r[2],r[1])||Wi(t,e,n,i,r[2],r[3])))return!1;if(1===o.length)return!0;for(e=1,n=o.length;e<n;++e)if(Hi(t,o[e-1],o[e],i,r))return!1;return!0}function Qi(t,e,o,i){for(var r=0,n=t[o-i],s=t[o-i+1];e<o;e+=i){var a=t[e],p=t[e+1];r+=(a-n)*(p+s),n=a,s=p}return 0<r}function $i(t,e,o,i){var r,n=0;i=void 0!==i&&i;var s=0;for(r=e.length;s<r;++s){var a=e[s];if(n=Qi(t,n,a,o),0===s){if(i&&n||!i&&!n)return!1}else if(i&&!n||!i&&n)return!1;n=a}return!0}function tr(t,e,o,i,r){var n;r=void 0!==r&&r;var s=0;for(n=o.length;s<n;++s){var a=o[s],p=Qi(t,e,a,i);if(0===s?r&&p||!r&&!p:r&&!p||!r&&p){p=t;for(var h=a,l=i;e<h-l;){var c;for(c=0;c<l;++c){var u=p[e+c];p[e+c]=p[h-l+c],p[h-l+c]=u}e+=l,h-=l}}e=a}return e}function er(t,e,o,i){var r,n=0,s=0;for(r=e.length;s<r;++s)n=tr(t,n,e[s],o,i);return n}function or(t,e){wi.call(this),this.c=[],this.o=-1,this.D=null,this.T=this.C=this.B=-1,this.j=null,this.na(t,e)}function ir(t,e,o,i){var r,n=i||32;for(i=[],r=0;r<n;++r)Vt(i,t.offset(e,o,2*Math.PI*r/n));return i.push(i[0],i[1]),(t=new or(null)).ba("XY",i,[i.length]),t}function rr(t){var e=t[0],o=t[1],i=t[2];return t=t[3],e=[e,o,e,t,i,t,i,o,e,o],(o=new or(null)).ba("XY",e,[e.length]),o}function nr(t,e,o){var i=e||32,r=t.pa(),n=new or(null,e=t.ja);i=r*(i+1),r=Array(i);for(var s=0;s<i;s++)r[s]=0;return n.ba(e,r,[r.length]),sr(n,t.xa(),t.Bd(),o),n}function sr(t,e,o,i){var r=t.da(),n=t.ja,s=t.pa(),a=t.pb(),p=r.length/s-1;i=i||0;for(var h,l,c=0;c<=p;++c)l=c*s,h=i+2*v(c,p)*Math.PI/p,r[l]=e[0]+o*Math.cos(h),r[l+1]=e[1]+o*Math.sin(h);t.ba(n,r,a)}function ar(t){Le.call(this),t=tt({},t),this.f=[0,0],this.c=[],this.Ff=this.Ff.bind(this),this.v=Lt(t.projection),pr(this,t)}function pr(t,e){var o={};o.center=void 0!==e.center?e.center:null;var i,r,n,s,a,p,h,l,c=void 0!==e.minZoom?e.minZoom:0,u=void 0!==e.maxZoom?e.maxZoom:28,g=void 0!==e.zoomFactor?e.zoomFactor:2;if(void 0!==e.resolutions){var y=e.resolutions,f=y[c],d=void 0!==y[u]?y[u]:y[y.length-1];s=y,u=function(t,e,o){if(void 0!==t)return t=C((t=Zt(s,t,o))+e,0,s.length-1),e=Math.floor(t),t!=e&&e<s.length-1?s[e]/Math.pow(s[e]/s[e+1],t-e):s[e]}}else{f=Lt(e.projection),d=f.G();var v=(y=(d?Math.max(J(d),W(d)):360*at.degrees/f.Bc())/256/Math.pow(2,0))/Math.pow(2,28);void 0!==(f=e.maxResolution)?c=0:f=y/Math.pow(g,c),void 0===(d=e.minResolution)&&(d=void 0!==e.maxZoom?void 0!==e.maxResolution?f/Math.pow(g,u):y/Math.pow(g,u):v),u=c+Math.floor(Math.log(f/d)/Math.log(g)),d=f/Math.pow(g,u-c),i=g,r=f,n=u-c,u=function(t,e,o){if(void 0!==t)return t=Math.max(Math.floor(Math.log(r/t)/Math.log(i)+(-o/2+.5))+e,0),void 0!==n&&(t=Math.min(t,n)),r/Math.pow(i,t)}}t.a=f,t.i=d,t.D=g,t.j=e.resolutions,t.s=c,c=void 0===e.enableRotation||e.enableRotation?void 0===(c=e.constrainRotation)||!0===c?(h=I(5),function(t,e){if(void 0!==t)return Math.abs(t+e)<=h?0:t+e}):!1===c?Zo:"number"==typeof c?(a=c,p=2*Math.PI/a,function(t,e){if(void 0!==t)return t=Math.floor((t+e)/p+.5)*p}):Zo:zo,t.l={center:void 0!==e.extent?(l=e.extent,function(t){if(t)return[C(t[0],l[0],l[2]),C(t[1],l[1],l[3])]}):Uo,resolution:u,rotation:c},void 0!==e.resolution?o.resolution=e.resolution:void 0!==e.zoom&&(o.resolution=t.constrainResolution(t.a,e.zoom-t.s),t.j&&(o.resolution=C(Number(t.Pa()||o.resolution),t.i,t.a))),o.rotation=void 0!==e.rotation?e.rotation:0,t.H(o),t.C=e}function hr(t,e){var o=tt({},t.C);return void 0!==o.resolution?o.resolution=t.Pa():o.zoom=t.lg(),o.center=t.xa(),o.rotation=t.Sa(),tt({},o,e)}function lr(t,e,o){var i=t.xa();if(void 0!==i){var r=[i[0]-o[0],i[1]-o[1]];qo(r,e-t.Sa()),Wo(r,o)}return r}function cr(t,e,o){var i,r=t.xa();return t=t.Pa(),void 0!==r&&void 0!==t&&(i=[o[0]-e*(o[0]-r[0])/t,o[1]-e*(o[1]-r[1])/t]),i}function ur(t){var e=[100,100];return t='.ol-viewport[data-view="'+Qt(t)+'"]',(t=document.querySelector(t))&&(t=getComputedStyle(t),e[0]=parseInt(t.width,10),e[1]=parseInt(t.height,10)),e}function gr(t){return!!t.xa()&&void 0!==t.Pa()}function yr(t,e,o){t.f[e]+=o,t.u()}function fr(t,e){var o=document.createElement("CANVAS");return t&&(o.width=t),e&&(o.height=e),o.getContext("2d")}function dr(t,e){var o=e.parentNode;o&&o.replaceChild(t,e)}function vr(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ar(t){Le.call(this);var e=tt({},t);e.opacity=void 0!==t.opacity?t.opacity:1,e.visible=void 0===t.visible||t.visible,e.zIndex=void 0!==t.zIndex?t.zIndex:0,e.maxResolution=void 0!==t.maxResolution?t.maxResolution:1/0,e.minResolution=void 0!==t.minResolution?t.minResolution:0,this.H(e),this.a={layer:this,Te:!0}}function Cr(t){return t.a.opacity=C(t.nc(),0,1),t.a.Vj=t.hg(),t.a.visible=t.Jb(),t.a.extent=t.G(),t.a.zIndex=t.Ba(),t.a.maxResolution=t.lc(),t.a.minResolution=Math.max(t.mc(),0),t.a}function mr(t){var e=t||{};delete(t=tt({},e)).layers,e=e.layers,Ar.call(this,t),this.i=[],this.c={},ve(this,je(Ir),this.im,this),e?Array.isArray(e)?e=new Oe(e.slice(),{unique:!0}):N(e instanceof Oe,43):e=new Oe(void 0,{unique:!0}),this.Qi(e)}s(bi,Le),(t=bi.prototype).Ib=function(t,e){return e=e||[NaN,NaN],this.Nb(t[0],t[1],e,1/0),e},t.Bb=function(t){return this.Zc(t[0],t[1])},t.Zc=pi,t.G=function(t){this.v!=this.g&&(this.s=this.Ae(this.s),this.v=this.g);var e=this.s;return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]):t=e,t},t.Sb=function(t){return this.Wd(t*t)},t.mb=function(n,s){var a=this.O,t="tile-pixels"==(n=Ft(n)).a?function(t,e,o){var i=n.G(),r=n.oe;return i=W(r)/W(i),mi(a,r[0],r[3],i,-i,0,0,0),hi(t,0,t.length,o,a,e),Ot(n,s)(t,e,o)}:Ot(n,s);return this.Rc(t),this},s(wi,bi),(t=wi.prototype).Zc=pi,t.Ae=function(t){return P(this.A,0,this.A.length,this.a,t)},t.fc=function(){return this.A.slice(0,this.a)},t.da=function(){return this.A},t.gc=function(){return this.A.slice(this.A.length-this.a)},t.ic=function(){return this.ja},t.Wd=function(t){if(this.l!=this.g&&(et(this.i),this.f=0,this.l=this.g),t<0||0!==this.f&&t<=this.f)return this;var e=t.toString();if(this.i.hasOwnProperty(e))return this.i[e];var o=this.xd(t);return o.da().length<this.A.length?this.i[e]=o:(this.f=t,this)},t.xd=function(){return this},t.pa=function(){return this.a},t.Rc=function(t){this.A&&(t(this.A,this.A,this.a),this.u())},t.rotate=function(t,e){var o=this.da();if(o){var i=o.length,r=this.pa(),n=o||[],s=Math.cos(t);t=Math.sin(t);var a=e[0];e=e[1];for(var p=0,h=0;h<i;h+=r){var l=o[h]-a,c=o[h+1]-e;for(n[p++]=a+l*s-c*t,n[p++]=e+l*t+c*s,l=h+2;l<h+r;++l)n[p++]=o[l]}o&&n.length!=p&&(n.length=p),this.u()}},t.scale=function(t,e,o){var i=e;void 0===i&&(i=t);var r=o;if(r||(r=V(this.G())),o=this.da()){e=o.length;var n=this.pa(),s=o||[],a=r[0];r=r[1];for(var p=0,h=0;h<e;h+=n){var l=o[h]-a,c=o[h+1]-r;for(s[p++]=a+t*l,s[p++]=r+i*c,l=h+2;l<h+n;++l)s[p++]=o[l]}o&&s.length!=p&&(s.length=p),this.u()}},t.translate=function(t,e){var o=this.da();o&&(li(o,0,o.length,this.pa(),t,e,o),this.u())},s(zi,wi),(t=zi.prototype).clone=function(){var t=new zi(null);return Zi(t,this.ja,this.A.slice()),t},t.Nb=function(t,e,o,i){return i<d(this.G(),t,e)?i:(this.c!=this.g&&(this.j=Math.sqrt(Ti(this.A,0,this.A.length,this.a,0)),this.c=this.g),Fi(this.A,0,this.A.length,this.a,this.j,!0,t,e,o,i))},t.Vn=function(){return Pi(this.A,0,this.A.length,this.a)},t.W=function(){return Di(this.A,0,this.A.length,this.a)},t.xd=function(t){var e=[];return e.length=Bi(this.A,0,this.A.length,this.a,t,e,0),Zi(t=new zi(null),"XY",e),t},t.S=function(){return"LinearRing"},t.$a=function(){},t.na=function(t,e){t?(xi(this,e,t,1),this.A||(this.A=[]),this.A.length=Ni(this.A,0,t,this.a),this.u()):Zi(this,"XY",null)},s(Vi,wi),(t=Vi.prototype).clone=function(){var t=new Vi(null);return t.ba(this.ja,this.A.slice()),t},t.Nb=function(t,e,o,i){var r=this.A;if((t=y(t,e,r[0],r[1]))<i){for(i=this.a,e=0;e<i;++e)o[e]=r[e];return o.length=i,t}return i},t.W=function(){return this.A?this.A.slice():[]},t.Ae=function(t){return x(this.A,t)},t.S=function(){return"Point"},t.$a=function(t){return M(t,this.A[0],this.A[1])},t.na=function(t,e){t?(xi(this,e,t,0),this.A||(this.A=[]),this.A.length=Oi(this.A,t),this.u()):this.ba("XY",null)},t.ba=function(t,e){Si(this,t,e),this.u()},s(or,wi),(t=or.prototype).Hk=function(t){this.A?Vt(this.A,t.da()):this.A=t.da().slice(),this.c.push(this.A.length),this.u()},t.clone=function(){var t=new or(null);return t.ba(this.ja,this.A.slice(),this.c.slice()),t},t.Nb=function(t,e,o,i){return i<d(this.G(),t,e)?i:(this.C!=this.g&&(this.B=Math.sqrt(ji(this.A,0,this.c,this.a,0)),this.C=this.g),Ri(this.A,0,this.c,this.a,this.B,!0,t,e,o,i))},t.Zc=function(t,e){return Xi(this.Xb(),0,this.c,this.a,t,e)},t.Yn=function(){return Ei(this.Xb(),0,this.c,this.a)},t.W=function(t){if(void 0!==t){var e=this.Xb().slice();tr(e,0,this.c,this.a,t)}else e=this.A;return _i(e,0,this.c,this.a)},t.pb=function(){return this.c},t.Td=function(){if(this.o!=this.g){var t=V(this.G());this.D=Yi(this.Xb(),0,this.c,this.a,t,0),this.o=this.g}return this.D},t.tl=function(){return new Vi(this.Td(),"XYM")},t.zl=function(){return this.c.length},t.Wh=function(t){if(t<0||this.c.length<=t)return null;var e=new zi(null);return Zi(e,this.ja,this.A.slice(0===t?0:this.c[t-1],this.c[t])),e},t.Ud=function(){var t,e=this.ja,o=this.A,i=this.c,r=[],n=0,s=0;for(t=i.length;s<t;++s){var a=i[s],p=new zi(null);Zi(p,e,o.slice(n,a)),r.push(p),n=a}return r},t.Xb=function(){if(this.T!=this.g){var t=this.A;$i(t,this.c,this.a)?this.j=t:(this.j=t.slice(),this.j.length=tr(this.j,0,this.c,this.a)),this.T=this.g}return this.j},t.xd=function(t){var e=[],o=[];return e.length=Ui(this.A,0,this.c,this.a,Math.sqrt(t),e,0,o),(t=new or(null)).ba("XY",e,o),t},t.S=function(){return"Polygon"},t.$a=function(t){return qi(this.Xb(),0,this.c,this.a,t)},t.na=function(t,e){t?(xi(this,e,t,2),this.A||(this.A=[]),t=ki(this.A,0,t,this.a,this.c),this.A.length=0===t.length?0:t[t.length-1],this.u()):this.ba("XY",null,this.c)},t.ba=function(t,e,o){Si(this,t,e),this.c=o,this.u()},s(ar,Le),(t=ar.prototype).animate=function(t){var e=arguments.length;if(1<e&&"function"==typeof arguments[e-1]){var o=arguments[e-1];--e}if(gr(this)){for(var i=Date.now(),r=this.xa().slice(),n=this.Pa(),s=this.Sa(),a=[],p=0;p<e;++p){var h=arguments[p],l={start:i,complete:!1,anchor:h.anchor,duration:void 0!==h.duration?h.duration:1e3,easing:h.easing||ni};h.center&&(l.ie=r,l.me=h.center,r=l.me),void 0!==h.zoom?(l.ke=n,l.kd=this.constrainResolution(this.a,h.zoom-this.s,0),n=l.kd):h.resolution&&(l.ke=n,l.kd=h.resolution,n=l.kd),void 0!==h.rotation&&(l.Df=s,l.ne=s+(v(h.rotation-s+Math.PI,2*Math.PI)-Math.PI),s=l.ne),l.callback=o,l.ie&&l.me&&!Jo(l.ie,l.me)||l.ke!==l.kd||l.Df!==l.ne?i+=l.duration:l.complete=!0,a.push(l)}this.c.push(a),yr(this,0,1),this.Ff()}else(e=arguments[e-1]).center&&this.ub(e.center),void 0!==e.zoom&&this.Tj(e.zoom),void 0!==e.rotation&&this.ce(e.rotation),o&&o(!0)},t.Ac=function(){return 0<this.f[0]},t.Vh=function(){return 0<this.f[1]},t.rd=function(){yr(this,0,-this.f[0]);for(var t=0,e=this.c.length;t<e;++t){var o=this.c[t];o[0].callback&&o[0].callback(!1)}this.c.length=0},t.Ff=function(){if(void 0!==this.o&&(cancelAnimationFrame(this.o),this.o=void 0),this.Ac()){for(var t=Date.now(),e=!1,o=this.c.length-1;0<=o;--o){for(var i=this.c[o],r=!0,n=0,s=i.length;n<s;++n){var a=i[n];if(!a.complete){if(e=t-a.start,1<=(e=0<a.duration?e/a.duration:1)?(a.complete=!0,e=1):r=!1,e=a.easing(e),a.ie){var p=a.ie[0],h=a.ie[1];this.set("center",[p+e*(a.me[0]-p),h+e*(a.me[1]-h)])}if(a.ke&&a.kd&&(p=1===e?a.kd:a.ke+e*(a.kd-a.ke),a.anchor&&this.set("center",cr(this,p,a.anchor)),this.set("resolution",p)),void 0!==a.Df&&void 0!==a.ne&&(e=1===e?v(a.ne+Math.PI,2*Math.PI)-Math.PI:a.Df+e*(a.ne-a.Df),a.anchor&&this.set("center",lr(this,e,a.anchor)),this.set("rotation",e)),e=!0,!a.complete)break}}r&&(this.c[o]=null,yr(this,0,-1),(i=i[0].callback)&&i(!0))}this.c=this.c.filter(Boolean),e&&void 0===this.o&&(this.o=requestAnimationFrame(this.Ff))}},t.Sc=function(t){return this.l.center(t)},t.constrainResolution=function(t,e,o){return this.l.resolution(t,e||0,o||0)},t.constrainRotation=function(t,e){return this.l.rotation(t,e||0)},t.xa=function(){return this.get("center")},t.qd=function(t){t=t||ur(this);var e=this.xa();N(e,1);var o=this.Pa();N(void 0!==o,2);var i=this.Sa();return N(void 0!==i,3),H(e,o,i,t)},t.sn=function(){return this.a},t.vn=function(){return this.i},t.tn=function(){return this.Me(this.i)},t.Cq=function(t){pr(this,hr(this,{maxZoom:t}))},t.wn=function(){return this.Me(this.a)},t.Dq=function(t){pr(this,hr(this,{minZoom:t}))},t.xn=function(){return this.v},t.Pa=function(){return this.get("resolution")},t.yn=function(){return this.j},t.Je=function(t,e){return e=e||ur(this),Math.max(J(t)/e[0],W(t)/e[1])},t.Sa=function(){return this.get("rotation")},t.getState=function(){var t=this.xa(),e=this.v,o=this.Pa(),i=this.Sa();return{center:t.slice(),projection:void 0!==e?e:null,resolution:o,rotation:i,zoom:this.lg()}},t.lg=function(){var t,e=this.Pa();return void 0!==e&&(t=this.Me(e)),t},t.Me=function(t){var e,o=this.s||0;if(this.j){o=e=Zt(this.j,t,1);var i=this.j[e];e=e==this.j.length-1?2:i/this.j[e+1]}else i=this.a,e=this.D;return o+Math.log(i/t)/Math.log(e)},t.$h=function(t){return this.constrainResolution(this.a,t-this.s,0)},t.Uf=function(t,e){var o=(e=e||{}).size;if(o||(o=ur(this)),t instanceof wi)if("Circle"===t.S()){var i=rr(t=t.G());i.rotate(this.Sa(),V(t))}else i=t;else N(Array.isArray(t),24),N(!q(t),25),i=rr(t);var r,n=void 0!==e.padding?e.padding:[0,0,0,0],s=void 0===e.constrainResolution||e.constrainResolution,a=void 0!==e.nearest&&e.nearest;r=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?this.constrainResolution(this.a,e.maxZoom-this.s,0):0;var p=i.da(),h=this.Sa();t=Math.cos(-h),h=Math.sin(-h);var l=1/0,c=1/0,u=-1/0,g=-1/0;i=i.pa();for(var y=0,f=p.length;y<f;y+=i){var d=p[y]*t-p[y+1]*h,v=p[y]*h+p[y+1]*t;l=Math.min(l,d),c=Math.min(c,v),u=Math.max(u,d),g=Math.max(g,v)}o=this.Je([l,c,u,g],[o[0]-n[1]-n[3],o[1]-n[0]-n[2]]),o=isNaN(o)?r:Math.max(o,r),s&&(r=this.constrainResolution(o,0,0),!a&&r<o&&(r=this.constrainResolution(r,-1,0)),o=r),h=-h,r=(l+u)/2+(n[1]-n[3])/2*o,n=(c+g)/2+(n[0]-n[2])/2*o,t=[r*t-n*h,n*t+r*h],n=e.callback?e.callback:A,void 0!==e.duration?this.animate({resolution:o,center:t,duration:e.duration,easing:e.easing},n):(this.gd(o),this.ub(t),setTimeout(n.bind(void 0,!0),0))},t.Nk=function(t,e,o){var i=this.Sa(),r=Math.cos(-i);i=Math.sin(-i);var n=t[0]*r-t[1]*i;t=t[1]*r+t[0]*i;var s=this.Pa();n+=(e[0]/2-o[0])*s,t+=(o[1]-e[1]/2)*s,i=-i,this.ub([n*r-t*i,t*r+n*i])},t.rotate=function(t,e){void 0!==e&&(e=lr(this,t,e),this.ub(e)),this.ce(t)},t.ub=function(t){this.set("center",t),this.Ac()&&this.rd()},t.gd=function(t){this.set("resolution",t),this.Ac()&&this.rd()},t.ce=function(t){this.set("rotation",t),this.Ac()&&this.rd()},t.Tj=function(t){this.gd(this.$h(t))},s(Ar,Le),(t=Ar.prototype).S=function(){return this.type},t.G=function(){return this.get("extent")},t.lc=function(){return this.get("maxResolution")},t.mc=function(){return this.get("minResolution")},t.nc=function(){return this.get("opacity")},t.Jb=function(){return this.get("visible")},t.Ba=function(){return this.get("zIndex")},t.Fc=function(t){this.set("extent",t)},t.Mc=function(t){this.set("maxResolution",t)},t.Nc=function(t){this.set("minResolution",t)},t.Gc=function(t){this.set("opacity",t)},t.Hc=function(t){this.set("visible",t)},t.$b=function(t){this.set("zIndex",t)},s(mr,Ar),(t=mr.prototype).Pe=function(){this.u()},t.im=function(){this.i.forEach(me),this.i.length=0;var t,e=this.Cd();for(var o in this.i.push(ve(e,"add",this.hm,this),ve(e,"remove",this.jm,this)),this.c)this.c[o].forEach(me);for(et(this.c),e=e.a,o=0,t=e.length;o<t;o++){var i=e[o];this.c[Qt(i).toString()]=[ve(i,"propertychange",this.Pe,this),ve(i,"change",this.Pe,this)]}this.u()},t.hm=function(t){var e=Qt(t=t.element).toString();this.c[e]=[ve(t,"propertychange",this.Pe,this),ve(t,"change",this.Pe,this)],this.u()},t.jm=function(t){t=Qt(t.element).toString(),this.c[t].forEach(me),delete this.c[t],this.u()},t.Cd=function(){return this.get(Ir)},t.Qi=function(t){this.set(Ir,t)},t.dg=function(t){var e,o=void 0!==t?t:[],i=o.length;for(this.Cd().forEach(function(t){t.dg(o)}),t=Cr(this),e=o.length;i<e;i++){var r=o[i];r.opacity*=t.opacity,r.visible=r.visible&&t.visible,r.maxResolution=Math.min(r.maxResolution,t.maxResolution),r.minResolution=Math.max(r.minResolution,t.minResolution),void 0!==t.extent&&(r.extent=void 0!==r.extent?X(r.extent,t.extent):t.extent)}return o},t.hg=function(){return"ready"};var Ir="layers",br=[],wr=[];function Mr(t,e){switch(t){case"MAP_RENDERER":(t=br).push(e);break;case"LAYER_RENDERER":(t=wr).push(e);break;default:throw Error("Unsupported plugin type: "+t)}}function Sr(t){for(var e=0,o=t.length;e<o;++e)Mr("LAYER_RENDERER",t[e])}function xr(t){Le.call(this);var e=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var o,i={},r={};if(void 0===t.logo||"boolean"==typeof t.logo&&t.logo)r["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="https://openlayers.org/";else{var n=t.logo;"string"==typeof n?r[n]="":n instanceof HTMLElement?r[Qt(n).toString()]=n:n&&(N("string"==typeof n.href,44),N("string"==typeof n.src,45),r[n.src]=n.href)}n=t.layers instanceof mr?t.layers:new mr({layers:t.layers}),i.layergroup=n,i.target=t.target,i.view=void 0!==t.view?t.view:new ar,void 0!==t.renderer?(Array.isArray(t.renderer)?o=t.renderer:"string"==typeof t.renderer?o=[t.renderer]:N(!1,46),0<=o.indexOf("dom")&&(o=o.concat(Pr))):o=Pr,n=0;var s=o.length;t:for(;n<s;++n)for(var a=o[n],p=0,h=br.length;p<h;++p){var l=br[p];if(l.handles(a)){var c=l;break t}}if(!c)throw Error("Unable to create a map renderer for types: "+o.join(", "));if(void 0!==t.controls)if(Array.isArray(t.controls))var u=new Oe(t.controls.slice());else N(t.controls instanceof Oe,47),u=t.controls;if(void 0!==t.interactions)if(Array.isArray(t.interactions))var g=new Oe(t.interactions.slice());else N(t.interactions instanceof Oe,48),g=t.interactions;return void 0!==t.overlays?Array.isArray(t.overlays)?t=new Oe(t.overlays.slice()):(N(t.overlays instanceof Oe,49),t=t.overlays):t=new Oe,{controls:u,interactions:g,keyboardEventTarget:e,logos:r,overlays:t,Im:c,values:i}}(t);this.ob=void 0!==t.loadTilesWhileAnimating&&t.loadTilesWhileAnimating,this.sc=void 0!==t.loadTilesWhileInteracting&&t.loadTilesWhileInteracting,this.ra=void 0!==t.pixelRatio?t.pixelRatio:Je,this.Md=e.logos,this.V=function(){this.j=void 0,this.pq.call(this)}.bind(this),this.La=[1,0,0,1,0,0],this.If=[1,0,0,1,0,0],this.bb=0,this.D=this.C=this.B=this.f=this.c=null,this.a=document.createElement("DIV"),this.a.className="ol-viewport"+(eo?" ol-touch":""),this.a.style.position="relative",this.a.style.overflow="hidden",this.a.style.width="100%",this.a.style.height="100%",this.a.style.msTouchAction="none",this.a.style.touchAction="none",this.o=document.createElement("DIV"),this.o.className="ol-overlaycontainer",this.a.appendChild(this.o),this.v=document.createElement("DIV"),this.v.className="ol-overlaycontainer-stopevent";for(var o="click dblclick mousedown touchstart MSPointerDown pointerdown mousewheel wheel".split(" "),i=0,r=o.length;i<r;++i)ve(this.v,o[i],Se);for(var n in this.a.appendChild(this.v),this.ca=new jo(this,t.moveTolerance),ao)ve(this.ca,ao[n],this.bi,this);this.$=e.keyboardEventTarget,this.s=null,ve(this.a,"wheel",this.yd,this),ve(this.a,"mousewheel",this.yd,this),this.controls=e.controls||new Oe,this.interactions=e.interactions||new Oe,this.l=e.overlays,this.Fg={},this.pc=e.Im.create(this.a,this),this.T=null,this.Ea=[],this.ua=new Go(this.Tl.bind(this),this.zm.bind(this)),this.O={},ve(this,je("layergroup"),this.fm,this),ve(this,je("view"),this.Am,this),ve(this,je("size"),this.um,this),ve(this,je("target"),this.ym,this),this.H(e.values),this.controls.forEach(function(t){t.setMap(this)},this),ve(this.controls,"add",function(t){t.element.setMap(this)},this),ve(this.controls,"remove",function(t){t.element.setMap(null)},this),this.interactions.forEach(function(t){t.setMap(this)},this),ve(this.interactions,"add",function(t){t.element.setMap(this)},this),ve(this.interactions,"remove",function(t){t.element.setMap(null)},this),this.l.forEach(this.zh,this),ve(this.l,"add",function(t){this.zh(t.element)},this),ve(this.l,"remove",function(t){var e=t.element.id;void 0!==e&&delete this.Fg[e.toString()],t.element.setMap(null)},this)}s(xr,Le),(t=xr.prototype).Mf=function(t){this.controls.push(t)},t.Nf=function(t){this.interactions.push(t)},t.xe=function(t){this.hc().Cd().push(t)},t.ye=function(t){this.l.push(t)},t.zh=function(t){var e=t.id;void 0!==e&&(this.Fg[e.toString()]=t),t.setMap(this)},t.ia=function(){we(this.ca),Ce(this.a,"wheel",this.yd,this),Ce(this.a,"mousewheel",this.yd,this),void 0!==this.i&&(window.removeEventListener("resize",this.i,!1),this.i=void 0),this.j&&(cancelAnimationFrame(this.j),this.j=void 0),this.Ad(null),Le.prototype.ia.call(this)},t.Tc=function(t,e,o){if(this.c)return t=this.Ra(t),o=void 0!==o?o:{},this.pc.wa(t,this.c,void 0!==o.hitTolerance?o.hitTolerance*this.c.pixelRatio:0,e,null,void 0!==o.layerFilter?o.layerFilter:ai,null)},t.Xf=function(t,e){var o=null;return this.Tc(t,function(t){o||(o=[]),o.push(t)},e),o},t.tg=function(t,e,o,i,r){if(this.c)return this.pc.Ti(t,this.c,e,void 0!==o?o:null,void 0!==i?i:ai,void 0!==r?r:null)},t.ng=function(t,e){return!!this.c&&(t=this.Ra(t),e=void 0!==e?e:{},this.pc.Ui(t,this.c,void 0!==e.hitTolerance?e.hitTolerance*this.c.pixelRatio:0,void 0!==e.layerFilter?e.layerFilter:ai,null))},t.Sd=function(t){return this.Ra(this.ud(t))},t.ud=function(t){var e=this.a.getBoundingClientRect();return[(t=t.changedTouches?t.changedTouches[0]:t).clientX-e.left,t.clientY-e.top]},t.Xd=function(){return this.get("target")},t.Cc=function(){var t=this.Xd();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},t.Ra=function(t){var e=this.c;return e?di(e.pixelToCoordinateTransform,t.slice()):null},t.Wf=function(){return this.controls},t.gg=function(){return this.l},t.fg=function(t){return void 0!==(t=this.Fg[t.toString()])?t:null},t.bg=function(){return this.interactions},t.hc=function(){return this.get("layergroup")},t.Xe=function(){return this.hc().Cd()},t.Ia=function(t){var e=this.c;return e?di(e.coordinateToPixelTransform,t.slice(0,2)):null},t.Ie=function(){return this.pc},t.Cb=function(){return this.get("size")},t.aa=function(){return this.get("view")},t.kg=function(){return this.a},t.Tl=function(t,e,o,i){var r=this.c;return r&&e in r.wantedTiles&&r.wantedTiles[e][t.lb()]?(t=o[0]-r.focus[0],o=o[1]-r.focus[1],65536*Math.log(i)+Math.sqrt(t*t+o*o)/i):1/0},t.yd=function(t,e){t=new Be(e||t.type,this,t),this.bi(t)},t.bi=function(t){if(this.c){this.T=t.coordinate,t.frameState=this.c;var e,o=this.interactions.a;if(!1!==this.b(t))for(e=o.length-1;0<=e;e--){var i=o[e];if(i.c()&&!i.handleEvent(t))break}}},t.sm=function(){var t=this.c,e=this.ua;if(0!==e.b.length){var o=16,i=o;if(t){var r=t.viewHints;r[0]&&(o=this.ob?8:0,i=2),r[1]&&(o=this.sc?8:0,i=2)}e.j<o&&(_o(e),Bo(e,o,i))}for(e=this.Ea,o=0,i=e.length;o<i;++o)e[o](this,t);e.length=0},t.um=function(){this.render()},t.ym=function(){var t;if(this.Xd()&&(t=this.Cc()),this.s){for(var e=0,o=this.s.length;e<o;++e)me(this.s[e]);this.s=null}if(t){t.appendChild(this.a);var i=this.$?this.$:t;this.s=[ve(i,"keydown",this.yd,this),ve(i,"keypress",this.yd,this)],this.i||(this.i=this.Oc.bind(this),window.addEventListener("resize",this.i,!1))}else{for(i in(t=this.pc).c)we(qs(t,i));vr(this.a),void 0!==this.i&&(window.removeEventListener("resize",this.i,!1),this.i=void 0)}this.Oc()},t.zm=function(){this.render()},t.ei=function(){this.render()},t.Am=function(){this.B&&(me(this.B),this.B=null),this.C&&(me(this.C),this.C=null);var t=this.aa();t&&(this.a.setAttribute("data-view",Qt(t)),this.B=ve(t,"propertychange",this.ei,this),this.C=ve(t,"change",this.ei,this)),this.render()},t.fm=function(){this.D&&(this.D.forEach(me),this.D=null);var t=this.hc();t&&(this.D=[ve(t,"propertychange",this.render,this),ve(t,"change",this.render,this)]),this.render()},t.dh=function(){this.j&&cancelAnimationFrame(this.j),this.V()},t.render=function(){void 0===this.j&&(this.j=requestAnimationFrame(this.V))},t.Xg=function(t){return this.controls.remove(t)},t.Zg=function(t){return this.interactions.remove(t)},t.$g=function(t){return this.hc().Cd().remove(t)},t.ah=function(t){return this.l.remove(t)},t.pq=function(){var t,e=Date.now(),o=this.Cb(),i=this.aa(),r=k(),n=this.c,s=null;if(void 0!==o&&0<o[0]&&0<o[1]&&i&&gr(i)){void 0!==(s=this.c?this.c.viewHints:void 0)?(s[0]=i.f[0],s[1]=i.f[1]):s=i.f.slice();var a=this.hc().dg(),p={},h=0;for(t=a.length;h<t;++h)p[Qt(a[h].layer)]=a[h];h=i.getState(),i=h.center,t=h.resolution/this.ra,i[0]=Math.round(i[0]/t)*t,i[1]=Math.round(i[1]/t)*t,s={animate:!1,coordinateToPixelTransform:this.La,extent:r,focus:this.T?this.T:i,index:this.bb++,layerStates:p,layerStatesArray:a,logos:tt({},this.Md),pixelRatio:this.ra,pixelToCoordinateTransform:this.If,postRenderFunctions:[],size:o,skippedFeatureUids:this.O,tileQueue:this.ua,time:e,usedTiles:{},viewState:h,viewHints:s,wantedTiles:{}}}s&&(s.extent=H(h.center,h.resolution,h.rotation,s.size,r)),this.c=s,this.pc.bh(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.Ea,s.postRenderFunctions),!n||this.f&&(q(this.f)||Z(s.extent,this.f))||(this.b(new Ge("movestart",this,n)),this.f=L(this.f)),!this.f||s.viewHints[0]||s.viewHints[1]||Z(s.extent,this.f)||(this.b(new Ge("moveend",this,s)),f(s.extent,this.f))),this.b(new Ge("postrender",this,s)),setTimeout(this.sm.bind(this),0)},t.zf=function(t){this.set("layergroup",t)},t.be=function(t){this.set("size",t)},t.Ad=function(t){this.set("target",t)},t.jh=function(t){this.set("view",t)},t.Uj=function(t){t=Qt(t).toString(),this.O[t]=!0,this.render()},t.Oc=function(){var t=this.Cc();if(t){var e=getComputedStyle(t);this.be([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.be(void 0)},t.Zj=function(t){t=Qt(t).toString(),delete this.O[t],this.render()};var Pr=["canvas","webgl"];function Er(t){Le.call(this),this.element=t.element?t.element:null,this.a=this.T=null,this.s=[],this.render=t.render?t.render:A,t.target&&this.i(t.target)}s(Er,Le),Er.prototype.ia=function(){vr(this.element),Le.prototype.ia.call(this)},Er.prototype.f=function(){return this.a},Er.prototype.setMap=function(t){this.a&&vr(this.element);for(var e=0,o=this.s.length;e<o;++e)me(this.s[e]);this.s.length=0,(this.a=t)&&((this.T?this.T:t.v).appendChild(this.element),this.render!==A&&this.s.push(ve(t,"postrender",this.render,this)),t.render())},Er.prototype.i=function(t){this.T="string"==typeof t?document.getElementById(t):t};var Lr,Tr,jr=(Tr={},function(t){if(Lr||(Lr=document.createElement("div").style),!(t in Tr)){Lr.font=t;var e=Lr.fontFamily;if(Lr.font="",!e)return null;Tr[t]=e.split(/,\s?/)}return Tr[t]});function Fr(t){var e=tt({},t);delete e.source,Ar.call(this,e),this.o=this.v=this.s=null,t.map&&this.setMap(t.map),ve(this,je("source"),this.wm,this),this.hd(t.source?t.source:null)}function Rr(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}function Or(t){t=t||{},this.v=document.createElement("UL"),this.l=document.createElement("LI"),this.v.appendChild(this.l),this.l.style.display="none",this.c=void 0===t.collapsed||t.collapsed,this.j=void 0===t.collapsible||t.collapsible,this.j||(this.c=!1);var e=void 0!==t.className?t.className:"ol-attribution",o=void 0!==t.tipLabel?t.tipLabel:"Attributions",i=void 0!==t.collapseLabel?t.collapseLabel:"\xbb";"string"==typeof i?(this.o=document.createElement("span"),this.o.textContent=i):this.o=i,"string"==typeof(i=void 0!==t.label?t.label:"i")?(this.D=document.createElement("span"),this.D.textContent=i):this.D=i;var r=this.j&&!this.c?this.o:this.D;(i=document.createElement("button")).setAttribute("type","button"),i.title=o,i.appendChild(r),ve(i,"click",this.Bn,this),(o=document.createElement("div")).className=e+" ol-unselectable ol-control"+(this.c&&this.j?" ol-collapsed":"")+(this.j?"":" ol-uncollapsible"),o.appendChild(this.v),o.appendChild(i),Er.call(this,{element:o,render:t.render?t.render:Nr,target:t.target}),this.B=[],this.C=!0,this.O={}}function Nr(t){if(t=t.frameState){for(var e={},o=[],i=t.layerStatesArray,r=t.viewState.resolution,n=0,s=i.length;n<s;++n){var a=i[n];if(Rr(a,r)&&(a=a.layer.ha())&&(a=a.C)&&(a=a(t)))if(Array.isArray(a))for(var p=0,h=a.length;p<h;++p)a[p]in e||(o.push(a[p]),e[a[p]]=!0);else a in e||(o.push(a),e[a]=!0)}if(!oe(o,this.B)){for(;this.v.lastChild!==this.l;)this.v.removeChild(this.v.lastChild);for(e=0,i=o.length;e<i;++e)(r=document.createElement("LI")).innerHTML=o[e],this.v.appendChild(r);for(c in 0===o.length&&0<this.B.length?this.element.classList.add("ol-logo-only"):0===this.B.length&&0<o.length&&this.element.classList.remove("ol-logo-only"),e=0<o.length||!ee(t.logos),this.C!=e&&(this.element.style.display=e?"":"none",this.C=e),this.B=o,t=t.logos,o=this.O)c in t||(vr(o[c]),delete o[c]);for(var l in t)if((i=t[l])instanceof HTMLElement&&(this.l.appendChild(i),o[l]=i),!(l in o)){var c=new Image;c.src=l,""===i?e=c:((e=document.createElement("a")).href=i,e.appendChild(c)),this.l.appendChild(e),o[l]=e}this.l.style.display=ee(t)?"none":""}}else this.C&&(this.element.style.display="none",this.C=!1)}function kr(t){t.element.classList.toggle("ol-collapsed"),t.c?dr(t.o,t.D):dr(t.D,t.o),t.c=!t.c}function Dr(t){var e=void 0!==(t=t||{}).className?t.className:"ol-rotate",o=void 0!==t.label?t.label:"\u21e7";this.c=null,"string"==typeof o?(this.c=document.createElement("span"),this.c.className="ol-compass",this.c.textContent=o):(this.c=o,this.c.classList.add("ol-compass"));var i=t.tipLabel?t.tipLabel:"Reset rotation";(o=document.createElement("button")).className=e+"-reset",o.setAttribute("type","button"),o.title=i,o.appendChild(this.c),ve(o,"click",Dr.prototype.D,this),(i=document.createElement("div")).className=e+" ol-unselectable ol-control",i.appendChild(o),e=t.render?t.render:_r,this.l=t.resetNorth?t.resetNorth:void 0,Er.call(this,{element:i,render:e,target:t.target}),this.v=void 0!==t.duration?t.duration:250,this.j=void 0===t.autoHide||t.autoHide,this.o=void 0,this.j&&this.element.classList.add("ol-hidden")}function _r(t){if(t=t.frameState){if((t=t.viewState.rotation)!=this.o){var e="rotate("+t+"rad)";if(this.j){var o=this.element.classList.contains("ol-hidden");o||0!==t?o&&0!==t&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.c.style.msTransform=e,this.c.style.webkitTransform=e,this.c.style.transform=e}this.o=t}}function Gr(t){var e=void 0!==(t=t||{}).className?t.className:"ol-zoom",o=void 0!==t.delta?t.delta:1,i=void 0!==t.zoomInLabel?t.zoomInLabel:"+",r=void 0!==t.zoomOutLabel?t.zoomOutLabel:"\u2212",n=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",s=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",a=document.createElement("button");a.className=e+"-in",a.setAttribute("type","button"),a.title=n,a.appendChild("string"==typeof i?document.createTextNode(i):i),ve(a,"click",Gr.prototype.j.bind(this,o)),(i=document.createElement("button")).className=e+"-out",i.setAttribute("type","button"),i.title=s,i.appendChild("string"==typeof r?document.createTextNode(r):r),ve(i,"click",Gr.prototype.j.bind(this,-o)),(o=document.createElement("div")).className=e+" ol-unselectable ol-control",o.appendChild(a),o.appendChild(i),Er.call(this,{element:o,target:t.target}),this.c=void 0!==t.duration?t.duration:250}function Br(t){t=t||{};var e=new Oe;return(void 0===t.zoom||t.zoom)&&e.push(new Gr(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&e.push(new Dr(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&e.push(new Or(t.attributionOptions)),e}function Ur(t,e,o){this.i=t,this.c=e,this.f=o,this.b=[],this.a=this.g=0}function zr(t){t.b.length=0,t.g=0,t.a=0}function Zr(t){Le.call(this),this.v=null,this.Ha(!0),this.handleEvent=t.handleEvent}function Vr(t,e,o,i){if(void 0!==e){var r=t.Sa(),n=t.xa();void 0!==r&&n&&0<i?t.animate({rotation:e,anchor:o,duration:i,easing:ri}):t.rotate(e,o)}}function Hr(t,e,o,i){var r=t.Pa();if(void 0!==(e=t.constrainResolution(r,e,0))){var n=t.j;e=C(e,t.i||n[n.length-1],t.a||n[0])}o&&void 0!==e&&e!==r&&(n=t.xa(),o=cr(t,e,o),o=t.Sc(o),o=[(e*n[0]-r*o[0])/(e-r),(e*n[1]-r*o[1])/(e-r)]),Wr(t,e,o,i)}function Wr(t,e,o,i){if(e){var r=t.Pa(),n=t.xa();void 0!==r&&n&&e!==r&&i?t.animate({resolution:e,anchor:o,duration:i,easing:ri}):(o&&(o=cr(t,e,o),t.ub(o)),t.gd(e))}}function Xr(t){t=t||{},this.a=t.delta?t.delta:1,Zr.call(this,{handleEvent:Yr}),this.f=void 0!==t.duration?t.duration:250}function Yr(t){var e=!1,o=t.originalEvent;if("dblclick"==t.type){e=t.coordinate,o=o.shiftKey?-this.a:this.a;var i=t.map.aa();Hr(i,o,e,this.f),t.preventDefault(),e=!0}return!e}function Kr(t){return(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}function Jr(t){return(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function qr(t){return 0==(t=t.originalEvent).button&&!(Ye&&Ke&&t.ctrlKey)}function Qr(t){return"pointermove"==t.type}function $r(t){return"singleclick"==t.type}function tn(t){return!(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}function en(t){return!(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function on(t){return"INPUT"!==(t=t.originalEvent.target.tagName)&&"SELECT"!==t&&"TEXTAREA"!==t}function rn(t){return N(t.b,56),"mouse"==t.b.pointerType}function nn(t){return(t=t.b).isPrimary&&0===t.button}function sn(t){Zr.call(this,{handleEvent:(t=t||{}).handleEvent?t.handleEvent:pn}),this.ck=t.handleDownEvent?t.handleDownEvent:pi,this.Ek=t.handleDragEvent?t.handleDragEvent:A,this.Kk=t.handleMoveEvent?t.handleMoveEvent:A,this.Lk=t.handleUpEvent?t.handleUpEvent:pi,this.D=!1,this.$={},this.l=[]}function an(t){for(var e=t.length,o=0,i=0,r=0;r<e;r++)o+=t[r].clientX,i+=t[r].clientY;return[o/e,i/e]}function pn(t){if(!(t instanceof po))return!0;var e=!1,o=t.type;if("pointerdown"===o||"pointerdrag"===o||"pointerup"===o){var i=(o=t.b).pointerId.toString();"pointerup"==t.type?delete this.$[i]:"pointerdown"==t.type?this.$[i]=o:i in this.$&&(this.$[i]=o),this.l=ot(this.$)}return this.D?"pointerdrag"==t.type?this.Ek(t):"pointerup"==t.type&&(this.D=this.Lk(t)&&0<this.l.length):"pointerdown"==t.type?(this.D=t=this.ck(t),e=this.jd(t)):"pointermove"==t.type&&this.Kk(t),!e}function hn(t){sn.call(this,{handleDownEvent:un,handleDragEvent:ln,handleUpEvent:cn}),t=t||{},this.a=t.kinetic,this.f=null,this.o=t.condition?t.condition:tn,this.j=!1}function ln(t){var e=this.l,o=an(e);if(e.length==this.s){if(this.a&&this.a.b.push(o[0],o[1],Date.now()),this.f){var i=this.f[0]-o[0],r=o[1]-this.f[1],n=(t=t.map.aa()).getState();Qo(i=[i,r],n.resolution),qo(i,n.rotation),Wo(i,n.center),i=t.Sc(i),t.ub(i)}}else this.a&&zr(this.a);this.f=o,this.s=e.length}function cn(t){var e=t.map;if(t=e.aa(),0===this.l.length){if(!this.j&&this.a&&function(t){if(t.b.length<6)return!1;var e=Date.now()-t.f,o=t.b.length-3;if(t.b[o+2]<e)return!1;for(var i=o-3;0<i&&t.b[i+2]>e;)i-=3;if((e=t.b[o+2]-t.b[i+2])<1e3/60)return!1;var r=t.b[o]-t.b[i];return o=t.b[o+1]-t.b[i+1],t.g=Math.atan2(o,r),t.a=Math.sqrt(r*r+o*o)/e,t.a>t.c}(this.a)){var o=this.a;o=(o.c-o.a)/o.i;var i=this.a.g,r=t.xa();r=e.Ia(r),e=e.Ra([r[0]-o*Math.cos(i),r[1]-o*Math.sin(i)]),t.animate({center:t.Sc(e),duration:500,easing:ri})}return yr(t,1,-1),!1}return this.a&&zr(this.a),this.f=null,!0}function un(t){if(0<this.l.length&&this.o(t)){var e=t.map.aa();return this.f=null,this.D||yr(e,1,1),e.Ac()&&e.ub(t.frameState.viewState.center),this.a&&zr(this.a),this.j=1<this.l.length,!0}return!1}function gn(t){t=t||{},sn.call(this,{handleDownEvent:dn,handleDragEvent:yn,handleUpEvent:fn}),this.f=t.condition?t.condition:Jr,this.a=void 0,this.j=void 0!==t.duration?t.duration:250}function yn(t){if(rn(t)){var e=t.map,o=e.aa();if(o.l.rotation!==zo){if(e=e.Cb(),t=t.pixel,t=Math.atan2(e[1]/2-t[1],t[0]-e[0]/2),void 0!==this.a){e=t-this.a;var i=o.Sa();Vr(o,i-e)}this.a=t}}}function fn(t){if(!rn(t))return!0;yr(t=t.map.aa(),1,-1);var e=t.Sa(),o=this.j;return e=t.constrainRotation(e,0),Vr(t,e,void 0,o),!1}function dn(t){return!!(rn(t)&&qr(t)&&this.f(t))&&(yr(t.map.aa(),1,1),this.a=void 0,!0)}function vn(t){this.Uc=null,this.a=document.createElement("div"),this.a.style.position="absolute",this.a.className="ol-box "+t,this.g=this.c=this.b=null}function An(t){var e=t.c,o=t.g;(t=t.a.style).left=Math.min(e[0],o[0])+"px",t.top=Math.min(e[1],o[1])+"px",t.width=Math.abs(o[0]-e[0])+"px",t.height=Math.abs(o[1]-e[1])+"px"}function Cn(t){var e=t.c,o=t.g;(e=[e,[e[0],o[1]],o,[o[0],e[1]]].map(t.b.Ra,t.b))[4]=e[0].slice(),t.Uc?t.Uc.na([e]):t.Uc=new or([e])}function mn(t){sn.call(this,{handleDownEvent:Mn,handleDragEvent:bn,handleUpEvent:wn}),t=t||{},this.a=new vn(t.className||"ol-dragbox"),this.o=void 0!==t.minArea?t.minArea:64,this.f=null,this.C=t.condition?t.condition:ai,this.s=t.boxEndCondition?t.boxEndCondition:In}function In(t,e,o){return t=o[0]-e[0],e=o[1]-e[1],t*t+e*e>=this.o}function bn(t){if(rn(t)){var e=this.a,o=t.pixel;e.c=this.f,e.g=o,Cn(e),An(e),this.b(new En(xn,t.coordinate,t))}}function wn(t){return!rn(t)||(this.a.setMap(null),this.s(t,this.f,t.pixel)&&(this.j(t),this.b(new En(Pn,t.coordinate,t))),!1)}function Mn(t){if(rn(t)&&qr(t)&&this.C(t)){this.f=t.pixel,this.a.setMap(t.map);var e=this.a,o=this.f;return e.c=this.f,e.g=o,Cn(e),An(e),this.b(new En(Sn,t.coordinate,t)),!0}return!1}s(Fr,Ar),(t=Fr.prototype).dg=function(t){return(t=t||[]).push(Cr(this)),t},t.ha=function(){return this.get("source")||null},t.hg=function(){var t=this.ha();return t?t.getState():"undefined"},t.yo=function(){this.u()},t.wm=function(){this.o&&(me(this.o),this.o=null);var t=this.ha();t&&(this.o=ve(t,"change",this.yo,this)),this.u()},t.setMap=function(t){this.s&&(me(this.s),this.s=null),t||this.u(),this.v&&(me(this.v),this.v=null),t&&(this.s=ve(t,"precompose",function(t){var e=Cr(this);e.Te=!1,e.zIndex=1/0,t.frameState.layerStatesArray.push(e),t.frameState.layerStates[Qt(this)]=e},this),this.v=ve(this,"change",t.render,t),this.u())},t.hd=function(t){this.set("source",t)},s(Or,Er),(t=Or.prototype).Bn=function(t){t.preventDefault(),kr(this)},t.An=function(){return this.j},t.Dn=function(t){this.j!==t&&(this.j=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.c&&kr(this))},t.Cn=function(t){this.j&&this.c!==t&&kr(this)},t.zn=function(){return this.c},s(Dr,Er),Dr.prototype.D=function(t){t.preventDefault(),void 0!==this.l?this.l():(t=this.a.aa())&&void 0!==t.Sa()&&(0<this.v?t.animate({rotation:0,duration:this.v,easing:ri}):t.ce(0))},s(Gr,Er),Gr.prototype.j=function(t,e){if(e.preventDefault(),e=this.a.aa()){var o=e.Pa();o&&(t=e.constrainResolution(o,t),0<this.c?(e.Ac()&&e.rd(),e.animate({resolution:t,duration:this.c,easing:ri})):e.gd(t))}},s(Zr,Le),Zr.prototype.c=function(){return this.get("active")},Zr.prototype.i=function(){return this.v},Zr.prototype.Ha=function(t){this.set("active",t)},Zr.prototype.setMap=function(t){this.v=t},s(Xr,Zr),s(sn,Zr),sn.prototype.jd=function(t){return t},s(hn,sn),hn.prototype.jd=pi,s(gn,sn),gn.prototype.jd=pi,s(vn,be),vn.prototype.ia=function(){this.setMap(null)},vn.prototype.setMap=function(t){if(this.b){this.b.o.removeChild(this.a);var e=this.a.style;e.left=e.top=e.width=e.height="inherit"}(this.b=t)&&this.b.o.appendChild(this.a)},vn.prototype.U=function(){return this.Uc},s(mn,sn),mn.prototype.U=function(){return this.a.U()},mn.prototype.j=A;var Sn="boxstart",xn="boxdrag",Pn="boxend";function En(t,e,o){Me.call(this,t),this.coordinate=e,this.mapBrowserEvent=o}function Ln(t){var e=(t=t||{}).condition?t.condition:en;this.B=void 0!==t.duration?t.duration:200,this.T=void 0!==t.out&&t.out,mn.call(this,{condition:e,className:t.className||"ol-dragzoom"})}function Tn(t){Zr.call(this,{handleEvent:jn}),t=t||{},this.a=function(t){return tn(t)&&on(t)},this.f=void 0!==t.condition?t.condition:this.a,this.j=void 0!==t.duration?t.duration:100,this.l=void 0!==t.pixelDelta?t.pixelDelta:128}function jn(t){var e=!1;if("keydown"==t.type){var o=t.originalEvent.keyCode;if(this.f(t)&&(40==o||37==o||39==o||38==o)){var i=(e=t.map.aa()).Pa()*this.l,r=0,n=0;40==o?n=-i:37==o?r=-i:39==o?r=i:n=i,qo(i=[r,n],e.Sa()),o=this.j,(r=e.xa())&&(i=e.Sc([r[0]+i[0],r[1]+i[1]]),o?e.animate({duration:o,easing:si,center:i}):e.ub(i)),t.preventDefault(),e=!0}}return!e}function Fn(t){Zr.call(this,{handleEvent:Rn}),t=t||{},this.f=t.condition?t.condition:on,this.a=t.delta?t.delta:1,this.j=void 0!==t.duration?t.duration:100}function Rn(t){var e=!1;if("keydown"==t.type||"keypress"==t.type){var o=t.originalEvent.charCode;!this.f(t)||43!=o&&45!=o||(e=43==o?this.a:-this.a,Hr(o=t.map.aa(),e,void 0,this.j),t.preventDefault(),e=!0)}return!e}function On(t){Zr.call(this,{handleEvent:Nn}),t=t||{},this.j=0,this.D=void 0!==t.duration?t.duration:250,this.$=void 0!==t.timeout?t.timeout:80,this.C=void 0===t.useAnchor||t.useAnchor,this.O=t.constrainResolution||!1,this.a=null,this.s=this.l=this.o=this.f=void 0}function Nn(t){var e=t.type;if("wheel"!==e&&"mousewheel"!==e)return!0;t.preventDefault(),e=t.map;var o=t.originalEvent;if(this.C&&(this.a=t.coordinate),"wheel"==t.type){var i=o.deltaY;We&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(i/=Je),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(i*=40)}else"mousewheel"==t.type&&(i=-o.wheelDeltaY,Xe&&(i/=3));if(0===i)return!1;if(t=Date.now(),void 0===this.f&&(this.f=t),(!this.l||400<t-this.f)&&(this.l=Math.abs(i)<4?kn:Dn),this.l===kn){e=e.aa(),this.s?clearTimeout(this.s):yr(e,1,1),this.s=setTimeout(this.B.bind(this),400),o=e.Pa()*Math.pow(2,i/300);var r=e.i,n=e.a,s=0;if(o<r?(o=Math.max(o,r/1.5),s=1):n<o&&(o=Math.min(o,1.5*n),s=-1),this.a){var a=cr(e,o,this.a);e.ub(e.Sc(a))}return e.gd(o),0===s&&this.O&&e.animate({resolution:e.constrainResolution(o,0<i?-1:1),easing:ri,anchor:this.a,duration:this.D}),0<s?e.animate({resolution:r,easing:ri,anchor:this.a,duration:500}):s<0&&e.animate({resolution:n,easing:ri,anchor:this.a,duration:500}),this.f=t,!1}return this.j+=i,i=Math.max(this.$-(t-this.f),0),clearTimeout(this.o),this.o=setTimeout(this.T.bind(this,e),i),!1}s(En,Me),s(Ln,mn),Ln.prototype.j=function(){var t=this.v,e=t.aa(),o=t.Cb(),i=this.U().G();if(this.T){var r,n=e.qd(o);i=[t.Ia(D(i)),t.Ia(K(i))],t=L(void 0);var s=0;for(r=i.length;s<r;++s)j(t,i[s]);i=e.Je(t,o),Q(n,1/i),i=n}o=e.constrainResolution(e.Je(i,o)),n=V(i),n=e.Sc(n),e.animate({resolution:o,center:n,duration:this.B,easing:ri})},s(Tn,Zr),s(Fn,Zr),s(On,Zr),On.prototype.B=function(){this.s=void 0,yr(this.v.aa(),1,-1)},On.prototype.T=function(t){(t=t.aa()).Ac()&&t.rd(),Hr(t,-C(this.j,-1,1),this.a,this.D),this.l=void 0,this.j=0,this.a=null,this.o=this.f=void 0},On.prototype.V=function(t){(this.C=t)||(this.a=null)};var kn="trackpad",Dn="wheel";function _n(t){sn.call(this,{handleDownEvent:Un,handleDragEvent:Gn,handleUpEvent:Bn}),t=t||{},this.f=null,this.j=void 0,this.a=!1,this.s=0,this.C=void 0!==t.threshold?t.threshold:.3,this.o=void 0!==t.duration?t.duration:250}function Gn(t){var e=0,o=this.l[0],i=this.l[1];if(o=Math.atan2(i.clientY-o.clientY,i.clientX-o.clientX),void 0!==this.j&&(e=o-this.j,this.s+=e,!this.a&&Math.abs(this.s)>this.C&&(this.a=!0)),this.j=o,t=t.map,(o=t.aa()).l.rotation!==zo){i=t.a.getBoundingClientRect();var r=an(this.l);r[0]-=i.left,r[1]-=i.top,this.f=t.Ra(r),this.a&&(i=o.Sa(),t.render(),Vr(o,i+e,this.f))}}function Bn(t){if(this.l.length<2){if(yr(t=t.map.aa(),1,-1),this.a){var e=t.Sa(),o=this.f,i=this.o;e=t.constrainRotation(e,0),Vr(t,e,o,i)}return!1}return!0}function Un(t){return 2<=this.l.length&&(t=t.map,this.f=null,this.j=void 0,this.a=!1,this.s=0,this.D||yr(t.aa(),1,1),!0)}function zn(t){sn.call(this,{handleDownEvent:Hn,handleDragEvent:Zn,handleUpEvent:Vn}),t=t||{},this.s=t.constrainResolution||!1,this.f=null,this.o=void 0!==t.duration?t.duration:400,this.a=void 0,this.j=1}function Zn(t){var e=1,o=this.l[0],i=this.l[1],r=o.clientX-i.clientX;o=o.clientY-i.clientY,r=Math.sqrt(r*r+o*o),void 0!==this.a&&(e=this.a/r),this.a=r,t=t.map,r=t.aa(),i=r.Pa();var n=r.a,s=r.i;n<(o=i*e)?(e=n/i,o=n):o<s&&(e=s/i,o=s),1!=e&&(this.j=e),e=t.a.getBoundingClientRect(),(i=an(this.l))[0]-=e.left,i[1]-=e.top,this.f=t.Ra(i),t.render(),Wr(r,o,this.f)}function Vn(t){if(this.l.length<2){yr(t=t.map.aa(),1,-1);var e=t.Pa();if(this.s||e<t.i||e>t.a){var o=this.f,i=this.o;e=t.constrainResolution(e,0,this.j-1),Wr(t,e,o,i)}return!1}return!0}function Hn(t){return 2<=this.l.length&&(t=t.map,this.f=null,this.a=void 0,this.j=1,this.D||yr(t.aa(),1,1),!0)}function Wn(t){t=t||{};var e=new Oe,o=new Ur(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&e.push(new gn),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&e.push(new Xr({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&e.push(new hn({kinetic:o})),(void 0===t.pinchRotate||t.pinchRotate)&&e.push(new _n),(void 0===t.pinchZoom||t.pinchZoom)&&e.push(new zn({constrainResolution:t.constrainResolution,duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(e.push(new Tn),e.push(new Fn({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&e.push(new On({constrainResolution:t.constrainResolution,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&e.push(new Ln({duration:t.zoomDuration})),e}function Xn(t,e,o,i){xe.call(this),this.extent=t,this.a=o,this.resolution=e,this.state=i}function Yn(t,e,o,i,r){this.c=void 0!==r?r:null,Xn.call(this,t,e,o,void 0!==r?0:2),this.g=i}function Kn(t,e,o,i,r){Me.call(this,t),this.vectorContext=e,this.frameState=o,this.context=i,this.glContext=r}function Jn(t){xe.call(this),this.highWaterMark=void 0!==t?t:2048,this.i=0,this.a={},this.c=this.g=null}function qn(t){return t.i>t.highWaterMark}s(_n,sn),_n.prototype.jd=pi,s(zn,sn),zn.prototype.jd=pi,s(Xn,xe),Xn.prototype.u=function(){this.b("change")},Xn.prototype.G=function(){return this.extent},Xn.prototype.getState=function(){return this.state},s(Yn,Xn),Yn.prototype.i=function(t){this.state=t?3:2,this.u()},Yn.prototype.load=function(){0==this.state&&(this.state=1,this.u(),this.c(this.i.bind(this)))},Yn.prototype.Y=function(){return this.g},s(Kn,Me),s(Jn,xe),(t=Jn.prototype).clear=function(){this.i=0,this.a={},this.c=this.g=null,this.b("clear")},t.forEach=function(t,e){for(var o=this.g;o;)t.call(e,o.Pc,o.jc,this),o=o.kb},t.get=function(t){return N(void 0!==(t=this.a[t]),15),t===this.c||(t===this.g?(this.g=this.g.kb,this.g.Pb=null):(t.kb.Pb=t.Pb,t.Pb.kb=t.kb),t.kb=null,t.Pb=this.c,this.c=this.c.kb=t),t.Pc},t.remove=function(t){var e=this.a[t];return N(void 0!==e,15),e===this.c?(this.c=e.Pb)&&(this.c.kb=null):e===this.g?(this.g=e.kb)&&(this.g.Pb=null):(e.kb.Pb=e.Pb,e.Pb.kb=e.kb),delete this.a[t],--this.i,e.Pc},t.pop=function(){var t=this.g;return delete this.a[t.jc],t.kb&&(t.kb.Pb=null),this.g=t.kb,this.g||(this.c=null),--this.i,t.Pc},t.replace=function(t,e){this.get(t),this.a[t].Pc=e},t.set=function(t,e){N(!(t in this.a),16),e={jc:t,kb:null,Pb:this.c,Pc:e},this.c?this.c.kb=e:this.g=e,this.c=e,this.a[t]=e,++this.i};var Qn=[0,0,0,1],$n=[],ts=[0,0,0,1],es=[0,0,0,0],os=new Jn,is={},rs=null,ns={},ss=function(){function r(t){var e=as();e.font="32px monospace",i=e.measureText("wmytzilWMYTZIL@#/&?$%10").width;var o=!0;return"monospace"!=t&&(e.font="32px "+t+",monospace",o=e.measureText("wmytzilWMYTZIL@#/&?$%10").width!=i),o}function n(){var t,e=!0;for(t in a)a[t]<60&&(r(t)?(a[t]=60,et(ns),rs=null,o.clear()):(++a[t],e=!1));e&&(window.clearInterval(s),s=void 0)}var s,i,a=is,o=os;return function(t){if(t=jr(t))for(var e=0,o=t.length;e<o;++e){var i=t[e];i in a||(a[i]=60,r(i)||void(a[i]=0)===s&&(s=window.setInterval(n,32)))}}}();function as(){var t=rs;return t||(t=rs=fr(1,1)),t}var ps,hs=function(t){var e=ns[t];return null==e&&(ps||((ps=document.createElement("span")).textContent="M",ps.style.margin=ps.style.padding="0 !important",ps.style.position="absolute !important",ps.style.left="-99999px !important"),ps.style.font=t,document.body.appendChild(ps),e=ns[t]=ps.offsetHeight,document.body.removeChild(ps)),e};function ls(t,e){var o=as();return t!=o.font&&(o.font=t),o.measureText(e).width}function cs(t,e,o,i){0!==e&&(t.translate(o,i),t.rotate(e),t.translate(-o,-i))}var us=[1,0,0,1,0,0];function gs(t,e,o,i,r,n,s,a,p,h,l){if(1!=o){var c=t.globalAlpha;t.globalAlpha=c*o}e&&t.setTransform.apply(t,e),t.drawImage(i,r,n,s,a,p,h,s*l,a*l),c&&(t.globalAlpha=c),e&&t.setTransform.apply(t,us)}var ys=/^#(?:[0-9a-f]{3,4}){1,2}$/i,fs=/^([a-z]*)$/i;function ds(t){return Array.isArray(t)?t:ms(t)}function vs(t){if("string"!=typeof t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var o=t[1];o!=(0|o)&&(o=o+.5|0);var i=t[2];i!=(0|i)&&(i=i+.5|0),t="rgba("+e+","+o+","+i+","+(void 0===t[3]?1:t[3])+")"}return t}var As,Cs,ms=(As={},Cs=0,function(t){if(As.hasOwnProperty(t))var e=As[t];else{if(1024<=Cs)for(var o in e=0,As)0==(3&e++)&&(delete As[o],--Cs);if(e=t,fs.exec(e)&&((o=document.createElement("div")).style.color=e,document.body.appendChild(o),e=getComputedStyle(o).color,document.body.removeChild(o)),ys.exec(e)){var i=(o=e.length-1)<=4?1:2,r=4===o||8===o;o=parseInt(e.substr(1+0*i,i),16);var n=parseInt(e.substr(1+1*i,i),16),s=parseInt(e.substr(1+2*i,i),16);e=r?parseInt(e.substr(1+3*i,i),16):255,1==i&&(o=(o<<4)+o,n=(n<<4)+n,s=(s<<4)+s,r&&(e=(e<<4)+e)),i=[o,n,s,e/255]}else 0==e.indexOf("rgba(")?(e=e.slice(5,-1).split(",").map(Number),i=Is(e)):0==e.indexOf("rgb(")?((e=e.slice(4,-1).split(",").map(Number)).push(1),i=Is(e)):N(!1,14);e=i,As[t]=e,++Cs}return e});function Is(t){var e=[];return e[0]=C(t[0]+.5|0,0,255),e[1]=C(t[1]+.5|0,0,255),e[2]=C(t[2]+.5|0,0,255),e[3]=C(t[3],0,1),e}function bs(t){return"string"==typeof t||t instanceof CanvasPattern||t instanceof CanvasGradient?t:vs(t)}function ws(){}function Ms(t,e,o,i,r){this.g=t,this.f=e,this.c=o,this.N=i,this.ob=r,this.M=this.b=this.a=this.Wa=this.O=this.T=null,this.$=this.V=this.v=this.B=this.C=this.D=0,this.ca=!1,this.i=this.ab=0,this.ra=!1,this.oa=0,this.ta="",this.Ub=this.ua=0,this.Ea=!1,this.s=this.La=0,this.qa=this.l=this.j=null,this.o=[],this.bb=[1,0,0,1,0,0]}function Ss(t,e,o){if(t.M){e=hi(e,0,o,2,t.N,t.o),o=t.g;var i=t.bb,r=o.globalAlpha;1!=t.v&&(o.globalAlpha=r*t.v);var n,s=t.ab;t.ca&&(s+=t.ob);var a=0;for(n=e.length;a<n;a+=2){var p=e[a]-t.D,h=e[a+1]-t.C;if(t.ra&&(p=Math.round(p),h=Math.round(h)),0!==s||1!=t.i){var l=p+t.D,c=h+t.C;mi(i,l,c,t.i,t.i,s,-l,-c),o.setTransform.apply(o,i)}o.drawImage(t.M,t.V,t.$,t.oa,t.B,p,h,t.oa,t.B)}0===s&&1==t.i||o.setTransform(1,0,0,1,0,0),1!=t.v&&(o.globalAlpha=r)}}function xs(t,e,o,i){var r=0;if(t.qa&&""!==t.ta){t.j&&Ls(t,t.j),t.l&&Ts(t,t.l);var n=t.qa,s=t.g,a=t.Wa,p=n.textAlign?n.textAlign:"center";for(a?(a.font!=n.font&&(a.font=s.font=n.font),a.textAlign!=p&&(a.textAlign=p),a.textBaseline!=n.textBaseline&&(a.textBaseline=s.textBaseline=n.textBaseline)):(s.font=n.font,s.textAlign=p,s.textBaseline=n.textBaseline,t.Wa={font:n.font,textAlign:p,textBaseline:n.textBaseline}),e=hi(e,r,o,i,t.N,t.o),n=t.g,s=t.La,t.Ea&&(s+=t.ob);r<o;r+=i){if(a=e[r]+t.ua,p=e[r+1]+t.Ub,0!==s||1!=t.s){var h=mi(t.bb,a,p,t.s,t.s,s,-a,-p);n.setTransform.apply(n,h)}t.l&&n.strokeText(t.ta,a,p),t.j&&n.fillText(t.ta,a,p)}0===s&&1==t.s||n.setTransform(1,0,0,1,0,0)}}function Ps(t,e,o,i,r,n){var s=t.g;for(t=hi(e,o,i,r,t.N,t.o),s.moveTo(t[0],t[1]),e=t.length,n&&(e-=2),o=2;o<e;o+=2)s.lineTo(t[o],t[o+1]);return n&&s.closePath(),i}function Es(t,e,o,i,r){var n,s=0;for(n=i.length;s<n;++s)o=Ps(t,e,o,i[s],r,!0);return o}function Ls(t,e){var o=t.g,i=t.T;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=o.fillStyle=e.fillStyle):(o.fillStyle=e.fillStyle,t.T={fillStyle:e.fillStyle})}function Ts(t,e){var o=t.g,i=t.O;i?(i.lineCap!=e.lineCap&&(i.lineCap=o.lineCap=e.lineCap),qe&&(oe(i.lineDash,e.lineDash)||o.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=o.lineDashOffset=e.lineDashOffset)),i.lineJoin!=e.lineJoin&&(i.lineJoin=o.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=o.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=o.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=o.strokeStyle=e.strokeStyle)):(o.lineCap=e.lineCap,qe&&(o.setLineDash(e.lineDash),o.lineDashOffset=e.lineDashOffset),o.lineJoin=e.lineJoin,o.lineWidth=e.lineWidth,o.miterLimit=e.miterLimit,o.strokeStyle=e.strokeStyle,t.O={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}function js(t){Ee.call(this),this.a=t}function Fs(t,e){var o=e.getState();return 2!=o&&3!=o&&ve(e,"change",t.$,t),0==o&&(e.load(),o=e.getState()),2==o}function Rs(t){var e=t.a;e.Jb()&&"ready"==e.hg()&&t.u()}function Os(t,e){e.cj()&&t.postRenderFunctions.push(function(t,e,o){(e=Qt(t).toString())in o.usedTiles&&t.sd(o.viewState.projection,o.usedTiles[e])}.bind(null,e))}function Ns(t,e){void 0!==(e=e.T)&&("string"==typeof e?t.logos[e]="":e&&(N("string"==typeof e.href,44),N("string"==typeof e.src,45),t.logos[e.src]=e.href))}function ks(t,e,o,i){e=Qt(e).toString(),o=o.toString(),e in t?o in t[e]?(t=t[e][o],i.fa<t.fa&&(t.fa=i.fa),i.la>t.la&&(t.la=i.la),i.ea<t.ea&&(t.ea=i.ea),i.ka>t.ka&&(t.ka=i.ka)):t[e][o]=i:(t[e]={},t[e][o]=i)}function Ds(t,e,o,i,r,n,s,a,p,h){var l=Qt(e).toString();l in t.wantedTiles||(t.wantedTiles[l]={});var c,u,g,y=t.wantedTiles[l];for(t=t.tileQueue,g=o.minZoom;g<=s;++g){var f=re(o,n,g,f),d=o.Ta(g);for(c=f.fa;c<=f.la;++c)for(u=f.ea;u<=f.ka;++u)if(s-g<=a){var v=e.ad(g,c,u,i,r);0==v.getState()&&(y[v.lb()]=!0,v.lb()in t.a||t.i([v,l,ne(o,v.ya),d])),void 0!==p&&p.call(h,v)}else e.kh(g,c,u,r)}}function _s(t){js.call(this,t),this.V=[1,0,0,1,0,0]}function Gs(t,e,o){var i=e.pixelRatio,r=e.size[0]*i,n=e.size[1]*i,s=e.viewState.rotation,a=Y(o),p=K(o),h=_(o);o=D(o),di(e.coordinateToPixelTransform,a),di(e.coordinateToPixelTransform,p),di(e.coordinateToPixelTransform,h),di(e.coordinateToPixelTransform,o),t.save(),cs(t,-s,r/2,n/2),t.beginPath(),t.moveTo(a[0]*i,a[1]*i),t.lineTo(p[0]*i,p[1]*i),t.lineTo(h[0]*i,h[1]*i),t.lineTo(o[0]*i,o[1]*i),t.clip(),cs(t,s,r/2,n/2)}function Bs(t,e,o,i,r){var n=t.a;if(Pe(n,e)){var s=i.size[0]*i.pixelRatio,a=i.size[1]*i.pixelRatio,p=i.viewState.rotation;cs(o,-p,s/2,a/2),t=void 0!==r?r:Us(t,i,0),n.b(new Kn(e,new Ms(o,i.pixelRatio,i.extent,t,i.viewState.rotation),i,o,null)),cs(o,p,s/2,a/2)}}function Us(t,e,o){var i=e.viewState,r=e.pixelRatio,n=r/i.resolution;return mi(t.V,r*e.size[0]/2,r*e.size[1]/2,n,-n,-i.rotation,-i.center[0]+o,-i.center[1])}function zs(t){_s.call(this,t),this.l=[1,0,0,1,0,0],this.j=null}function Zs(t){zs.call(this,t),this.M=null,this.f=[1,0,0,1,0,0],this.o=[],this.c=null}function Vs(){this.b={},this.a=0,this.g=32}function Hs(t){if(t.a>t.g){var e,o=0;for(e in t.b){var i=t.b[e];0!=(3&o++)||Pe(i)||(delete t.b[e],--t.a)}}}(t=ws.prototype).Hh=function(){},t.Hb=function(){},t.Dd=function(){},t.cc=function(){},t.Ce=function(){},t.De=function(){},t.uc=function(){},t.vc=function(){},t.wc=function(){},t.xc=function(){},t.yc=function(){},t.zc=function(){},t.Wb=function(){},t.Oa=function(){},t.Zb=function(){},t.nb=function(){},s(Ms,ws),(t=Ms.prototype).cc=function(t){if(te(this.c,t.G())){if(this.a||this.b){this.a&&Ls(this,this.a),this.b&&Ts(this,this.b);var e=this.N,o=this.o,i=t.da();e=i?hi(i,0,i.length,t.pa(),e,o):null,o=e[2]-e[0],i=e[3]-e[1],o=Math.sqrt(o*o+i*i),(i=this.g).beginPath(),i.arc(e[0],e[1],o,0,2*Math.PI),this.a&&i.fill(),this.b&&i.stroke()}""!==this.ta&&xs(this,t.xa(),2,2)}},t.Dd=function(t){this.Oa(t.Fa(),t.Ga()),this.Zb(t.Y()),this.nb(t.Ka())},t.Hb=function(t){switch(t.S()){case"Point":this.yc(t);break;case"LineString":this.uc(t);break;case"Polygon":this.zc(t);break;case"MultiPoint":this.wc(t);break;case"MultiLineString":this.vc(t);break;case"MultiPolygon":this.xc(t);break;case"GeometryCollection":this.De(t);break;case"Circle":this.cc(t)}},t.Ce=function(t,e){(t=(0,e.cb)(t))&&te(this.c,t.G())&&(this.Dd(e),this.Hb(t))},t.De=function(t){var e;t=t.a;var o=0;for(e=t.length;o<e;++o)this.Hb(t[o])},t.yc=function(t){var e=t.da();t=t.pa(),this.M&&Ss(this,e,e.length),""!==this.ta&&xs(this,e,e.length,t)},t.wc=function(t){var e=t.da();t=t.pa(),this.M&&Ss(this,e,e.length),""!==this.ta&&xs(this,e,e.length,t)},t.uc=function(t){if(te(this.c,t.G())){if(this.b){Ts(this,this.b);var e=this.g,o=t.da();e.beginPath(),Ps(this,o,0,o.length,t.pa(),!1),e.stroke()}""!==this.ta&&xs(this,t=t.Fe(),2,2)}},t.vc=function(t){var e=t.G();if(te(this.c,e)){if(this.b){Ts(this,this.b),e=this.g;var o,i=t.da(),r=0,n=t.pb(),s=t.pa();e.beginPath();var a=0;for(o=n.length;a<o;++a)r=Ps(this,i,r,n[a],s,!1);e.stroke()}""!==this.ta&&xs(this,t=t.Ge(),t.length,2)}},t.zc=function(t){if(te(this.c,t.G())){if(this.b||this.a){this.a&&Ls(this,this.a),this.b&&Ts(this,this.b);var e=this.g;e.beginPath(),Es(this,t.Xb(),0,t.pb(),t.pa()),this.a&&e.fill(),this.b&&e.stroke()}""!==this.ta&&xs(this,t=t.Td(),2,2)}},t.xc=function(t){if(te(this.c,t.G())){if(this.b||this.a){this.a&&Ls(this,this.a),this.b&&Ts(this,this.b);var e,o=this.g,i=$c(t),r=0,n=t.td(),s=t.pa();o.beginPath();var a=0;for(e=n.length;a<e;++a)r=Es(this,i,r,n[a],s);this.a&&o.fill(),this.b&&o.stroke()}""!==this.ta&&xs(this,t=Qc(t),t.length,2)}},t.Oa=function(t,e){if(t?(t=t.b,this.a={fillStyle:bs(t||Qn)}):this.a=null,e){t=e.a;var o=e.f,i=e.g,r=e.i,n=e.j,s=e.c;e=e.l,this.b={lineCap:void 0!==o?o:"round",lineDash:i||$n,lineDashOffset:r||0,lineJoin:void 0!==n?n:"round",lineWidth:this.f*(void 0!==s?s:1),miterLimit:void 0!==e?e:10,strokeStyle:bs(t||ts)}}else this.b=null},t.Zb=function(t){if(t){var e=t.Vc(),o=t.Y(1),i=t.bd(),r=t.oc();this.D=e[0],this.C=e[1],this.B=r[1],this.M=o,this.v=t.i,this.V=i[0],this.$=i[1],this.ca=t.s,this.ab=t.f,this.i=t.a*this.f,this.ra=t.v,this.oa=r[0]}else this.M=null},t.nb=function(t){if(t){var e=t.Fa();e?(e=e.b,this.j={fillStyle:bs(e||Qn)}):this.j=null;var o=t.Ga();if(o){e=o.a;var i=o.f,r=o.g,n=o.i,s=o.j,a=o.c;o=o.l,this.l={lineCap:void 0!==i?i:"round",lineDash:r||$n,lineDashOffset:n||0,lineJoin:void 0!==s?s:"round",lineWidth:void 0!==a?a:1,miterLimit:void 0!==o?o:10,strokeStyle:bs(e||ts)}}else this.l=null;e=t.a,i=t.g,r=t.c,n=t.l,s=t.i,a=t.b,o=t.Ka();var p=t.f;t=t.j,this.qa={font:void 0!==e?e:"10px sans-serif",textAlign:void 0!==p?p:"center",textBaseline:void 0!==t?t:"middle"},this.ta=void 0!==o?o:"",this.ua=void 0!==i?this.f*i:0,this.Ub=void 0!==r?this.f*r:0,this.Ea=void 0!==n&&n,this.La=void 0!==s?s:0,this.s=this.f*(void 0!==a?a:1)}else this.ta=""},s(js,Ee),js.prototype.wa=A,js.prototype.cf=pi,js.prototype.Rf=function(o,i,r){return function(e,t){return Im(o,i,e,t,function(t){r[e]||(r[e]={}),r[e][t.ya.toString()]=t})}},js.prototype.$=function(t){2===t.target.getState()&&Rs(this)},s(_s,js),_s.prototype.s=function(t,e,o,i){if(this.wa(t,e,0,ai,this))return o.call(i,this.a,null)},_s.prototype.pf=function(t,e,o,i){Bs(this,"postcompose",t,e,i)},s(zs,_s),zs.prototype.df=function(t,e,o){Bs(this,"precompose",o,t,void 0);var i=this.Y();if(i){var r=e.extent,n=void 0!==r&&!U(r,t.extent)&&te(r,t.extent);n&&Gs(o,t,r),r=this.v();var s=o.globalAlpha;o.globalAlpha=e.opacity,o.drawImage(i,0,0,+i.width,+i.height,Math.round(r[4]),Math.round(r[5]),Math.round(i.width*r[0]),Math.round(i.height*r[3])),o.globalAlpha=s,n&&o.restore()}this.pf(o,t,e)},zs.prototype.wa=function(t,e,o,i,r){var n=this.a;return n.ha().wa(t,e.viewState.resolution,e.viewState.rotation,o,e.skippedFeatureUids,function(t){return i.call(r,t,n)})},zs.prototype.s=function(t,e,o,i){if(this.Y()){if(this.a.ha().wa!==A)return _s.prototype.s.apply(this,arguments);var r=di(this.l,t.slice());if(Qo(r,e.viewState.resolution/this.i),this.j||(this.j=fr(1,1)),this.j.clearRect(0,0,1,1),this.j.drawImage(this.Y(),r[0],r[1],1,1,0,0,1,1),0<(r=this.j.getImageData(0,0,1,1).data)[3])return o.call(i,this.a,r)}},s(Zs,zs),Zs.handles=function(t,e){return"canvas"===t&&("IMAGE"===e.S()||"VECTOR"===e.S()&&"image"===e.l)},Zs.create=function(t,e){var o=new Zs(e);if("VECTOR"===e.S())for(var i=0,r=wr.length;i<r;++i){var n=wr[i];n!==Zs&&n.handles("canvas",e)&&(n=n.create(t,e),o.c=n)}return o},Zs.prototype.Y=function(){return this.M?this.M.Y():null},Zs.prototype.v=function(){return this.f},Zs.prototype.$c=function(t,e){var o=t.pixelRatio,i=t.size,r=t.viewState,n=r.center,s=r.resolution,a=this.a.ha(),p=t.viewHints,h=t.extent;if(void 0!==e.extent&&(h=X(h,e.extent)),!p[0]&&!p[1]&&!q(h))if(p=r.projection,r=this.c){p=r.context;var l=tt({},t,{size:[J(h)/s,W(h)/s],viewState:tt({},t.viewState,{rotation:0})}),c=Object.keys(l.skippedFeatureUids).sort();!r.$c(l,e)||!r.j&&oe(c,this.o)||(p.canvas.width=l.size[0]*o,p.canvas.height=l.size[1]*o,r.df(l,e,p),this.M=new Yn(h,s,o,p.canvas),this.o=c)}else(r=a.Y(h,s,o,p))&&Fs(this,r)&&(this.M=r);return this.M&&(r=this.M,h=r.G(),e=r.resolution,r=r.a,p=o*e/(s*r),h=mi(this.f,o*i[0]/2,o*i[1]/2,p,p,0,r*(h[0]-n[0])/e,r*(n[1]-h[3])/e),mi(this.l,o*i[0]/2-h[4],o*i[1]/2-h[5],o/s,-o/s,0,-n[0],-n[1]),Ns(t,a),this.i=e*o/r),!!this.M},Zs.prototype.wa=function(t,e,o,i,r){return this.c?this.c.wa(t,e,o,i,r):zs.prototype.wa.call(this,t,e,o,i,r)},Vs.prototype.clear=function(){this.b={},this.a=0},Vs.prototype.get=function(t,e,o){return(t=e+":"+t+":"+(o?vs(o):"null"))in this.b?this.b[t]:null},Vs.prototype.set=function(t,e,o,i){this.b[e+":"+t+":"+(o?vs(o):"null")]=i,++this.a},Vs.prototype.c=function(t){this.g=t,Hs(this)};var Ws=new Vs;function Xs(t,e){this.l=e,this.c={},this.v={}}function Ys(t){var e=t.viewState,o=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;mi(o,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Ii(fi(i,o))}function Ks(){Hs(Ws)}function Js(t,e){var o=Qt(e).toString();if(o in t.c)return t.c[o];for(var i,r=t.S(),n=0,s=wr.length;n<s;++n){var a=wr[n];if(a.handles(r,e)){i=a.create(t,e);break}}if(!i)throw Error("Unable to create renderer for layer: "+e.S());return t.c[o]=i,t.v[o]=ve(i,"change",t.gm,t),i}function qs(t,e){var o=t.c[e];return delete t.c[e],me(t.v[e]),delete t.v[e],o}function Qs(t,e){for(var o in t.c)if(!(o in e.layerStates)){e.postRenderFunctions.push(t.oq.bind(t));break}}function $s(t,e){return t.zIndex-e.zIndex}function ta(t,e){Xs.call(this,t,e),this.g=fr(),this.b=this.g.canvas,this.b.style.width="100%",this.b.style.height="100%",this.b.style.display="block",this.b.className="ol-unselectable",t.insertBefore(this.b,t.childNodes[0]||null),this.a=!0,this.i=[1,0,0,1,0,0]}function ea(t,e,o){var i=t.l,r=t.g;if(Pe(i,e)){var n=o.extent,s=o.pixelRatio,a=o.viewState.rotation,p=o.viewState,h=o.pixelRatio/p.resolution;t=mi(t.i,t.b.width/2,t.b.height/2,h,-h,-p.rotation,-p.center[0],-p.center[1]),i.b(new Kn(e,new Ms(r,s,n,t,a),o,r,null))}}function oa(t){zs.call(this,t),this.context=null===this.context?null:fr(),this.c=null,this.f=[],this.T=k(),this.ra=new O(0,0,0,0),this.o=[1,0,0,1,0,0],this.O=0}function ia(t,e){return e=e.getState(),t=t.a.i(),2==e||4==e||3==e&&!t}s(Xs,be),(t=Xs.prototype).wa=function(t,r,e,n,s,o,i){function a(t,e){var o=Qt(t).toString(),i=r.layerStates[Qt(e)].Te;if(!(o in r.skippedFeatureUids)||i)return n.call(s,t,i?e:null)}var p,h=r.viewState,l=h.resolution,c=h.projection;if(h=t,c.g){var u=J(c=c.G()),g=t[0];(g<c[0]||g>c[2])&&(h=[g+u*Math.ceil((c[0]-g)/u),t[1]])}for(c=r.layerStatesArray,u=c.length-1;0<=u;--u){var y=c[u];if(g=y.layer,Rr(y,l)&&o.call(i,g)&&(y=Js(this,g),g.ha()&&(p=y.wa(g.ha().D?h:t,r,e,a,s)),p))return p}},t.Ui=function(t,e,o,i,r){return void 0!==this.wa(t,e,o,ai,this,i,r)},t.gm=function(){this.l.render()},t.bh=A,t.oq=function(t,e){for(var o in this.c)e&&o in e.layerStates||we(qs(this,o))},s(ta,Xs),ta.handles=function(t){return"canvas"===t},ta.create=function(t,e){return new ta(t,e)},ta.prototype.S=function(){return"canvas"},ta.prototype.bh=function(t){if(t){var e=this.g,o=t.pixelRatio,i=Math.round(t.size[0]*o),r=Math.round(t.size[1]*o);this.b.width!=i||this.b.height!=r?(this.b.width=i,this.b.height=r):e.clearRect(0,0,i,r),o=t.viewState.rotation,Ys(t),ea(this,"precompose",t);var n,s=t.layerStatesArray;for(Wt(s),o&&(e.save(),cs(e,o,i/2,r/2)),i=t.viewState.resolution,r=0,n=s.length;r<n;++r){var a=s[r],p=a.layer;p=Js(this,p),Rr(a,i)&&"ready"==a.Vj&&p.$c(t,a)&&p.df(t,a,e)}o&&e.restore(),ea(this,"postcompose",t),this.a||(this.b.style.display="",this.a=!0),Qs(this,t),t.postRenderFunctions.push(Ks)}else this.a&&(this.b.style.display="none",this.a=!1)},ta.prototype.Ti=function(t,e,o,i,r,n){var s=e.viewState.resolution,a=e.layerStatesArray,p=a.length;for(t=di(e.pixelToCoordinateTransform,t.slice()),--p;0<=p;--p){var h=a[p],l=h.layer;if(Rr(h,s)&&r.call(n,l)&&(h=Js(this,l).s(t,e,o,i)))return h}},s(oa,zs),oa.handles=function(t,e){return"canvas"===t&&"TILE"===e.S()},oa.create=function(t,e){return new oa(e)},oa.prototype.$c=function(t,e){var o=t.pixelRatio,i=t.size,r=t.viewState,n=r.projection,s=r.resolution;r=r.center;var a=this.a,p=a.ha(),h=p.g,l=p.eb(n),c=l.Dc(s,this.O),u=l.Ta(c),g=Math.round(s/u)||1,y=t.extent;if(void 0!==e.extent&&(y=X(y,e.extent)),q(y))return!1;var f,d,v,A,C,m=re(l,y,c),I=(d=c,v=m,A=(f=l).Ic(d),C=f.Ta(d),f=G(f.Za(d),f.f),z(A[0]+v.fa*f[0]*C,A[1]+v.ea*f[1]*C,A[0]+(v.la+1)*f[0]*C,A[1]+(v.ka+1)*f[1]*C,void 0)),b=p.Xc(o),w={};w[c]={};var M,S,x=this.Rf(p,n,w),P=this.T,E=this.ra,L=!1;for(M=m.fa;M<=m.la;++M)for(S=m.ea;S<=m.ka;++S){var T=p.ad(c,M,S,o,n);if(3==T.getState()&&(a.i()?0<a.c()&&(L=!0):xp(T,2)),ia(this,T)||(T=Mp(T)),ia(this,T)){var j=Qt(this);if(2==T.getState()){var F=!!(w[c][T.ya.toString()]=T).j&&-1!==T.s[j];L||!F&&-1!==this.f.indexOf(T)||(L=!0)}if(1===Pp(T,j,t.time))continue}j=ie(l,T.ya,E,P),F=!1,j&&(F=x(c+1,j)),F||qt(l,T.ya,x,E,P)}if(T=(T=t.viewHints)[0]||T[1],!(this.i&&16<Date.now()-t.time&&T||!L&&this.c&&U(this.c,y)&&this.wf==h&&g==this.C&&(T||u*o/b*g==this.i))){for((T=this.context)&&(S=p.Zd(c,o,n),M=Math.round((m.la-m.fa+1)*S[0]/g),S=Math.round((m.ka-m.ea+1)*S[1]/g),(L=T.canvas).width!=M||L.height!=S?(this.C=g,L.width=M,L.height=S):(this.c&&!Z(I,this.c)&&T.clearRect(0,0,M,S),g=this.C)),this.f.length=0,(L=Object.keys(w).map(Number)).sort(function(t,e){return t===c?1:e===c?-1:e<t?1:t<e?-1:0}),j=0,F=L.length;j<F;++j){E=L[j],x=p.Zd(E,o,n);var R=(T=l.Ta(E))/u,O=b*p.Zf(n),N=w[E];for(var k in N){T=N[k],S=l.Ma(T.ya,P),M=(S[0]-I[0])/u*b/g,S=(I[3]-S[3])/u*b/g;var D=x[0]*R/g,_=x[1]*R/g;this.Sf(T,t,e,M,S,D,_,O,c===E),this.f.push(T)}}this.wf=h,this.i=u*o/b*g,this.c=I}return e=this.i/s,e=mi(this.o,o*i[0]/2,o*i[1]/2,e,e,0,(this.c[0]-r[0])/this.i*o,(r[1]-this.c[3])/this.i*o),mi(this.l,o*i[0]/2-e[4],o*i[1]/2-e[5],o/s,-o/s,0,-r[0],-r[1]),ks(t.usedTiles,p,c,m),Ds(t,p,l,o,n,y,c,a.c()),Os(t,p),Ns(t,p),0<this.f.length},oa.prototype.Sf=function(t,e,o,i,r,n,s,a,p){if(o=t.Y(this.a)){var h=Qt(this),l=p?Pp(t,h,e.time):1;1!==l||this.a.ha().eg(e.viewState.projection)||this.context.clearRect(i,r,n,s);var c=l!==this.context.globalAlpha;c&&(this.context.save(),this.context.globalAlpha=l),this.context.drawImage(o,a,a,o.width-2*a,o.height-2*a,i,r,n,s),c&&this.context.restore(),1!==l?e.animate=!0:p&&t.j&&(t.s[h]=-1)}},oa.prototype.Y=function(){var t=this.context;return t?t.canvas:null},oa.prototype.v=function(){return this.o};var ra={Jc:function(){}};function na(){}function sa(t,e,o,i){var r=t[e],n=t[e+1],s=0;for(e+=i;e<o;e+=i){var a=t[e],p=t[e+1];s+=Math.sqrt((a-r)*(a-r)+(p-n)*(p-n)),r=a,n=p}return s}(function(t){function l(t,e,o){var i=t[e];t[e]=t[o],t[o]=i}function c(t,e){return t<e?-1:e<t?1:0}function o(t,e){if(!(this instanceof o))return new o(t,e);this.Lf=Math.max(4,t||9),this.wh=Math.max(2,Math.ceil(.4*this.Lf)),e&&this.Ak(e),this.clear()}function u(t,e){g(t,0,t.children.length,e,t)}function g(t,e,o,i,r){r||(r=A(null)),r.fa=1/0,r.ea=1/0,r.la=-1/0,r.ka=-1/0;for(var n;e<o;e++)n=t.children[e],h(r,t.fb?i(n):n);return r}function h(t,e){return t.fa=Math.min(t.fa,e.fa),t.ea=Math.min(t.ea,e.ea),t.la=Math.max(t.la,e.la),t.ka=Math.max(t.ka,e.ka),t}function s(t,e){return t.fa-e.fa}function a(t,e){return t.ea-e.ea}function y(t){return(t.la-t.fa)*(t.ka-t.ea)}function f(t){return t.la-t.fa+(t.ka-t.ea)}function d(t,e){return t.fa<=e.fa&&t.ea<=e.ea&&e.la<=t.la&&e.ka<=t.ka}function v(t,e){return e.fa<=t.la&&e.ea<=t.ka&&e.la>=t.fa&&e.ka>=t.ea}function A(t){return{children:t,height:1,fb:!0,fa:1/0,ea:1/0,la:-1/0,ka:-1/0}}function C(t,e,o,i,r){for(var n,s=[e,o];s.length;)o=s.pop(),e=s.pop(),o-e<=i||(n=e+Math.ceil((o-e)/i/2)*i,p(t,n,e,o,r),s.push(e,n,n,o))}var p=function t(e,o,i,r,n){for(i=i||0,r=r||e.length-1,n=n||c;i<r;){if(600<r-i){var s=r-i+1,a=o-i+1,p=Math.log(s),h=.5*Math.exp(2*p/3);p=.5*Math.sqrt(p*h*(s-h)/s)*(a-s/2<0?-1:1),t(e,o,Math.max(i,Math.floor(o-a*h/s+p)),Math.min(r,Math.floor(o+(s-a)*h/s+p)),n)}for(s=e[o],h=r,l(e,a=i,o),0<n(e[r],s)&&l(e,i,r);a<h;){for(l(e,a,h),a++,h--;n(e[a],s)<0;)a++;for(;0<n(e[h],s);)h--}0===n(e[i],s)?l(e,i,h):l(e,++h,r),h<=o&&(i=h+1),o<=h&&(r=h-1)}};o.prototype={all:function(){return this.rh(this.data,[])},search:function(t){var e=this.data,o=[],i=this.xb;if(!v(t,e))return o;for(var r,n,s,a,p=[];e;){for(r=0,n=e.children.length;r<n;r++)s=e.children[r],a=e.fb?i(s):s,v(t,a)&&(e.fb?o.push(s):d(t,a)?this.rh(s,o):p.push(s));e=p.pop()}return o},Ok:function(t){var e=this.data,o=this.xb;if(!v(t,e))return!1;for(var i,r,n,s,a=[];e;){for(i=0,r=e.children.length;i<r;i++)if(n=e.children[i],s=e.fb?o(n):n,v(t,s)){if(e.fb||d(t,s))return!0;a.push(n)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this.wh){for(var e=0,o=t.length;e<o;e++)this.Ca(t[e]);return this}return t=this.th(t.slice(),0,t.length-1,0),this.data.children.length?this.data.height===t.height?this.yh(this.data,t):(this.data.height<t.height&&(e=this.data,this.data=t,t=e),this.vh(t,this.data.height-t.height-1,!0)):this.data=t,this},Ca:function(t){return t&&this.vh(t,this.data.height-1),this},clear:function(){return this.data=A([]),this},remove:function(t,e){if(!t)return this;for(var o,i,r,n,s=this.data,a=this.xb(t),p=[],h=[];s||p.length;){if(s||(s=p.pop(),i=p[p.length-1],o=h.pop(),n=!0),s.fb){t:{r=t;var l=s.children,c=e;if(c){for(var u=0;u<l.length;u++)if(c(r,l[u])){r=u;break t}r=-1}else r=l.indexOf(r)}if(-1!==r){s.children.splice(r,1),p.push(s),this.yk(p);break}}n||s.fb||!d(s,a)?i?(o++,s=i.children[o],n=!1):s=null:(p.push(s),h.push(o),o=0,s=(i=s).children[0])}return this},xb:function(t){return t},Pf:s,Qf:a,toJSON:function(){return this.data},rh:function(t,e){for(var o=[];t;)t.fb?e.push.apply(e,t.children):o.push.apply(o,t.children),t=o.pop();return e},th:function(t,e,o,i){var r,n=o-e+1,s=this.Lf;if(n<=s){var a=A(t.slice(e,o+1));return u(a,this.xb),a}for(i||(i=Math.ceil(Math.log(n)/Math.log(s)),s=Math.ceil(n/Math.pow(s,i-1))),(a=A([])).fb=!1,a.height=i,n=Math.ceil(n/s),s=n*Math.ceil(Math.sqrt(s)),C(t,e,o,s,this.Pf);e<=o;e+=s){var p=Math.min(e+s-1,o);for(C(t,e,p,n,this.Qf),r=e;r<=p;r+=n){var h=Math.min(r+n-1,p);a.children.push(this.th(t,r,h,i-1))}}return u(a,this.xb),a},xk:function(t,e,o,i){for(var r,n,s,a,p,h,l,c;i.push(e),!e.fb&&i.length-1!==o;){for(l=c=1/0,r=0,n=e.children.length;r<n;r++)s=e.children[r],p=y(s),(h=(Math.max(s.la,t.la)-Math.min(s.fa,t.fa))*(Math.max(s.ka,t.ka)-Math.min(s.ea,t.ea))-p)<c?(c=h,l=p<l?p:l,a=s):h===c&&p<l&&(l=p,a=s);e=a||e.children[0]}return e},vh:function(t,e,o){var i=this.xb;o=o?t:i(t),i=[];var r=this.xk(o,this.data,e,i);for(r.children.push(t),h(r,o);0<=e&&i[e].children.length>this.Lf;)this.Dk(i,e),e--;this.uk(o,i,e)},Dk:function(t,e){var o=t[e],i=o.children.length,r=this.wh;this.vk(o,r,i),i=this.wk(o,r,i),(i=A(o.children.splice(i,o.children.length-i))).height=o.height,i.fb=o.fb,u(o,this.xb),u(i,this.xb),e?t[e-1].children.push(i):this.yh(o,i)},yh:function(t,e){this.data=A([t,e]),this.data.height=t.height+1,this.data.fb=!1,u(this.data,this.xb)},wk:function(t,e,o){var i,r,n=r=1/0;for(i=e;i<=o-e;i++){var s=g(t,0,i,this.xb),a=g(t,i,o,this.xb),p=Math.max(0,Math.min(s.la,a.la)-Math.max(s.fa,a.fa))*Math.max(0,Math.min(s.ka,a.ka)-Math.max(s.ea,a.ea));if(s=y(s)+y(a),p<n){n=p;var h=i;r=s<r?s:r}else p===n&&s<r&&(r=s,h=i)}return h},vk:function(t,e,o){var i=t.fb?this.Pf:s,r=t.fb?this.Qf:a,n=this.sh(t,e,o,i);e=this.sh(t,e,o,r),n<e&&t.children.sort(i)},sh:function(t,e,o,i){t.children.sort(i),i=this.xb;var r,n=g(t,0,e,i),s=g(t,o-e,o,i),a=f(n)+f(s);for(r=e;r<o-e;r++){var p=t.children[r];h(n,t.fb?i(p):p),a+=f(n)}for(r=o-e-1;e<=r;r--)p=t.children[r],h(s,t.fb?i(p):p),a+=f(s);return a},uk:function(t,e,o){for(;0<=o;o--)h(e[o],t)},yk:function(t){for(var e,o=t.length-1;0<=o;o--)0===t[o].children.length?0<o?(e=t[o-1].children).splice(e.indexOf(t[o]),1):this.clear():u(t[o],this.xb)},Ak:function(t){var e=["return a"," - b",";"];this.Pf=new Function("a","b",e.join(t[0])),this.Qf=new Function("a","b",e.join(t[1])),this.xb=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}},t.default=o})(ra.Jc=ra.Jc||{}),ra.Jc=ra.Jc.default;var aa="Polygon Circle LineString Image Text Default".split(" "),pa={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};function ha(t,e,o,i,r,n){this.ra=n,this.La=k(),this.ob=t,this.Ea=e,this.overlaps=r,this.pixelRatio=i,this.Wa=0,this.resolution=o,this.i=this.T=this.qa=null,this.a=[],this.coordinates=[],this.Ub={},this.ca=[1,0,0,1,0,0],this.b=[],this.oa=null,this.state={},this.$=0,this.bb=[1,0,0,1,0,0]}function la(t,e,o,i,r,n,s,a){e.beginPath(),e.moveTo.apply(e,o),e.lineTo.apply(e,i),e.lineTo.apply(e,r),e.lineTo.apply(e,n),e.lineTo.apply(e,o),s&&(t.O=s[2],t.Xa(e)),a&&(fa(e,a),e.stroke())}function ca(t,e,o,i,r,n,s,a,p,h,l,c,u,g,y,f,d,v,A){var C=v||A,m=t.bb;o-=n*=g,i-=s*=g,y&&(o=Math.round(o),i=Math.round(i)),y=f+l>r.width?r.width-l:f,p=p+c>r.height?r.height-c:p,f=t.La;var I=d[3]+y*g+d[1],b=d[0]+p*g+d[2],w=o-d[3],M=i-d[0];if(C||0!==u)var S=[w,M],x=[w+I,M],P=[w+I,M+b],E=[w,M+b];d=null,0!==u?(d=mi(m,n=o+n,s=i+s,1,1,u,-n,-s),L(f),j(f,di(m,S)),j(f,di(m,x)),j(f,di(m,P)),j(f,di(m,E))):z(w,M,w+I,M+b,f),u=e.canvas,u=f[0]<=u.width&&0<=f[2]&&f[1]<=u.height&&0<=f[3],a?(u||1!=a[4])&&(T(a,f),(t=u?[e,d?d.slice(0):null,h,r,l,c,y,p,o,i,g]:null)&&C&&t.push(v,A,S,x,P,E),a.push(t)):u&&(C&&la(t,e,S,x,P,E,v,A),gs(e,d,h,r,l,c,y,p,o,i,g))}function ua(t,e,o,i,r,n,s){var a=t.coordinates.length,p=ba(t);s&&(o+=r),s=[e[o],e[o+1]];var h,l=[NaN,NaN],c=!0;for(h=o+r;h<i;h+=r){l[0]=e[h],l[1]=e[h+1];var u=S(p,l);u!==g?(c&&(t.coordinates[a++]=s[0],t.coordinates[a++]=s[1]),t.coordinates[a++]=l[0],t.coordinates[a++]=l[1],c=!1):1===u?(t.coordinates[a++]=l[0],t.coordinates[a++]=l[1],c=!1):c=!0,s[0]=l[0],s[1]=l[1];var g=u}return(n&&c||h===o+r)&&(t.coordinates[a++]=s[0],t.coordinates[a++]=s[1]),a}function ga(t,e,o,i,r,n){for(var s=0,a=i.length;s<a;++s){var p=i[s];o=ua(t,e,o,p,r,!1,!1),n.push(o),o=p}return o}function ya(t,e){t.qa=[0,e,0],t.a.push(t.qa),t.T=[0,e,0],t.b.push(t.T)}function fa(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],qe&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))}function da(t,e,o){if(e&&5<e.length){var i=e[4];if(1==i||i==e.length-5){if(o={fa:e[0],ea:e[1],la:e[2],ka:e[3],value:o},!t.ra.Ok(o))for(t.ra.Ca(o),o=5,i=e.length;o<i;++o){var r=e[o];r&&(11<r.length&&la(t,r[0],r[13],r[14],r[15],r[16],r[11],r[12]),gs.apply(void 0,r))}e.length=5,L(e)}}}function va(t,e,o,i,r,n,s){if(t.oa&&oe(o,t.ca))var a=t.oa;else t.oa||(t.oa=[]),a=hi(t.coordinates,0,t.coordinates.length,2,o,t.oa),fi(t.ca,o);for(var p,h,l,c,u,g,y,f,d,v=!ee(i),A=0,C=r.length,m=0,I=0,b=0,w=null,M=null,S=t.Ub,x=t.$,P={context:e,pixelRatio:t.pixelRatio,resolution:t.resolution,rotation:x},E=t.a!=r||t.overlaps?0:200;A<C;){var L=r[A];switch(L[0]){case 0:var T=L[1];v&&i[Qt(T).toString()]||!T.U()?A=L[2]:void 0===s||te(s,T.U().G())?++A:A=L[2]+1;break;case 1:E<I&&(t.Xa(e),I=0),E<b&&(e.stroke(),b=0),I||b||(e.beginPath(),c=u=NaN),++A;break;case 2:m=L[1];var j=a[m],F=a[m+1],R=a[m+2]-j,O=a[m+3]-F,N=Math.sqrt(R*R+O*O);e.moveTo(j+N,F),e.arc(j,F,N,0,2*Math.PI,!0),++A;break;case 3:e.closePath(),++A;break;case 4:m=L[1],p=L[2];var k=L[4],D=6==L.length?L[5]:void 0;P.geometry=L[3],P.feature=T,A in S||(S[A]=[]);var _=S[A];D?D(a,m,p,2,_):(_[0]=a[m],_[1]=a[m+1],_.length=2),k(_,P),++A;break;case 6:m=L[1],p=L[2],d=L[3],h=L[4],l=L[5],f=n?null:L[6];var G=L[7],B=L[8],U=L[9],z=L[10],Z=L[11],V=L[12],H=L[13],W=L[14],X=L[15];if(16<L.length)var Y=L[16],K=L[17],J=L[18];else Y=es,K=J=!1;for(Z&&(V+=x);m<p;m+=2)ca(t,e,a[m],a[m+1],d,h,l,f,G,B,U,z,V,H,W,X,Y,K?w:null,J?M:null);da(t,f,T),++A;break;case 5:var q=L[1],Q=L[2],$=L[3];f=n?null:L[4];var tt=L[5],et=L[6],ot=L[7],it=L[8],rt=L[9],nt=L[10],st=L[11],at=L[12],pt=L[13],ht=L[14],lt=sa(a,q,Q,2),ct=it(at);if(tt||ct<=lt){t:{for(var ut=void 0,gt=void 0,yt=void 0,ft=a,dt=q,vt=Q,At=at,Ct=it,mt=(lt-ct)*pa[t.s[pt].textAlign],It=ot,bt=[],wt=ft[dt]>ft[vt-2],Mt=At.length,St=ft[dt],xt=ft[dt+1],Pt=ft[dt+=2],Et=ft[dt+1],Lt=0,Tt=Math.sqrt(Math.pow(Pt-St,2)+Math.pow(Et-xt,2)),jt="",Ft=0,Rt=0;Rt<Mt;++Rt){gt=wt?Mt-Rt-1:Rt;var Ot=At.charAt(gt),Nt=Ct(jt=wt?Ot+jt:jt+Ot)-Ft;Ft+=Nt;for(var kt=mt+Nt/2;dt<vt-2&&Lt+Tt<kt;)St=Pt,xt=Et,Pt=ft[dt+=2],Et=ft[dt+1],Lt+=Tt,Tt=Math.sqrt(Math.pow(Pt-St,2)+Math.pow(Et-xt,2));var Dt=kt-Lt,_t=Math.atan2(Et-xt,Pt-St);if(wt&&(_t+=0<_t?-Math.PI:Math.PI),void 0!==ut){var Gt=_t-ut;if(Gt+=Gt>Math.PI?-2*Math.PI:Gt<-Math.PI?2*Math.PI:0,Math.abs(Gt)>It){var Bt=null;break t}}var Ut=Dt/Tt,zt=$t(St,Pt,Ut),Zt=$t(xt,Et,Ut);ut==_t?(wt&&(yt[0]=zt,yt[1]=Zt,yt[2]=Nt/2),yt[4]=jt):(yt=[zt,Zt,(Ft=Nt)/2,_t,jt=Ot],wt?bt.unshift(yt):bt.push(yt),ut=_t),mt+=Nt}Bt=bt}if(Bt){var Vt;if(nt){var Ht=0;for(Vt=Bt.length;Ht<Vt;++Ht){var Wt=Bt[Ht],Xt=Wt[4],Yt=t.Y(Xt,pt,"",nt);h=Wt[2]+st,l=$*Yt.height+2*(.5-$)*st-rt,ca(t,e,Wt[0],Wt[1],Yt,h,l,f,Yt.height,1,0,0,Wt[3],ht,!1,Yt.width,es,null,null)}}if(et)for(Ht=0,Vt=Bt.length;Ht<Vt;++Ht)Wt=Bt[Ht],Xt=Wt[4],Yt=t.Y(Xt,pt,et,""),h=Wt[2],l=$*Yt.height-rt,ca(t,e,Wt[0],Wt[1],Yt,h,l,f,Yt.height,1,0,0,Wt[3],ht,!1,Yt.width,es,null,null)}}da(t,f,T),++A;break;case 7:if(void 0!==n){T=L[1];var Kt=n(T);if(Kt)return Kt}++A;break;case 8:E?I++:t.Xa(e),++A;break;case 9:m=L[1],p=L[2];var Jt=a[m],qt=a[m+1];for(y=qt+.5|0,(g=Jt+.5|0)===c&&y===u||(e.moveTo(Jt,qt),c=g,u=y),m+=2;m<p;m+=2)Jt=a[m],qt=a[m+1],g=Jt+.5|0,y=qt+.5|0,(m==p-2||g!==c||y!==u)&&(e.lineTo(Jt,qt),c=g,u=y);++A;break;case 10:w=L,t.O=L[2],I&&(t.Xa(e),I=0,b&&(e.stroke(),b=0)),e.fillStyle=L[1],++A;break;case 11:M=L,b&&(e.stroke(),b=0),fa(e,L),++A;break;case 12:E?b++:e.stroke(),++A;break;default:++A}}I&&t.Xa(e),b&&e.stroke()}function Aa(t){var e=t.b;e.reverse();var o,i=e.length,r=-1;for(o=0;o<i;++o){var n=e[o],s=n[0];if(7==s)r=o;else if(0==s){for(n[2]=o,n=t.b,s=o;r<s;){var a=n[r];n[r]=n[s],n[s]=a,++r,--s}r=-1}}}function Ca(t,e,o,i){var r=e.fillStyle;"string"==typeof r&&e.Pk==r||(o.call(t,e,i),e.Pk=r)}function ma(t,e,o){var i=e.strokeStyle,r=e.lineCap,n=e.lineDash,s=e.lineDashOffset,a=e.lineJoin,p=e.lineWidth,h=e.miterLimit;(e.Vk!=i||e.Qk!=r||n!=e.Fh&&!oe(e.Fh,n)||e.Rk!=s||e.Sk!=a||e.Tk!=p||e.Uk!=h)&&(o.call(t,e),e.Vk=i,e.Qk=r,e.Fh=n,e.Rk=s,e.Sk=a,e.Tk=p,e.Uk=h)}function Ia(t,e){t.qa[2]=t.a.length,t.qa=null,t.T[2]=t.b.length,t.T=null,e=[7,e],t.a.push(e),t.b.push(e)}function ba(t){return t.i||(t.i=f(t.Ea),0<t.Wa&&B(t.i,t.resolution*(t.Wa+1)/2,t.i)),t.i}function wa(t,e,o,i,r,n){ha.call(this,t,e,o,i,r,n),this.M=this.V=this.B=null,this.N=this.o=this.v=this.s=this.l=this.C=this.D=this.j=this.f=this.c=this.g=void 0}function Ma(t,e,o,i,r,n){ha.call(this,t,e,o,i,r,n)}function Sa(t,e,o,i,r){var n=t.coordinates.length;return e=ua(t,e,o,i,r,!1,!1),n=[9,n,e],t.a.push(n),t.b.push(n),i}function xa(t,e,o,i,r,n){ha.call(this,t,e,o,i,r,n)}function Pa(t,e,o,i,r){var n=t.state,s=void 0!==n.fillStyle;n=null!=n.strokeStyle;var a=i.length,p=[1];for(t.a.push(p),t.b.push(p),p=0;p<a;++p){var h=i[p],l=t.coordinates.length;o=ua(t,e,o,h,r,!0,!n),o=[9,l,o],t.a.push(o),t.b.push(o),n&&(o=[3],t.a.push(o),t.b.push(o)),o=h}return e=[8],t.b.push(e),s&&t.a.push(e),n&&(s=[12],t.a.push(s),t.b.push(s)),o}function Ea(t,e){var o=t.state;void 0!==o.fillStyle&&Ca(t,o,t.Ah,e),void 0!==o.strokeStyle&&ma(t,o,t.pd)}function La(t,e,o,i,r,n){for(ha.call(this,t,e,o,i,r,n),this.ta="",this.l=this.D=0,this.C=void 0,this.B=0,this.c=null,this.o={},this.g=null,this.ab={},this.f={},this.s={},this.V=this.v=this.j="",this.ua={};qn(os);)os.pop()}function Ta(t,e,o,i){var r=t.g,n=t.f,s=t.c,a=t.V;r&&(a in t.ab||(t.ab[a]={strokeStyle:r.strokeStyle,lineCap:r.lineCap,lineDashOffset:r.lineDashOffset,lineWidth:r.lineWidth,lineJoin:r.lineJoin,miterLimit:r.miterLimit,lineDash:r.lineDash}));var p=t.j;t.j in t.s||(t.s[t.j]={font:n.font,textAlign:n.textAlign||"center",scale:n.scale});var h=t.v;s&&(h in t.o||(t.o[h]={fillStyle:s.fillStyle}));var l=t.pixelRatio;s=pa[n.textBaseline];var c=t.l*l,u=t.ta,g=n.font,y=n.scale;r=r?r.lineWidth*y/2:0;var f=t.ua[g];f||(t.ua[g]=f={}),t.a.push([5,e,o,s,i,n.overflow,h,n.maxAngle,function(t){var e=f[t];return e||(e=f[t]=ls(g,t)),e*y*l},c,a,r*l,u,p,1]),t.b.push([5,e,o,s,i,n.overflow,h,n.maxAngle,function(t){var e=f[t];return e||(e=f[t]=ls(g,t)),e*y},c,a,r,u,p,1/l])}function ja(t,e,o,i,r,n,s){this.a=n,this.g=null,this.o=t,this.c=e,this.l=r,this.s=i,this.v=o,this.i=s,this.b={},this.f=fr(1,1),this.j=[1,0,0,1,0,0]}s(ha,ws),(t=ha.prototype).Hh=function(t,e,o){ya(this,e);var i,r=t.S(),n=t.pa(),s=this.coordinates.length;if("MultiPolygon"==r){r=$c(t);for(var a=[],p=t.td(),h=i=0,l=p.length;h<l;++h){var c=[];i=ga(this,r,i,p[h],n,c),a.push(c)}this.a.push([4,s,a,t,o,Gi])}else"Polygon"==r||"MultiLineString"==r?(a=[],ga(this,r="Polygon"==r?t.Xb():t.da(),0,t.pb(),n,a),this.a.push([4,s,a,t,o,_i])):"LineString"==r||"MultiPoint"==r?(r=t.da(),n=ua(this,r,0,r.length,n,!1,!1),this.a.push([4,s,n,t,o,Di])):"Point"==r&&(r=t.da(),this.coordinates.push(r[0],r[1]),n=this.coordinates.length,this.a.push([4,s,n,t,o]));Ia(this,e)},t.Xa=function(t){if(this.O){var e=di(this.ca,this.O.slice());t.translate(e[0],e[1]),t.rotate(this.$)}t.fill(),this.O&&t.setTransform.apply(t,us)},t.Na=function(t,e,o,i){this.$=o,va(this,t,e,i,this.a,void 0,void 0)},t.Oa=function(t,e){var o=this.state;t?(t=t.b,o.fillStyle=bs(t||Qn)):o.fillStyle=void 0,e?(t=e.a,o.strokeStyle=bs(t||ts),t=e.f,o.lineCap=void 0!==t?t:"round",t=e.g,o.lineDash=t?t.slice():$n,t=e.i,o.lineDashOffset=t||0,t=e.j,o.lineJoin=void 0!==t?t:"round",t=e.c,o.lineWidth=void 0!==t?t:1,e=e.l,o.miterLimit=void 0!==e?e:10,o.lineWidth>this.Wa&&(this.Wa=o.lineWidth,this.i=null)):(o.strokeStyle=void 0,o.lineCap=void 0,o.lineDash=null,o.lineDashOffset=void 0,o.lineJoin=void 0,o.lineWidth=void 0,o.miterLimit=void 0)},t.Ah=function(t,e){var o=t.fillStyle;t=[10,o],"string"!=typeof o&&(e=e.G(),t.push([e[0],e[3]])),this.a.push(t)},t.pd=function(t){var e,o,i;this.a.push([11,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,(e=this,o=t.lineDash,i=e.pixelRatio,1==i?o:o.map(function(t){return t*i})),t.lineDashOffset*this.pixelRatio])},t.bf=A,s(wa,ha),wa.prototype.yc=function(t,e){if(this.M){ya(this,e);var o=t.da(),i=this.coordinates.length;t=ua(this,o,0,o.length,t.pa(),!1,!1),this.a.push([6,i,t,this.M,this.g,this.c,this.B,this.f,this.j,this.D,this.C,this.l,this.s,this.v*this.pixelRatio,this.o,this.N]),this.b.push([6,i,t,this.V,this.g,this.c,this.B,this.f,this.j,this.D,this.C,this.l,this.s,this.v,this.o,this.N]),Ia(this,e)}},wa.prototype.wc=function(t,e){if(this.M){ya(this,e);var o=t.da(),i=this.coordinates.length;t=ua(this,o,0,o.length,t.pa(),!1,!1),this.a.push([6,i,t,this.M,this.g,this.c,this.B,this.f,this.j,this.D,this.C,this.l,this.s,this.v*this.pixelRatio,this.o,this.N]),this.b.push([6,i,t,this.V,this.g,this.c,this.B,this.f,this.j,this.D,this.C,this.l,this.s,this.v,this.o,this.N]),Ia(this,e)}},wa.prototype.bf=function(){Aa(this),this.c=this.g=void 0,this.M=this.V=null,this.N=this.o=this.s=this.l=this.C=this.D=this.j=this.v=this.f=void 0},wa.prototype.Zb=function(t,e){var o=t.Vc(),i=t.oc(),r=t.Eg(),n=t.Y(1),s=t.bd();this.g=o[0],this.c=o[1],this.B=e,this.V=r,this.M=n,this.f=i[1],this.j=t.i,this.D=s[0],this.C=s[1],this.l=t.s,this.s=t.f,this.v=t.a,this.o=t.v,this.N=i[0]},s(Ma,ha),Ma.prototype.uc=function(t,e){var o=this.state,i=o.lineWidth;void 0!==o.strokeStyle&&void 0!==i&&(ma(this,o,this.pd),ya(this,e),this.b.push([11,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset],[1]),Sa(this,o=t.da(),0,o.length,t.pa()),this.b.push([12]),Ia(this,e))},Ma.prototype.vc=function(t,e){var o=this.state,i=o.lineWidth;if(void 0!==o.strokeStyle&&void 0!==i){ma(this,o,this.pd),ya(this,e),this.b.push([11,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset],[1]),o=t.pb(),i=t.da(),t=t.pa();var r,n=0,s=0;for(r=o.length;s<r;++s)n=Sa(this,i,n,o[s],t);this.b.push([12]),Ia(this,e)}},Ma.prototype.bf=function(){var t=this.state;null!=t.$d&&t.$d!=this.coordinates.length&&this.a.push([12]),Aa(this),this.state=null},Ma.prototype.pd=function(t){null!=t.$d&&t.$d!=this.coordinates.length&&(this.a.push([12]),t.$d=this.coordinates.length),t.$d=0,ha.prototype.pd.call(this,t),this.a.push([1])},s(xa,ha),xa.prototype.cc=function(t,e){var o=this.state,i=o.strokeStyle;if(void 0!==o.fillStyle||void 0!==i){Ea(this,t),ya(this,e),this.b.push([10,vs(Qn)]),void 0!==o.strokeStyle&&this.b.push([11,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);var r=t.da();i=this.coordinates.length,ua(this,r,0,r.length,t.pa(),!1,!1),t=[1],i=[2,i],this.a.push(t,i),this.b.push(t,i),t=[8],this.b.push(t),void 0!==o.fillStyle&&this.a.push(t),void 0!==o.strokeStyle&&(o=[12],this.a.push(o),this.b.push(o)),Ia(this,e)}},xa.prototype.zc=function(t,e){var o=this.state;Ea(this,t),ya(this,e),this.b.push([10,vs(Qn)]),void 0!==o.strokeStyle&&this.b.push([11,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]),o=t.pb();var i=t.Xb();Pa(this,i,0,o,t.pa()),Ia(this,e)},xa.prototype.xc=function(t,e){var o=this.state,i=o.strokeStyle;if(void 0!==o.fillStyle||void 0!==i){Ea(this,t),ya(this,e),this.b.push([10,vs(Qn)]),void 0!==o.strokeStyle&&this.b.push([11,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]),o=t.td(),i=$c(t),t=t.pa();var r,n=0,s=0;for(r=o.length;s<r;++s)n=Pa(this,i,n,o[s],t);Ia(this,e)}},xa.prototype.bf=function(){Aa(this),this.state=null;var t=this.ob;if(0!==t){var e,o=this.coordinates,i=0;for(e=o.length;i<e;++i)o[i]=t*Math.round(o[i]/t)}},s(La,ha),La.prototype.Wb=function(t,e){var o,i,r,n,s,a,p,h,l,c=this.c,u=this.g,g=this.f;if(""!==this.ta&&g&&(c||u)){c=this.coordinates.length;var y=t.S();u=null;var f=2,d=2;if("line"===g.placement){if(!te(ba(this),t.G()))return;if(u=t.da(),d=t.pa(),"LineString"==y)var v=[u.length];else if("MultiLineString"==y)v=t.pb();else if("Polygon"==y)v=t.pb().slice(0,1);else if("MultiPolygon"==y)for(t=t.td(),v=[],f=0,y=t.length;f<y;++f)v.push(t[f][0]);ya(this,e),t=g.textAlign;var A,C=0;y=0;for(var m=v.length;y<m;++y){if(null==t){for(var I,b,w=void 0,M=void 0,S=f=b=I=void 0,x=A=C,P=0,E=0,L=C;C<v[y];C+=d){var T=u[C],j=u[C+1];void 0!==b&&(b=T-b,I=j-I,f=Math.sqrt(b*b+I*I),void 0!==M&&(E+=S,(w=Math.acos((M*b+w*I)/(S*f)))>g.maxAngle&&(P<E&&(P=E,A=L,x=C),E=0,L=C-d)),S=f,M=b,w=I),b=T,I=j}C=(f=P<E+f?[L,C]:[A,x])[0],A=f[1]}else A=v[y];for(f=C;f<A;f+=d)this.coordinates.push(u[f],u[f+1]);f=this.coordinates.length,C=v[y],Ta(this,c,f,this.N),c=f}}else{switch(v=this.Y(this.ta,this.j,this.v,this.V),m=v.width/this.pixelRatio,y){case"Point":case"MultiPoint":u=t.da(),f=u.length;break;case"LineString":u=t.Fe();break;case"Circle":u=t.xa();break;case"MultiLineString":u=t.Ge(),f=u.length;break;case"Polygon":if(u=t.Td(),!g.overflow&&u[2]/this.resolution<m)return;d=3;break;case"MultiPolygon":for(A=Qc(t),u=[],f=0,y=A.length;f<y;f+=3)(g.overflow||A[f+2]/this.resolution>=m)&&u.push(A[f],A[f+1]);if(0==(f=u.length))return}f=ua(this,u,0,f,d,!1,!1),ya(this,e),(g.backgroundFill||g.backgroundStroke)&&(this.Oa(g.backgroundFill,g.backgroundStroke),Ca(this,this.state,this.Ah,t),ma(this,this.state,this.pd)),i=v,r=c,n=f,s=(o=this).f,a=o.g,p=o.pixelRatio,h=pa[s.textAlign||"center"],l=pa[s.textBaseline],a=a&&a.lineWidth?a.lineWidth:0,h=h*i.width/p+2*(.5-h)*a,l=l*i.height/p+2*(.5-l)*a,o.a.push([6,r,n,i,(h-o.D)*p,(l-o.l)*p,o.N,i.height,1,0,0,o.C,o.B,1,!0,i.width,s.padding==es?es:s.padding.map(function(t){return t*p}),!!s.backgroundFill,!!s.backgroundStroke]),o.b.push([6,r,n,i,(h-o.D)*p,(l-o.l)*p,o.N,i.height,1,0,0,o.C,o.B,1/p,!0,i.width,s.padding,!!s.backgroundFill,!!s.backgroundStroke])}Ia(this,e)}},La.prototype.Y=function(t,e,o,i){var r=i+e+t+o+this.pixelRatio;if(!os.a.hasOwnProperty(r)){var n=i?this.ab[i]||this.g:null,s=o?this.o[o]||this.c:null,a=this.s[e]||this.f,p=a.scale*this.pixelRatio,h=pa[a.textAlign||"center"];e=i&&n.lineWidth?n.lineWidth:0;var l,c=(t=t.split("\n")).length,u=[],g=a.font,y=t.length,f=0;for(l=0;l<y;++l){var d=ls(g,t[l]);f=Math.max(f,d),u.push(d)}if(y=f,g=hs(a.font),y=fr(Math.ceil((y+e)*p),Math.ceil((g*c+e)*p)),f=y.canvas,os.set(r,f),1!=p&&y.scale(p,p),y.font=a.font,i&&(y.strokeStyle=n.strokeStyle,y.lineWidth=e*(Xe?p:1),y.lineCap=n.lineCap,y.lineJoin=n.lineJoin,y.miterLimit=n.miterLimit,qe&&n.lineDash.length&&(y.setLineDash(n.lineDash),y.lineDashOffset=n.lineDashOffset)),o&&(y.fillStyle=s.fillStyle),y.textBaseline="middle",y.textAlign="center",n=.5-h,s=h*f.width/p+n*e,i)for(i=0;i<c;++i)y.strokeText(t[i],s+n*u[i],.5*(e+g)+i*g);if(o)for(i=0;i<c;++i)y.fillText(t[i],s+n*u[i],.5*(e+g)+i*g)}return os.get(r)},La.prototype.nb=function(t,e){var o,i;if(t){if(this.N=e,(i=t.Fa())?((e=this.c)||(e=this.c={}),e.fillStyle=bs(i.b||Qn)):e=this.c=null,o=t.Ga()){(i=this.g)||(i=this.g={});var r=o.g,n=o.i,s=o.c,a=o.l;i.lineCap=o.f||"round",i.lineDash=r?r.slice():$n,i.lineDashOffset=void 0===n?0:n,i.lineJoin=o.j||"round",i.lineWidth=void 0===s?1:s,i.miterLimit=void 0===a?10:a,i.strokeStyle=bs(o.a||ts)}else i=this.g=null;o=this.f,r=t.a||"10px sans-serif",ss(r),n=t.b,o.overflow=t.v,o.font=r,o.maxAngle=t.s,o.placement=t.o,o.textAlign=t.f,o.textBaseline=t.j||"middle",o.backgroundFill=t.N,o.backgroundStroke=t.D,o.padding=t.C||es,o.scale=void 0===n?1:n,r=t.g,n=t.c,s=t.l,a=t.i,this.ta=t.Ka()||"",this.D=void 0===r?0:r,this.l=void 0===n?0:n,this.C=void 0!==s&&s,this.B=void 0===a?0:a,this.V=i?("string"==typeof i.strokeStyle?i.strokeStyle:Qt(i.strokeStyle))+i.lineCap+i.lineDashOffset+"|"+i.lineWidth+i.lineJoin+i.miterLimit+"["+i.lineDash.join()+"]":"",this.j=o.font+o.scale+(o.textAlign||"?"),this.v=e?"string"==typeof e.fillStyle?e.fillStyle:"|"+Qt(e.fillStyle):""}else this.ta=""},s(ja,na);var Fa={0:[[!0]]};function Ra(t,e,o){var i,r=Math.floor(t.length/2);if(r<=e)for(i=r;i<e;i++)t[i][o]=!0;else if(e<r)for(i=e+1;i<r;i++)t[i][o]=!0}function Oa(t){for(var e in t.b){var o,i=t.b[e];for(o in i)i[o].bf()}}function Na(t,e){var o=t.c;t=o[0];var i=o[1],r=o[2];return o=o[3],hi(t=[t,i,t,o,r,o,r,i],0,8,2,e,t),t}(t=ja.prototype).Vb=function(t){var e=null;return this.a&&(t?(e=this.g)[4]++:(e=this.g=k()).push(1)),e},t.wa=function(t,e,o,i,r,n,s){var a=2*(i=Math.round(i))+1,p=mi(this.j,i+.5,i+.5,1/e,-1/e,-o,-t[0],-t[1]),h=this.f;if(h.canvas.width!==a||h.canvas.height!==a?(h.canvas.width=a,h.canvas.height=a):h.clearRect(0,0,a,a),void 0!==this.i){var l=k();j(l,t),B(l,e*(this.i+i),l)}var c,u=function(t){if(void 0!==Fa[t])return Fa[t];for(var e=2*t+1,o=Array(e),i=0;i<e;i++)o[i]=Array(e);e=t;for(var r=i=0;i<=e;)Ra(o,t+e,t+i),Ra(o,t+i,t+e),Ra(o,t-i,t+e),Ra(o,t-e,t+i),Ra(o,t-e,t-i),Ra(o,t-i,t-e),Ra(o,t+i,t-e),Ra(o,t+e,t-i),0<2*((r+=1+2*++i)-e)+1&&(r+=1-2*--e);return Fa[t]=o}(i);return this.a&&(c=this.a.all().map(function(t){return t.value})),function(t,e,o,i,r,n,s,a){var p,h,l=Object.keys(t.b).map(Number);for(l.sort(Ut),p=l.length-1;0<=p;--p){var c=l[p].toString(),u=t.b[c];for(h=aa.length-1;0<=h;--h){var g=aa[h],y=u[g];if(void 0!==y)if(!a||"Image"!=g&&"Text"!=g){g=e;var f=o,d=r,v=n,A=s;if(y.$=i,y=va(y,g,f,d,y.b,v,A))return y}else(g=a[c])?g.push(y,o.slice(0)):a[c]=[y,o.slice(0)]}}}(this,h,p,o,r,function(t){for(var e=h.getImageData(0,0,a,a).data,o=0;o<a;o++)for(var i=0;i<a;i++)if(u[o][i]&&0<e[4*(i*a+o)+3]){var r;return c&&-1===c.indexOf(t)||(r=n(t)),r||void h.clearRect(0,0,a,a)}},l,s)},t.Ja=function(t,e){var o=void 0!==t?t.toString():"0";return void 0===(t=this.b[o])&&(t={},this.b[o]=t),void 0===(o=t[e])&&(o=new ka[e](this.o,this.c,this.v,this.s,this.l,this.a),t[e]=o),o},t.yg=function(){return ee(this.b)},t.Na=function(t,e,o,i,r,n){var s=Object.keys(this.b).map(Number);s.sort(Ut),t.save();var a,p,h=Na(this,e);for(t.beginPath(),t.moveTo(h[0],h[1]),t.lineTo(h[2],h[3]),t.lineTo(h[4],h[5]),t.lineTo(h[6],h[7]),t.clip(),r=r||aa,h=0,a=s.length;h<a;++h){var l=s[h].toString(),c=this.b[l],u=0;for(p=r.length;u<p;++u){var g=r[u],y=c[g];void 0!==y&&(!n||"Image"!=g&&"Text"!=g?y.Na(t,e,o,i):(g=n[l])?g.push(y,e.slice(0)):n[l]=[y,e.slice(0)])}}t.restore()};var ka={Circle:xa,Default:ha,Image:wa,LineString:Ma,Polygon:xa,Text:La};function Da(t,e){return Qt(t)-Qt(e)}function _a(t,e){return(t=.5*t/e)*t}function Ga(t,e,o,i,r,n){var s,a=!1;if(s=o.Y()){var p=s.gf();2==p||3==p?s.Yj(r,n):(0==p&&s.load(),s.gi(r,n),a=!0)}return(r=(0,o.cb)(e))&&(i=r.Wd(i),o.Ie()?function t(e,o,i,r){if("GeometryCollection"==o.S()){o=o.vd();for(var n=0,s=o.length;n<s;++n)t(e,o[n],i,r)}else e.Ja(i.Ba(),"Default").Hh(o,r,i.Ie())}(t,i,o,e):(0,Ba[i.S()])(t,i,o,e)),a}var Ba={Point:function(t,e,o,i){var r=o.Y();if(r){if(2!=r.gf())return;var n=t.Ja(o.Ba(),"Image");n.Zb(r,t.Vb(!1)),n.yc(e,i)}(n=o.Ka())&&((o=t.Ja(o.Ba(),"Text")).nb(n,t.Vb(!!r)),o.Wb(e,i))},LineString:function(t,e,o,i){var r=o.Ga();if(r){var n=t.Ja(o.Ba(),"LineString");n.Oa(null,r),n.uc(e,i)}(r=o.Ka())&&((o=t.Ja(o.Ba(),"Text")).nb(r,t.Vb(!1)),o.Wb(e,i))},Polygon:function(t,e,o,i){var r=o.Fa(),n=o.Ga();if(r||n){var s=t.Ja(o.Ba(),"Polygon");s.Oa(r,n),s.zc(e,i)}(r=o.Ka())&&((o=t.Ja(o.Ba(),"Text")).nb(r,t.Vb(!1)),o.Wb(e,i))},MultiPoint:function(t,e,o,i){var r=o.Y();if(r){if(2!=r.gf())return;var n=t.Ja(o.Ba(),"Image");n.Zb(r,t.Vb(!1)),n.wc(e,i)}(n=o.Ka())&&((o=t.Ja(o.Ba(),"Text")).nb(n,t.Vb(!!r)),o.Wb(e,i))},MultiLineString:function(t,e,o,i){var r=o.Ga();if(r){var n=t.Ja(o.Ba(),"LineString");n.Oa(null,r),n.vc(e,i)}(r=o.Ka())&&((o=t.Ja(o.Ba(),"Text")).nb(r,t.Vb(!1)),o.Wb(e,i))},MultiPolygon:function(t,e,o,i){var r=o.Fa(),n=o.Ga();if(n||r){var s=t.Ja(o.Ba(),"Polygon");s.Oa(r,n),s.xc(e,i)}(r=o.Ka())&&((o=t.Ja(o.Ba(),"Text")).nb(r,t.Vb(!1)),o.Wb(e,i))},GeometryCollection:function(t,e,o,i){var r;e=e.a;var n=0;for(r=e.length;n<r;++n)(0,Ba[e[n].S()])(t,e[n],o,i)},Circle:function(t,e,o,i){var r=o.Fa(),n=o.Ga();if(r||n){var s=t.Ja(o.Ba(),"Circle");s.Oa(r,n),s.cc(e,i)}(r=o.Ka())&&((o=t.Ja(o.Ba(),"Text")).nb(r,t.Vb(!1)),o.Wb(e,i))}};function Ua(t){_s.call(this,t),this.f=t.D?ra.Jc(9):null,this.i=!1,this.N=-1,this.o=NaN,this.l=k(),this.c=this.v=null,this.j=!0,this.context=fr(),ve(os,"clear",this.Vi,this)}function za(t){this.context=null,oa.call(this,t),this.N=t.D?ra.Jc(9):null,this.D=!1,this.ca=[1,0,0,1,0,0],this.O="vector"==t.l?1:0,ve(os,"clear",this.Xi,this)}s(Ua,_s),Ua.handles=function(t,e){return"canvas"===t&&"VECTOR"===e.S()},Ua.create=function(t,e){return new Ua(e)},(t=Ua.prototype).ia=function(){Ce(os,"clear",this.Vi,this),_s.prototype.ia.call(this)},t.df=function(t,e,o){var i=t.extent,r=t.pixelRatio,n=e.Te?t.skippedFeatureUids:{},s=t.viewState,a=s.projection,p=s.rotation,h=a.G(),l=this.a.ha(),c=Us(this,t,0);Bs(this,"precompose",o,t,c);var u=e.extent;(s=void 0!==u)&&Gs(o,t,u);var g=this.c;if(g&&!g.yg()){this.f&&this.f.clear();var y=u=0,f=1!==e.opacity,d=Pe(this.a,"render");if(f||d){var v=o.canvas.width,A=o.canvas.height;if(p){var C=Math.round(Math.sqrt(v*v+A*A));u=(C-v)/2,y=(C-A)/2,v=A=C}this.context.canvas.width=v,this.context.canvas.height=A,v=this.context}else v=o;if(A=v.globalAlpha,f||(v.globalAlpha=e.opacity),v!=o&&v.translate(u,y),C=t.size[0]*r,r*=t.size[1],cs(v,-p,C/2,r/2),g.Na(v,c,p,n),l.D&&a.g&&!U(h,i)){a=i[0],l=J(h);for(var m=0;a<h[0];)c=Us(this,t,c=l*--m),g.Na(v,c,p,n),a+=l;for(m=0,a=i[2];a>h[2];)c=Us(this,t,c=l*++m),g.Na(v,c,p,n),a-=l;c=Us(this,t,0)}cs(v,p,C/2,r/2),v!=o&&(d&&Bs(this,"render",v,t,c),f?(i=o.globalAlpha,o.globalAlpha=e.opacity,o.drawImage(v.canvas,-u,-y),o.globalAlpha=i):o.drawImage(v.canvas,-u,-y),v.translate(-u,-y)),f||(v.globalAlpha=A)}s&&o.restore(),this.pf(o,t,e,c)},t.wa=function(t,e,o,i,r){if(this.c){var n=this.a,s={};return this.c.wa(t,e.viewState.resolution,e.viewState.rotation,o,{},function(t){var e=Qt(t).toString();if(!(e in s))return s[e]=!0,i.call(r,t,n)},null)}},t.Vi=function(){var t=this.a;t.Jb()&&this.c&&t.u()},t.Wi=function(){Rs(this)},t.$c=function(t){var n=this.a,e=n.ha();Ns(t,e);var o=t.viewHints[0],i=t.viewHints[1],r=n.ca,s=n.ra;if(!this.i&&!r&&o||!s&&i)return!0;r=t.extent;var a=t.viewState;s=a.projection;var p=a.resolution,h=t.pixelRatio;o=n.g;var l=n.f;if(void 0===(i=n.get(UA))&&(i=Da),r=B(r,l*p),l=a.projection.G(),e.D&&a.projection.g&&!U(l,t.extent)&&(t=Math.max(J(r)/2,J(l)),r[0]=l[0]-t,r[2]=l[2]+t),!this.i&&this.o==p&&this.N==o&&this.v==i&&U(this.l,r))return this.j=!1,!0;this.c=null,this.i=!1;var c=new ja(.5*p/h,r,p,h,e.$,this.f,n.f);if(e.ae(r,p,s),t=function(t){var e=t.ib();if(e)var o=e.call(t,p);else(e=n.ib())&&(o=e(t,p));if(o){if(o){if(e=!1,Array.isArray(o))for(var i=0,r=o.length;i<r;++i)e=Ga(c,t,o[i],_a(p,h),this.Wi,this)||e;else e=Ga(c,t,o,_a(p,h),this.Wi,this);t=e}else t=!1;this.i=this.i||t}}.bind(this),i){var u=[];for(e.ec(r,function(t){u.push(t)},this),u.sort(i),e=0,s=u.length;e<s;++e)t(u[e])}else e.ec(r,t,this);return Oa(c),this.o=p,this.N=o,this.v=i,this.l=r,this.c=c,this.j=!0},s(za,oa),za.handles=function(t,e){return"canvas"===t&&"VECTOR_TILE"===e.S()},za.create=function(t,e){return new za(e)};var Za={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"]},Va={image:["Default"],hybrid:["Image","Text","Default"],vector:aa};function Ha(t){delete(t=tt({},t)).renderer,t.controls||(t.controls=Br()),t.interactions||(t.interactions=Wn()),xr.call(this,t)}function Wa(t){Le.call(this),t=t||{},this.a=null,ve(this,je(qa),this.$m,this),this.rg(void 0!==t.tracking&&t.tracking)}(t=za.prototype).ia=function(){Ce(os,"clear",this.Xi,this),oa.prototype.ia.call(this)},t.$c=function(t,e){var o=this.a,i=o.g;return this.B!=i&&(this.f.length=0,o=o.l,this.context||"vector"==o||(this.context=fr()),this.context&&"vector"==o&&(this.context=null)),this.B=i,oa.prototype.$c.apply(this,arguments)},t.Sf=function(t,e,o,i,r,n,s,a,p){var h=t,l=this.a,c=e.pixelRatio,u=e.viewState.projection,g=l.g,y=l.get(UA)||null,f=xI(h,l);if(f.Be||f.wf!=g||f.eh!=y){var d=l.ha(),v=d.tileGrid,A=d.eb(u),C=A.Ta(h.ya[0]);A=A.Ma(h.l);for(var m=0,I=h.a.length;m<I;++m){var b=h.c[h.a[m]];if(3!=b.getState()){var w=v.Ma(b.ya),M=X(A,w),S=Z(w,M)?null:B(M,l.f*C),x=b.o,P=!1;Rt(u,x)||(P=!0,b.vg(u)),f.Be=!1,M=new ja(0,M,C,c,d.s,this.N,l.f);var E=_a(C,c),L=b.a;y&&y!==f.eh&&L.sort(y);for(var T,j=0,F=L.length;j<F;++j)if(T=L[j],P&&("tile-pixels"==x.a&&(x.Sj(w),x.Si(b.G())),T.U().mb(x,u)),!S||te(S,T.U().G())){var R=void 0,O=T.ib();if(O?R=O.call(T,C):(O=l.ib())&&(R=O(T,C)),R){O=E;var N=M;if(R){var k=!1;if(Array.isArray(R))for(var D=0,_=R.length;D<_;++D)k=Ga(N,T,R[D],O,this.Yi,this)||k;else k=Ga(N,T,R,O,this.Yi,this);T=k}else T=!1;this.D=this.D||T,f.Be=f.Be||T}}for(var G in Oa(M),M.b);w=h.ya.toString(),S=M,b.f[Qt(l)+","+w]=S}}f.wf=g,f.eh=y}if(this.context){if(f=e,l=this.a,u=xI(h,l),g=l.g,(c=Za[l.l])&&u.fh!==g)for(u.fh=g,d=h.l,C=d[0],u=f.pixelRatio,G=l.ha(),v=G.eb(f.viewState.projection),g=v.Ta(C),y=SI(h,l),f=G.Zd(C,u,f.viewState.projection),y.canvas.width=f[0],y.canvas.height=f[1],f=v.Ma(d),d=0,v=h.a.length;d<v;++d)3!=(C=h.c[h.a[d]]).getState()&&(G=u/g,Ai(A=ui(this.ca),G,-G),Ci(A,-f[0],-f[3]),Vl(C,l,h.ya.toString()).Na(y,A,0,{},c));oa.prototype.Sf.apply(this,arguments)}},t.wa=function(t,e,o,i,r){var n=e.viewState.resolution,s=e.viewState.rotation;o=null==o?0:o;var a,p=this.a,h={},l=this.f;e=p.ha().eb(e.viewState.projection);var c=0;for(a=l.length;c<a;++c){var u=l[c],g=u.l,y=B(g=e.Ma(g,this.T),o*n,y);if(w(y,t)){g=0;for(var f=u.a.length;g<f;++g){var d=u.c[u.a[g]];if(3!=d.getState()){d=Vl(d,p,u.ya.toString());var v=v||d.wa(t,n,s,o,{},function(t){var e=Qt(t).toString();if(!(e in h))return h[e]=!0,i.call(r,t,p)},null)}}}}return v},t.Xi=function(){var t=this.a;t.Jb()&&void 0!==this.B&&t.u()},t.Yi=function(){Rs(this)},t.pf=function(t,e,o){var i=this.a,r=i.D?{}:null,n=i.ha(),s=i.l,a=Va[s],p=e.pixelRatio,h=e.viewState.rotation,l=e.size;if(h){var c=Math.round(p*l[0]/2),u=Math.round(p*l[1]/2);cs(t,-h,c,u)}r&&this.N.clear(),p=this.f,n=n.eb(e.viewState.projection),l=[];for(var g=[],y=p.length-1;0<=y;--y){var f=p[y];if(5!=f.getState())for(var d=f.ya,v=n.Ma(d)[0]-n.Ma(f.l)[0],A=void 0,C=0,m=f.a.length;C<m;++C){var I=f.c[f.a[C]];if(3!=I.getState()){var b,w=Vl(I,i,d.toString());if(!(b="vector"==s))t:{for(b in b=void 0,w.b)for(var M=w.b[b],S=0,x=a.length;S<x;++S)if(a[S]in M){b=!0;break t}b=!1}if(b){for(A||(A=Us(this,e,v)),I=I.ya[0],b=Na(w,A),t.save(),t.globalAlpha=o.opacity,M=0,S=l.length;M<S;++M)x=l[M],I<g[M]&&(t.beginPath(),t.moveTo(b[0],b[1]),t.lineTo(b[2],b[3]),t.lineTo(b[4],b[5]),t.lineTo(b[6],b[7]),t.moveTo(x[6],x[7]),t.lineTo(x[4],x[5]),t.lineTo(x[2],x[3]),t.lineTo(x[0],x[1]),t.clip());w.Na(t,A,h,{},a,r),t.restore(),l.push(b),g.push(I)}}}}if(r)for(i=t,s=Object.keys(r).map(Number).sort(Ut),a={},p=0,n=s.length;p<n;++p)for(l=r[s[p].toString()],g=0,y=l.length;g<y;)f=l[g++],d=l[g++],f.Na(i,d,h,a);h&&cs(t,h,c,u),oa.prototype.pf.apply(this,arguments)},Mr("MAP_RENDERER",ta),Sr([Zs,oa,Ua,za]),s(Ha,xr),s(Wa,Le),(t=Wa.prototype).ia=function(){this.rg(!1),Le.prototype.ia.call(this)},t.Dp=function(t){if(null!==t.alpha){var e=I(t.alpha);this.set(Xa,e),"boolean"==typeof t.absolute&&t.absolute?this.set(Ja,e):"number"==typeof t.webkitCompassHeading&&-1!=t.webkitCompassAccuracy&&this.set(Ja,I(t.webkitCompassHeading))}null!==t.beta&&this.set(Ya,I(t.beta)),null!==t.gamma&&this.set(Ka,I(t.gamma)),this.u()},t.Ym=function(){return this.get(Xa)},t.ll=function(){return this.get(Ya)},t.ql=function(){return this.get(Ka)},t.Zm=function(){return this.get(Ja)},t.li=function(){return this.get(qa)},t.$m=function(){if($e){var t=this.li();t&&!this.a?this.a=ve(window,"deviceorientation",this.Dp,this):t||null===this.a||(me(this.a),this.a=null)}},t.rg=function(t){this.set(qa,t)};var Xa="alpha",Ya="beta",Ka="gamma",Ja="heading",qa="tracking";function Qa(t){this.i=t.opacity,this.s=t.rotateWithView,this.f=t.rotation,this.a=t.scale,this.v=t.snapToPixel}function $a(t){this.D=this.o=this.c=null,this.Xa=void 0!==t.fill?t.fill:null,this.oa=[0,0],this.l=t.points,this.b=void 0!==t.radius?t.radius:t.radius1,this.g=t.radius2,this.j=void 0!==t.angle?t.angle:0,this.Ya=void 0!==t.stroke?t.stroke:null,this.B=this.qa=this.C=null,this.N=t.atlasManager,tp(this,this.N),Qa.call(this,{opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel})}function tp(t,e){var o="",i="",r=0,n=null,s=0,a=0;if(t.Ya){var p=t.Ya.a;null===p&&(p=ts),p=bs(p),void 0===(a=t.Ya.c)&&(a=1),n=t.Ya.g,s=t.Ya.i,qe||(n=null,s=0),void 0===(i=t.Ya.j)&&(i="round"),void 0===(o=t.Ya.f)&&(o="round"),void 0===(r=t.Ya.l)&&(r=10)}var h=2*(t.b+a)+1;if(o={strokeStyle:p,Wj:a,size:h,lineCap:o,lineDash:n,lineDashOffset:s,lineJoin:i,miterLimit:r},void 0===e){var l=fr(h,h);t.o=l.canvas,e=h=t.o.width,t.Jh(o,l,0,0),t.Xa?t.D=t.o:(l=fr(o.size,o.size),t.D=l.canvas,t.Ih(o,l,0,0))}else h=Math.round(h),(i=!t.Xa)&&(l=t.Ih.bind(t,o)),t.Ya?(void 0===(r=t.Ya).b&&(r.b="s",r.b=r.a?"string"==typeof r.a?r.b+r.a:r.b+Qt(r.a).toString():r.b+"-",r.b+=","+(void 0!==r.f?r.f.toString():"-")+","+(r.g?r.g.toString():"-")+","+(void 0!==r.i?r.i:"-")+","+(void 0!==r.j?r.j:"-")+","+(void 0!==r.l?r.l.toString():"-")+","+(void 0!==r.c?r.c.toString():"-")),r=r.b):r="-",t.Xa?(void 0===(n=t.Xa).a&&(n.a=n.b instanceof CanvasPattern||n.b instanceof CanvasGradient?Qt(n.b).toString():"f"+(n.b?vs(n.b):"-")),n=n.a):n="-",t.c&&r==t.c[1]&&n==t.c[2]&&t.b==t.c[3]&&t.g==t.c[4]&&t.j==t.c[5]&&t.l==t.c[6]||(t.c=["r"+r+n+(void 0!==t.b?t.b.toString():"-")+(void 0!==t.g?t.g.toString():"-")+(void 0!==t.j?t.j.toString():"-")+(void 0!==t.l?t.l.toString():"-"),r,n,t.b,t.g,t.j,t.l]),l=e.add(t.c[0],h,h,t.Jh.bind(t,o),l),t.o=l.image,t.oa=[l.offsetX,l.offsetY],e=l.image.width,t.D=i?l.Bm:t.o;t.C=[h/2,h/2],t.qa=[h,h],t.B=[e,e]}function ep(t){$a.call(this,{points:1/0,fill:(t=t||{}).fill,radius:t.radius,snapToPixel:t.snapToPixel,stroke:t.stroke,atlasManager:t.atlasManager})}function op(t){t=t||{},this.b=void 0!==t.color?t.color:null,this.a=void 0}function ip(t){t=t||{},this.a=void 0!==t.color?t.color:null,this.f=t.lineCap,this.g=void 0!==t.lineDash?t.lineDash:null,this.i=t.lineDashOffset,this.j=t.lineJoin,this.l=t.miterLimit,this.c=t.width,this.b=void 0}function rp(t){t=t||{},this.Uc=null,this.cb=hp,void 0!==t.geometry&&this.Va(t.geometry),this.Xa=void 0!==t.fill?t.fill:null,this.M=void 0!==t.image?t.image:null,this.pc=void 0!==t.renderer?t.renderer:null,this.Ya=void 0!==t.stroke?t.stroke:null,this.ta=void 0!==t.text?t.text:null,this.bk=t.zIndex}function np(t){if("function"!=typeof t){if(Array.isArray(t))var e=t;else N(t instanceof rp,41),e=[t];t=function(){return e}}return t}(t=Qa.prototype).hf=function(){return this.i},t.jf=function(){return this.s},t.kf=function(){return this.f},t.lf=function(){return this.a},t.Ke=function(){return this.v},t.Ed=function(t){this.i=t},t.mf=function(t){this.f=t},t.Fd=function(t){this.a=t},s($a,Qa),(t=$a.prototype).clone=function(){var t=new $a({fill:this.Fa()?this.Fa().clone():void 0,points:this.l,radius:this.b,radius2:this.g,angle:this.j,snapToPixel:this.v,stroke:this.Ga()?this.Ga().clone():void 0,rotation:this.f,rotateWithView:this.s,atlasManager:this.N});return t.Ed(this.i),t.Fd(this.a),t},t.Vc=function(){return this.C},t.ij=function(){return this.j},t.Fa=function(){return this.Xa},t.Eg=function(){return this.D},t.Y=function(){return this.o},t.He=function(){return this.B},t.gf=function(){return 2},t.bd=function(){return this.oa},t.jj=function(){return this.l},t.kj=function(){return this.b},t.Zh=function(){return this.g},t.oc=function(){return this.qa},t.Ga=function(){return this.Ya},t.gi=function(){},t.load=function(){},t.Yj=function(){},t.Jh=function(t,e,o,i){e.setTransform(1,0,0,1,0,0),e.translate(o,i),e.beginPath();var r=this.l;if(1/0===r)e.arc(t.size/2,t.size/2,this.b,0,2*Math.PI,!0);else{var n=void 0!==this.g?this.g:this.b;for(n!==this.b&&(r*=2),o=0;o<=r;o++){i=2*o*Math.PI/r-Math.PI/2+this.j;var s=0==o%2?this.b:n;e.lineTo(t.size/2+s*Math.cos(i),t.size/2+s*Math.sin(i))}}this.Xa&&(null===(o=this.Xa.b)&&(o=Qn),e.fillStyle=bs(o),e.fill()),this.Ya&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.Wj,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},t.Ih=function(t,e,o,i){var r;if(e.setTransform(1,0,0,1,0,0),e.translate(o,i),e.beginPath(),1/0===(o=this.l))e.arc(t.size/2,t.size/2,this.b,0,2*Math.PI,!0);else for((i=void 0!==this.g?this.g:this.b)!==this.b&&(o*=2),r=0;r<=o;r++){var n=2*r*Math.PI/o-Math.PI/2+this.j,s=0==r%2?this.b:i;e.lineTo(t.size/2+s*Math.cos(n),t.size/2+s*Math.sin(n))}e.fillStyle=Qn,e.fill(),this.Ya&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.Wj,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},s(ep,$a),ep.prototype.clone=function(){var t=new ep({fill:this.Fa()?this.Fa().clone():void 0,stroke:this.Ga()?this.Ga().clone():void 0,radius:this.b,snapToPixel:this.v,atlasManager:this.N});return t.Ed(this.i),t.Fd(this.a),t},ep.prototype.fd=function(t){this.b=t,tp(this,this.N)},op.prototype.clone=function(){var t=this.b;return new op({color:t&&t.slice?t.slice():t||void 0})},op.prototype.g=function(){return this.b},op.prototype.c=function(t){this.b=t,this.a=void 0},(t=ip.prototype).clone=function(){var t=this.a;return new ip({color:t&&t.slice?t.slice():t||void 0,lineCap:this.f,lineDash:this.g?this.g.slice():void 0,lineDashOffset:this.i,lineJoin:this.j,miterLimit:this.l,width:this.c})},t.pp=function(){return this.a},t.vl=function(){return this.f},t.qp=function(){return this.g},t.wl=function(){return this.i},t.xl=function(){return this.j},t.Dl=function(){return this.l},t.rp=function(){return this.c},t.sp=function(t){this.a=t,this.b=void 0},t.yq=function(t){this.f=t,this.b=void 0},t.setLineDash=function(t){this.g=t,this.b=void 0},t.zq=function(t){this.i=t,this.b=void 0},t.Aq=function(t){this.j=t,this.b=void 0},t.Eq=function(t){this.l=t,this.b=void 0},t.Kq=function(t){this.c=t,this.b=void 0},(t=rp.prototype).clone=function(){var t=this.U();return t&&t.clone&&(t=t.clone()),new rp({geometry:t,fill:this.Fa()?this.Fa().clone():void 0,image:this.Y()?this.Y().clone():void 0,stroke:this.Ga()?this.Ga().clone():void 0,text:this.Ka()?this.Ka().clone():void 0,zIndex:this.Ba()})},t.Ie=function(){return this.pc},t.Iq=function(t){this.pc=t},t.U=function(){return this.Uc},t.rl=function(){return this.cb},t.Fa=function(){return this.Xa},t.yf=function(t){this.Xa=t},t.Y=function(){return this.M},t.ih=function(t){this.M=t},t.Ga=function(){return this.Ya},t.Af=function(t){this.Ya=t},t.Ka=function(){return this.ta},t.Hd=function(t){this.ta=t},t.Ba=function(){return this.bk},t.Va=function(e){"function"==typeof e?this.cb=e:"string"==typeof e?this.cb=function(t){return t.get(e)}:e?void 0!==e&&(this.cb=function(){return e}):this.cb=hp,this.Uc=e},t.$b=function(t){this.bk=t};var sp=null;function ap(){if(!sp){var t=new op({color:"rgba(255,255,255,0.4)"}),e=new ip({color:"#3399CC",width:1.25});sp=[new rp({image:new ep({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return sp}function pp(){var t={},e=[255,255,255,1],o=[0,153,255,1];return t.Polygon=[new rp({fill:new op({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new rp({stroke:new ip({color:e,width:5})}),new rp({stroke:new ip({color:o,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new rp({image:new ep({radius:6,fill:new op({color:o}),stroke:new ip({color:e,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function hp(t){return t.U()}function lp(t){Le.call(this),this.c=void 0,this.a="geometry",this.f=null,this.j=void 0,this.i=null,ve(this,je(this.a),this.Oe,this),void 0!==t&&(t instanceof bi||!t?this.Va(t):this.H(t))}function cp(t){Le.call(this),t=t||{},this.a=null,this.i=kt,this.f=new it(6378137),this.c=void 0,ve(this,je("projection"),this.en,this),ve(this,je("tracking"),this.fn,this),void 0!==t.projection&&this.oi(t.projection),void 0!==t.trackingOptions&&this.Rj(t.trackingOptions),this.Ue(void 0!==t.tracking&&t.tracking)}function up(t,e,o,i,r,n){var s=NaN,a=NaN,p=(o-e)/i;if(1===p)s=t[e],a=t[e+1];else if(2==p)s=(1-r)*t[e]+r*t[e+i],a=(1-r)*t[e+1]+r*t[e+i+1];else if(0!==p){a=t[e],p=t[e+1];var h,l=0;for(s=[0],h=e+i;h<o;h+=i){var c=t[h],u=t[h+1];l+=Math.sqrt((c-a)*(c-a)+(u-p)*(u-p)),s.push(l),a=c,p=u}for(o=r*l,p=0,l=s.length,h=!1;p<l;)(a=+Ut(s[r=p+(l-p>>1)],o))<0?p=r+1:(l=r,h=!a);(r=h?p:~p)<0?(o=(o-s[-r-2])/(s[-r-1]-s[-r-2]),s=$t(t[e+=(-r-2)*i],t[e+i],o),a=$t(t[e+1],t[e+i+1],o)):(s=t[e+r*i],a=t[e+r*i+1])}return n?(n[0]=s,n[1]=a,n):[s,a]}function gp(t,e,o,i,r,n){if(o==e)return null;if(r<t[e+i-1])return n?((o=t.slice(e,e+i))[i-1]=r,o):null;if(t[o-1]<r)return n?((o=t.slice(o-i,o))[i-1]=r,o):null;if(r==t[e+i-1])return t.slice(e,e+i);for(e/=i,o/=i;e<o;)r<t[(1+(n=e+o>>1))*i-1]?o=n:e=n+1;if(o=t[e*i-1],r==o)return t.slice((e-1)*i,(e-1)*i+i);var s;for(n=(r-o)/(t[(e+1)*i-1]-o),o=[],s=0;s<i-1;++s)o.push($t(t[(e-1)*i+s],t[e*i+s],n));return o.push(r),o}function yp(t,e){wi.call(this),this.c=null,this.o=this.D=this.j=-1,this.na(t,e)}function fp(t,e,o){for(var i,r,n,s,a,p=[],h=t(0),l=t(1),c=e(h),u=e(l),g=[l,h],y=[u,c],f=[1,0],d={},v=1e5;0<--v&&0<f.length;)n=f.pop(),h=g.pop(),c=y.pop(),(l=n.toString())in d||(p.push(c[0],c[1]),d[l]=!0),s=f.pop(),l=g.pop(),u=y.pop(),i=t(a=(n+s)/2),m((r=e(i))[0],r[1],c[0],c[1],u[0],u[1])<o?(p.push(u[0],u[1]),l=s.toString(),d[l]=!0):(f.push(s,a,a,n),y.push(u,r,r,c),g.push(l,i,i,h));return p}function dp(t){t=t||{},this.a=t.font,this.i=t.rotation,this.l=t.rotateWithView,this.b=t.scale,this.ta=t.text,this.f=t.textAlign,this.j=t.textBaseline,this.Xa=void 0!==t.fill?t.fill:new op({color:"#333"}),this.s=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.o=void 0!==t.placement?t.placement:"point";var e=void 0===t.overflow?t.exceedLength:t.overflow;this.v=void 0!==e&&e,this.Ya=void 0!==t.stroke?t.stroke:null,this.g=void 0!==t.offsetX?t.offsetX:0,this.c=void 0!==t.offsetY?t.offsetY:0,this.N=t.backgroundFill?t.backgroundFill:null,this.D=t.backgroundStroke?t.backgroundStroke:null,this.C=void 0===t.padding?null:t.padding}function vp(t){t=t||{},this.i=this.v=null,this.j=this.f=1/0,this.s=this.l=-1/0,this.qa=this.oa=1/0,this.O=this.T=-1/0,this.ua=void 0!==t.targetSize?t.targetSize:100,this.ab=void 0!==t.maxLines?t.maxLines:100,this.g=[],this.c=[],this.ra=void 0!==t.strokeStyle?t.strokeStyle:Ap,this.D=this.o=void 0,this.a=this.b=this.N=null,1==t.showLabels&&(this.$=null==t.lonLabelFormatter?Yo.bind(this,"EW"):t.lonLabelFormatter,this.Wa=null==t.latLabelFormatter?Yo.bind(this,"NS"):t.latLabelFormatter,this.ca=null==t.lonLabelPosition?0:t.lonLabelPosition,this.V=null==t.latLabelPosition?1:t.latLabelPosition,this.B=void 0!==t.lonLabelStyle?t.lonLabelStyle:new dp({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new op({color:"rgba(0,0,0,1)"}),stroke:new ip({color:"rgba(255,255,255,1)",width:3})}),this.C=void 0!==t.latLabelStyle?t.latLabelStyle:new dp({font:"12px Calibri,sans-serif",textAlign:"end",fill:new op({color:"rgba(0,0,0,1)"}),stroke:new ip({color:"rgba(255,255,255,1)",width:3})}),this.b=[],this.a=[]),this.setMap(void 0!==t.map?t.map:null)}s(lp,Le),(t=lp.prototype).clone=function(){var t=new lp(this.L());t.Lc(this.a);var e=this.U();return e&&t.Va(e.clone()),(e=this.f)&&t.sg(e),t},t.U=function(){return this.get(this.a)},t.an=function(){return this.c},t.sl=function(){return this.a},t.bn=function(){return this.f},t.ib=function(){return this.j},t.bm=function(){this.u()},t.Oe=function(){this.i&&(me(this.i),this.i=null);var t=this.U();t&&(this.i=ve(t,"change",this.bm,this)),this.u()},t.Va=function(t){this.set(this.a,t)},t.sg=function(t){this.j=(this.f=t)?function(e){var t;if("function"==typeof e)t=2==e.length?function(t){return e(this,t)}:e;else{if(Array.isArray(e))var o=e;else N(e instanceof rp,41),o=[e];t=function(){return o}}return t}(t):void 0,this.u()},t.qc=function(t){this.c=t,this.u()},t.Lc=function(t){Ce(this,je(this.a),this.Oe,this),this.a=t,ve(this,je(this.a),this.Oe,this),this.Oe()},s(cp,Le),(t=cp.prototype).ia=function(){this.Ue(!1),Le.prototype.ia.call(this)},t.en=function(){var t=this.mi();t&&(this.i=Nt(Ft("EPSG:4326"),t),this.a&&this.set("position",this.i(this.a)))},t.fn=function(){if(to){var t=this.ni();t&&void 0===this.c?this.c=navigator.geolocation.watchPosition(this.Pp.bind(this),this.Qp.bind(this),this.ai()):t||void 0===this.c||(navigator.geolocation.clearWatch(this.c),this.c=void 0)}},t.Pp=function(t){t=t.coords,this.set("accuracy",t.accuracy),this.set("altitude",null===t.altitude?void 0:t.altitude),this.set("altitudeAccuracy",null===t.altitudeAccuracy?void 0:t.altitudeAccuracy),this.set("heading",null===t.heading?void 0:I(t.heading)),this.a?(this.a[0]=t.longitude,this.a[1]=t.latitude):this.a=[t.longitude,t.latitude];var e=this.i(this.a);this.set("position",e),this.set("speed",null===t.speed?void 0:t.speed),(t=ir(this.f,this.a,t.accuracy)).Rc(this.i),this.set("accuracyGeometry",t),this.u()},t.Qp=function(t){t.type="error",this.Ue(!1),this.b(t)},t.el=function(){return this.get("accuracy")},t.fl=function(){return this.get("accuracyGeometry")||null},t.gl=function(){return this.get("altitude")},t.hl=function(){return this.get("altitudeAccuracy")},t.cn=function(){return this.get("heading")},t.dn=function(){return this.get("position")},t.mi=function(){return this.get("projection")},t.Ol=function(){return this.get("speed")},t.ni=function(){return this.get("tracking")},t.ai=function(){return this.get("trackingOptions")},t.oi=function(t){this.set("projection",Ft(t))},t.Ue=function(t){this.set("tracking",t)},t.Rj=function(t){this.set("trackingOptions",t)},s(yp,wi),(t=yp.prototype).Fk=function(t){this.A?Vt(this.A,t):this.A=t.slice(),this.u()},t.clone=function(){var t=new yp(null);return t.ba(this.ja,this.A.slice()),t},t.Nb=function(t,e,o,i){return i<d(this.G(),t,e)?i:(this.o!=this.g&&(this.D=Math.sqrt(Ti(this.A,0,this.A.length,this.a,0)),this.o=this.g),Fi(this.A,0,this.A.length,this.a,this.D,!1,t,e,o,i))},t.dl=function(t,e){return Ki(this.A,0,this.A.length,this.a,t,e)},t.Tn=function(t,e){return"XYM"!=this.ja&&"XYZM"!=this.ja?null:gp(this.A,0,this.A.length,this.a,t,void 0!==e&&e)},t.W=function(){return Di(this.A,0,this.A.length,this.a)},t.Ph=function(t,e){return up(this.A,0,this.A.length,this.a,t,e)},t.Un=function(){return sa(this.A,0,this.A.length,this.a)},t.Fe=function(){return this.j!=this.g&&(this.c=this.Ph(.5,this.c),this.j=this.g),this.c},t.xd=function(t){var e=[];return e.length=Bi(this.A,0,this.A.length,this.a,t,e,0),(t=new yp(null)).ba("XY",e),t},t.S=function(){return"LineString"},t.$a=function(t){return Ji(this.A,0,this.A.length,this.a,t)},t.na=function(t,e){t?(xi(this,e,t,1),this.A||(this.A=[]),this.A.length=Ni(this.A,0,t,this.a),this.u()):this.ba("XY",null)},t.ba=function(t,e){Si(this,t,e),this.u()},(t=dp.prototype).clone=function(){return new dp({font:this.a,placement:this.o,maxAngle:this.s,overflow:this.v,rotation:this.i,rotateWithView:this.l,scale:this.b,text:this.Ka(),textAlign:this.f,textBaseline:this.j,fill:this.Fa()?this.Fa().clone():void 0,stroke:this.Ga()?this.Ga().clone():void 0,offsetX:this.g,offsetY:this.c})},t.Gl=function(){return this.v},t.pl=function(){return this.a},t.Bl=function(){return this.s},t.Kl=function(){return this.o},t.El=function(){return this.g},t.Fl=function(){return this.c},t.Fa=function(){return this.Xa},t.tp=function(){return this.l},t.up=function(){return this.i},t.vp=function(){return this.b},t.Ga=function(){return this.Ya},t.Ka=function(){return this.ta},t.Ql=function(){return this.f},t.Rl=function(){return this.j},t.jl=function(){return this.N},t.kl=function(){return this.D},t.Il=function(){return this.C},t.Fq=function(t){this.v=t},t.Jj=function(t){this.a=t},t.Bq=function(t){this.s=t},t.Nj=function(t){this.g=t},t.Oj=function(t){this.c=t},t.Hq=function(t){this.o=t},t.yf=function(t){this.Xa=t},t.wp=function(t){this.i=t},t.lj=function(t){this.b=t},t.Af=function(t){this.Ya=t},t.Hd=function(t){this.ta=t},t.Qj=function(t){this.f=t},t.Jq=function(t){this.j=t},t.sq=function(t){this.N=t},t.tq=function(t){this.D=t},t.Gq=function(t){this.C=t};var Ap=new ip({color:"rgba(0,0,0,0.2)"}),Cp=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];function mp(t,e,o,i,r,n,s){var a,p,h,l,c,u=s;return a=e,p=o,h=i,l=t.i,c=r,o=fp(function(t){return[a,p+(h-p)*t]},Ot(Ft("EPSG:4326"),l),c),(u=void 0!==t.g[u]?t.g[u]:new yp(null)).ba("XY",o),te(u.G(),n)&&(t.b&&(o=s,i=u.da(),n=[i[0],C(n[1]+Math.abs(n[1]-n[3])*t.ca,Math.max(n[1],i[1]),Math.min(n[3],i[i.length-1]))],(o=void 0!==t.b[o]?t.b[o].Qd:new Vi(null)).na(n),t.b[s]={Qd:o,text:t.$(e)}),t.g[s++]=u),s}function Ip(t,e,o,i,r,n,s){var a,p,h,l,c,u=s;return a=e,p=o,h=i,l=t.i,c=r,o=fp(function(t){return[p+(h-p)*t,a]},Ot(Ft("EPSG:4326"),l),c),(u=void 0!==t.c[u]?t.c[u]:new yp(null)).ba("XY",o),te(u.G(),n)&&(t.a&&(o=s,i=u.da(),n=[C(n[0]+Math.abs(n[0]-n[2])*t.V,Math.max(n[0],i[0]),Math.min(n[2],i[i.length-2])),i[1]],(o=void 0!==t.a[o]?t.a[o].Qd:new Vi(null)).na(n),t.a[s]={Qd:o,text:t.Wa(e)}),t.c[s++]=u),s}function bp(t,e,o,i,r,n){Xn.call(this,t,e,o,0),this.i=i,this.M=new Image,null!==r&&(this.M.crossOrigin=r),this.g=null,this.state=0,this.c=n}function wp(t,e,o){xe.call(this),o=o||{},this.ya=t,this.state=e,this.g=null,this.key="",this.j=void 0===o.transition?250:o.transition,this.s={}}function Mp(t){if(!t.g)return t;var e=t.g;do{if(2==e.getState())return e;e=e.g}while(e);return t}function Sp(t){if(t.g){var e=t.g;do{if(2==e.getState()){e.g=null;break}1==e.getState()?t=e:0==e.getState()?t.g=e.g:t=e,e=t.g}while(e)}}function xp(t,e){t.state=e,t.u()}function Pp(t,e,o){if(!t.j)return 1;var i=t.s[e];if(i){if(-1===i)return 1}else i=o,t.s[e]=i;return(e=o-i+1e3/60)>=t.j?1:ii(e/t.j)}function Ep(t,e,o,i,r,n){wp.call(this,t,e,n),this.f=i,this.l=o,this.M=new Image,null!==i&&(this.M.crossOrigin=i),this.c=null,this.v=r}function Lp(t){t.c.forEach(me),t.c=null}function Tp(){var t=fr(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}function jp(t){this.b=t}function Fp(t){this.b=t}function Rp(t){this.b=t}(t=vp.prototype).gn=function(){return this.v},t.Cl=function(){return this.g},t.Jl=function(){return this.c},t.di=function(t){var e=t.vectorContext,o=t.frameState;t=o.extent;var i=o.viewState,r=i.center,n=i.projection;if(i=i.resolution,o=o.pixelRatio,o=i*i/(4*o*o),!this.i||!Rt(this.i,n)){var s=Ft("EPSG:4326"),a=n.G(),p=n.oe,h=Gt(p,s,n),l=p[2],c=p[1],u=p[0],g=h[3],y=h[2],f=h[1];h=h[0],this.f=p[3],this.j=l,this.l=c,this.s=u,this.oa=g,this.qa=y,this.T=f,this.O=h,this.o=Ot(s,n),this.D=Ot(n,s),this.N=this.D(V(a)),this.i=n}for(n=this.N[0],s=this.N[1],a=-1,l=Math.pow(this.ua*i,2),c=[],u=[],i=0,p=Cp.length;i<p&&(g=Cp[i]/2,c[0]=n-g,c[1]=s-g,u[0]=n+g,u[1]=s+g,this.o(c,c),this.o(u,u),!((g=Math.pow(u[0]-c[0],2)+Math.pow(u[1]-c[1],2))<=l));++i)a=Cp[i];if(-1==(i=a))this.g.length=this.c.length=0,this.b&&(this.b.length=0),this.a&&(this.a.length=0);else{for(n=this.D(r),r=n[0],n=n[1],s=this.ab,p=Gt(p=[Math.max(t[0],this.O),Math.max(t[1],this.T),Math.min(t[2],this.qa),Math.min(t[3],this.oa)],this.i,"EPSG:4326"),c=p[3],a=p[2],u=p[1],g=p[0],r=Math.floor(r/i)*i,y=C(r,this.s,this.j),l=mp(this,y,u,c,o,t,0),p=0;y!=this.s&&p++<s;)y=Math.max(y-i,this.s),l=mp(this,y,u,c,o,t,l);for(y=C(r,this.s,this.j),p=0;y!=this.j&&p++<s;)y=Math.min(y+i,this.j),l=mp(this,y,u,c,o,t,l);for(this.g.length=l,this.b&&(this.b.length=l),n=Math.floor(n/i)*i,r=C(n,this.l,this.f),l=Ip(this,r,g,a,o,t,0),p=0;r!=this.l&&p++<s;)r=Math.max(r-i,this.l),l=Ip(this,r,g,a,o,t,l);for(r=C(n,this.l,this.f),p=0;r!=this.f&&p++<s;)r=Math.min(r+i,this.f),l=Ip(this,r,g,a,o,t,l);this.c.length=l,this.a&&(this.a.length=l)}for(e.Oa(null,this.ra),t=0,o=this.g.length;t<o;++t)r=this.g[t],e.Hb(r);for(t=0,o=this.c.length;t<o;++t)r=this.c[t],e.Hb(r);if(this.b)for(t=0,o=this.b.length;t<o;++t)r=this.b[t],this.B.Hd(r.text),e.nb(this.B),e.Hb(r.Qd);if(this.a)for(t=0,o=this.a.length;t<o;++t)r=this.a[t],this.C.Hd(r.text),e.nb(this.C),e.Hb(r.Qd)},t.setMap=function(t){this.v&&(this.v.J("postcompose",this.di,this),this.v.render()),t&&(t.I("postcompose",this.di,this),t.render()),this.v=t},s(bp,Xn),(t=bp.prototype).Y=function(){return this.M},t.kn=function(){this.state=3,this.g.forEach(me),this.g=null,this.u()},t.ln=function(){void 0===this.resolution&&(this.resolution=W(this.extent)/this.M.height),this.state=2,this.g.forEach(me),this.g=null,this.u()},t.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.u(),this.g=[Ae(this.M,"error",this.kn,this),Ae(this.M,"load",this.ln,this)],this.c(this,this.i))},t.ih=function(t){this.M=t},s(wp,xe),wp.prototype.u=function(){this.b("change")},wp.prototype.lb=function(){return this.key+"/"+this.ya},wp.prototype.i=function(){return this.ya},wp.prototype.getState=function(){return this.state},s(Ep,wp),(t=Ep.prototype).ia=function(){1==this.state&&(Lp(this),this.M=Tp()),this.g&&we(this.g),this.state=5,this.u(),wp.prototype.ia.call(this)},t.Y=function(){return this.M},t.lb=function(){return this.l},t.hn=function(){this.state=3,Lp(this),this.M=Tp(),this.u()},t.jn=function(){this.state=this.M.naturalWidth&&this.M.naturalHeight?2:4,Lp(this),this.u()},t.load=function(){3==this.state&&(this.state=0,this.M=new Image,null!==this.f&&(this.M.crossOrigin=this.f)),0==this.state&&(this.state=1,this.u(),this.c=[Ae(this.M,"error",this.hn,this),Ae(this.M,"load",this.jn,this)],this.v(this,this.l))},s(Fp,jp),Fp.prototype.S=function(){return 35632},s(Rp,jp),Rp.prototype.S=function(){return 35633};var Op=new Fp("precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}"),Np=new Rp("varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;//Until we get gl_VertexID in WebGL,we store an instruction.if(f==0.0){//Offsetting the edges of the triangle by lineWidth/2 is necessary,however//we should also leave some space for the antialiasing,thus we offset by lineWidth.offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}");function kp(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}function Dp(t,e){this.origin=V(e),this.bb=[1,0,0,1,0,0],this.Ea=[1,0,0,1,0,0],this.La=[1,0,0,1,0,0],this.V=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.b=[],this.j=null,this.g=[],this.i=[],this.a=[],this.s=null,this.f=void 0}function _p(t,e,o,i){t.drawElements(4,i-o,e.f?5125:5123,o*(e.f?4:2))}s(Dp,ws),Dp.prototype.Na=function(t,e,o,i,r,n,s,a,p,h,l){var c=t.b;if(this.f){var u=c.isEnabled(c.STENCIL_TEST),g=c.getParameter(c.STENCIL_FUNC),y=c.getParameter(c.STENCIL_VALUE_MASK),f=c.getParameter(c.STENCIL_REF),d=c.getParameter(c.STENCIL_WRITEMASK),v=c.getParameter(c.STENCIL_FAIL),A=c.getParameter(c.STENCIL_PASS_DEPTH_PASS),C=c.getParameter(c.STENCIL_PASS_DEPTH_FAIL);c.enable(c.STENCIL_TEST),c.clear(c.STENCIL_BUFFER_BIT),c.stencilMask(255),c.stencilFunc(c.ALWAYS,1,255),c.stencilOp(c.KEEP,c.KEEP,c.REPLACE),this.f.Na(t,e,o,i,r,n,s,a,p,h,l),c.stencilMask(0),c.stencilFunc(c.NOTEQUAL,1,255)}qp(t,34962,this.s),qp(t,34963,this.j),n=this.Bf(c,t,r,n);var m=ui(this.bb);if(Ai(m,2/(o*r[0]),2/(o*r[1])),vi(m,-i),Ci(m,-(e[0]-this.origin[0]),-(e[1]-this.origin[1])),Ai(e=ui(this.La),2/r[0],2/r[1]),r=ui(this.Ea),0!==i&&vi(r,-i),c.uniformMatrix4fv(n.g,!1,kp(this.V,m)),c.uniformMatrix4fv(n.i,!1,kp(this.V,e)),c.uniformMatrix4fv(n.c,!1,kp(this.V,r)),c.uniform1f(n.a,s),void 0===p)this.Od(c,t,a,!1);else{h?t=this.Ee(c,t,a,p,l):(c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT),this.Od(c,t,a,!0),t=(t=p(null))?t:void 0);var I=t}return this.Cf(c,n),this.f&&(u||c.disable(c.STENCIL_TEST),c.clear(c.STENCIL_BUFFER_BIT),c.stencilFunc(g,f,y),c.stencilMask(d),c.stencilOp(v,C,A)),I};var Gp=[0,0,0,1],Bp=[],Up=[0,0,0,1];function zp(t,e,o,i,r,n){return(t=(o-t)*(n-e)-(r-t)*(i-e))<=Zp&&-Zp<=t?void 0:0<t}var Zp=Number.EPSILON||2.220446049250313e-16;function Vp(t){this.b=void 0!==t?t:[],this.a=Hp}var Hp=35044;function Wp(t,e){Dp.call(this,t,e),this.v=null,this.l=[],this.o=[],this.N=0,this.c={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,u:!1}}function Xp(t,e,o,i){e.uniform4fv(t.v.O,o),e.uniform1f(t.v.oa,i)}s(Wp,Dp),(t=Wp.prototype).cc=function(t,e){var o=t.Bd(),i=t.pa();if(o){this.g.push(this.b.length),this.i.push(e),this.c.u&&(this.o.push(this.b.length),this.c.u=!1),this.N=o,t=li(t=t.da(),0,2,i,-this.origin[0],-this.origin[1]),e=this.a.length,o=this.b.length;var r,n=e/4;for(r=0;r<2;r+=i)this.a[e++]=t[r],this.a[e++]=t[r+1],this.a[e++]=0,this.a[e++]=this.N,this.a[e++]=t[r],this.a[e++]=t[r+1],this.a[e++]=1,this.a[e++]=this.N,this.a[e++]=t[r],this.a[e++]=t[r+1],this.a[e++]=2,this.a[e++]=this.N,this.a[e++]=t[r],this.a[e++]=t[r+1],this.a[e++]=3,this.a[e++]=this.N,this.b[o++]=n,this.b[o++]=n+1,this.b[o++]=n+2,this.b[o++]=n+2,this.b[o++]=n+3,this.b[o++]=n,n+=4}else this.c.u&&(this.l.pop(),this.l.length&&(i=this.l[this.l.length-1],this.c.fillColor=i[0],this.c.strokeColor=i[1],this.c.lineWidth=i[2],this.c.u=!1))},t.gb=function(){this.s=new Vp(this.a),this.j=new Vp(this.b),this.g.push(this.b.length),0===this.o.length&&0<this.l.length&&(this.l=[]),this.b=this.a=null},t.Db=function(t){var e=this.s,o=this.j;return function(){Qp(t,e),Qp(t,o)}},t.Bf=function(t,e,o,i){var r=eh(e,Op,Np);if(this.v)var n=this.v;else this.v=n=new function(t,e){this.g=t.getUniformLocation(e,"h"),this.i=t.getUniformLocation(e,"i"),this.c=t.getUniformLocation(e,"j"),this.oa=t.getUniformLocation(e,"k"),this.qa=t.getUniformLocation(e,"l"),this.a=t.getUniformLocation(e,"m"),this.C=t.getUniformLocation(e,"n"),this.O=t.getUniformLocation(e,"o"),this.T=t.getUniformLocation(e,"p"),this.b=t.getAttribLocation(e,"e"),this.j=t.getAttribLocation(e,"f"),this.N=t.getAttribLocation(e,"g")}(t,r);return e.cd(r),t.enableVertexAttribArray(n.b),t.vertexAttribPointer(n.b,2,5126,!1,16,0),t.enableVertexAttribArray(n.j),t.vertexAttribPointer(n.j,1,5126,!1,16,8),t.enableVertexAttribArray(n.N),t.vertexAttribPointer(n.N,1,5126,!1,16,12),t.uniform2fv(n.T,o),t.uniform1f(n.qa,i),n},t.Cf=function(t,e){t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.j),t.disableVertexAttribArray(e.N)},t.Od=function(t,e,o){if(ee(o)){var i=this.g[this.g.length-1];for(o=this.o.length-1;0<=o;--o){var r=this.o[o],n=this.l[o];t.uniform4fv(this.v.C,n[0]),Xp(this,t,n[1],n[2]),_p(t,e,r,i),i=r}}else{var s=this.g.length-2;for(n=i=this.g[s+1],r=this.o.length-1;0<=r;--r){var a=this.l[r];for(t.uniform4fv(this.v.C,a[0]),Xp(this,t,a[1],a[2]),a=this.o[r];0<=s&&this.g[s]>=a;){var p=this.g[s],h=this.i[s];h=Qt(h).toString(),o[h]&&(i!==n&&_p(t,e,i,n),n=p),s--,i=p}i!==n&&_p(t,e,i,n),i=n=a}}},t.Ee=function(t,e,o,i,r){var n,s,a=this.g.length-2,p=this.g[a+1];for(n=this.o.length-1;0<=n;--n){var h=this.l[n];for(t.uniform4fv(this.v.C,h[0]),Xp(this,t,h[1],h[2]),s=this.o[n];0<=a&&this.g[a]>=s;){h=this.g[a];var l=this.i[a],c=Qt(l).toString();if(void 0===o[c]&&l.U()&&(void 0===r||te(r,l.U().G()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),_p(t,e,h,p),p=i(l)))return p;a--,p=h}}},t.Oa=function(t,e){if(e){var o=e.g;this.c.lineDash=o||Bp,o=e.i,this.c.lineDashOffset=o||0,o=(o=e.a)instanceof CanvasGradient||o instanceof CanvasPattern?Up:ds(o).map(function(t,e){return 3!=e?t/255:t})||Up,e=void 0!==(e=e.c)?e:1}else o=[0,0,0,0],e=0;t=(t=t?t.b:[0,0,0,0])instanceof CanvasGradient||t instanceof CanvasPattern?Gp:ds(t).map(function(t,e){return 3!=e?t/255:t})||Gp,this.c.strokeColor&&oe(this.c.strokeColor,o)&&this.c.fillColor&&oe(this.c.fillColor,t)&&this.c.lineWidth===e||(this.c.u=!0,this.c.fillColor=t,this.c.strokeColor=o,this.c.lineWidth=e,this.l.push([t,o,e]))};var Yp=new Fp("precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),Kp=new Rp("varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}");function Jp(t,e){this.j=t,this.b=e,this.a={},this.c={},this.g={},this.s=this.v=this.i=this.l=null,(this.f=zt(o,"OES_element_index_uint"))&&e.getExtension("OES_element_index_uint"),ve(this.j,"webglcontextlost",this.zp,this),ve(this.j,"webglcontextrestored",this.Ap,this)}function qp(t,e,o){var i=t.b,r=o.b,n=String(Qt(o));if(n in t.a)i.bindBuffer(e,t.a[n].buffer);else{var s,a=i.createBuffer();i.bindBuffer(e,a),34962==e?s=new Float32Array(r):34963==e&&(s=t.f?new Uint32Array(r):new Uint16Array(r)),i.bufferData(e,s,o.a),t.a[n]={tc:o,buffer:a}}}function Qp(t,e){var o=t.b;e=String(Qt(e));var i=t.a[e];o.isContextLost()||o.deleteBuffer(i.buffer),delete t.a[e]}function $p(t){if(!t.i){var e=t.b,o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o);var i=ih(e,1,1),r=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,r),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,1,1),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,i,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,r),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),t.i=o,t.v=i,t.s=r}return t.i}function th(t,e){var o=String(Qt(e));if(o in t.c)return t.c[o];var i=t.b,r=i.createShader(e.S());return i.shaderSource(r,e.b),i.compileShader(r),t.c[o]=r}function eh(t,e,o){var i=Qt(e)+"/"+Qt(o);if(i in t.g)return t.g[i];var r=t.b,n=r.createProgram();return r.attachShader(n,th(t,e)),r.attachShader(n,th(t,o)),r.linkProgram(n),t.g[i]=n}function oh(t,e,o){var i=t.createTexture();return t.bindTexture(t.TEXTURE_2D,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),void 0!==e&&t.texParameteri(3553,10242,e),void 0!==o&&t.texParameteri(3553,10243,o),i}function ih(t,e,o){var i=oh(t,void 0,void 0);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,o,0,t.RGBA,t.UNSIGNED_BYTE,null),i}function rh(t,e){var o=oh(t,33071,33071);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),o}function nh(t,e){Dp.call(this,t,e),this.C=this.D=void 0,this.v=[],this.o=[],this.qa=this.oa=this.height=void 0,this.Wa=null,this.width=this.scale=this.rotation=this.rotateWithView=this.O=this.T=this.opacity=void 0}function sh(t,e,o,i){var r=t.D,n=t.C,s=t.height,a=t.oa,p=t.qa,h=t.opacity,l=t.T,c=t.O,u=t.rotateWithView?1:0,g=-t.rotation,y=t.scale,f=t.width,d=Math.cos(g);g=Math.sin(g);var v,A=t.b.length,C=t.a.length;for(v=0;v<o;v+=i){var m=e[v]-t.origin[0],I=e[v+1]-t.origin[1],b=C/8,w=-y*r,M=-y*(s-n);t.a[C++]=m,t.a[C++]=I,t.a[C++]=w*d-M*g,t.a[C++]=w*g+M*d,t.a[C++]=l/p,t.a[C++]=(c+s)/a,t.a[C++]=h,t.a[C++]=u,w=y*(f-r),M=-y*(s-n),t.a[C++]=m,t.a[C++]=I,t.a[C++]=w*d-M*g,t.a[C++]=w*g+M*d,t.a[C++]=(l+f)/p,t.a[C++]=(c+s)/a,t.a[C++]=h,t.a[C++]=u,w=y*(f-r),M=y*n,t.a[C++]=m,t.a[C++]=I,t.a[C++]=w*d-M*g,t.a[C++]=w*g+M*d,t.a[C++]=(l+f)/p,t.a[C++]=c/a,t.a[C++]=h,t.a[C++]=u,w=-y*r,M=y*n,t.a[C++]=m,t.a[C++]=I,t.a[C++]=w*d-M*g,t.a[C++]=w*g+M*d,t.a[C++]=l/p,t.a[C++]=c/a,t.a[C++]=h,t.a[C++]=u,t.b[A++]=b,t.b[A++]=b+1,t.b[A++]=b+2,t.b[A++]=b,t.b[A++]=b+2,t.b[A++]=b+3}}function ah(t,e,o,i){var r,n=e.length;for(r=0;r<n;++r){var s=e[r],a=Qt(s).toString();a in o?s=o[a]:(s=rh(i,s),o[a]=s),t[r]=s}}function ph(t,e){nh.call(this,t,e),this.l=[],this.c=[],this.B=[],this.N=[]}function hh(t,e,o){var i=e-o;return t[0]===t[i]&&t[1]===t[i+1]&&3<(e-0)/o&&!!Pi(t,0,e,o)}s(Jp,be),(t=Jp.prototype).ia=function(){Ie(this.j);var t=this.b;if(!t.isContextLost()){for(var e in this.a)t.deleteBuffer(this.a[e].buffer);for(e in this.g)t.deleteProgram(this.g[e]);for(e in this.c)t.deleteShader(this.c[e]);t.deleteFramebuffer(this.i),t.deleteRenderbuffer(this.s),t.deleteTexture(this.v)}},t.yp=function(){return this.b},t.zp=function(){et(this.a),et(this.c),et(this.g),this.s=this.v=this.i=this.l=null},t.Ap=function(){},t.cd=function(t){return t!=this.l&&(this.b.useProgram(t),this.l=t,!0)},s(nh,Dp),(t=nh.prototype).Db=function(o){var i=this.s,r=this.j,n=this.ig(!0),s=o.b;return function(){if(!s.isContextLost()){var t,e=0;for(t=n.length;e<t;++e)s.deleteTexture(n[e])}Qp(o,i),Qp(o,r)}},t.Bf=function(t,e){var o=eh(e,Yp,Kp);if(this.Wa)var i=this.Wa;else this.Wa=i=new function(t,e){this.g=t.getUniformLocation(e,"h"),this.i=t.getUniformLocation(e,"i"),this.c=t.getUniformLocation(e,"j"),this.a=t.getUniformLocation(e,"k"),this.b=t.getAttribLocation(e,"c"),this.B=t.getAttribLocation(e,"d"),this.v=t.getAttribLocation(e,"e"),this.o=t.getAttribLocation(e,"f"),this.D=t.getAttribLocation(e,"g")}(t,o);return e.cd(o),t.enableVertexAttribArray(i.b),t.vertexAttribPointer(i.b,2,5126,!1,32,0),t.enableVertexAttribArray(i.v),t.vertexAttribPointer(i.v,2,5126,!1,32,8),t.enableVertexAttribArray(i.B),t.vertexAttribPointer(i.B,2,5126,!1,32,16),t.enableVertexAttribArray(i.o),t.vertexAttribPointer(i.o,1,5126,!1,32,24),t.enableVertexAttribArray(i.D),t.vertexAttribPointer(i.D,1,5126,!1,32,28),i},t.Cf=function(t,e){t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.v),t.disableVertexAttribArray(e.B),t.disableVertexAttribArray(e.o),t.disableVertexAttribArray(e.D)},t.Od=function(t,e,o,i){var r=i?this.ag():this.ig();if(i=i?this.o:this.v,ee(o)){var n;o=0;var s=r.length;for(n=0;o<s;++o){t.bindTexture(3553,r[o]);var a=i[o];_p(t,e,n,a),n=a}}else for(n=s=0,a=r.length;n<a;++n){t.bindTexture(3553,r[n]);for(var p=0<n?i[n-1]:0,h=i[n],l=p;s<this.g.length&&this.g[s]<=h;){var c=Qt(this.i[s]).toString();void 0!==o[c]?(l!==p&&_p(t,e,l,p),p=l=s===this.g.length-1?h:this.g[s+1]):p=s===this.g.length-1?h:this.g[s+1],s++}l!==p&&_p(t,e,l,p)}},t.Ee=function(t,e,o,i,r){var n,s,a=this.g.length-1,p=this.ag();for(n=p.length-1;0<=n;--n){t.bindTexture(3553,p[n]);var h=0<n?this.o[n-1]:0;for(s=this.o[n];0<=a&&this.g[a]>=h;){var l=this.g[a],c=this.i[a],u=Qt(c).toString();if(void 0===o[u]&&c.U()&&(void 0===r||te(r,c.U().G()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),_p(t,e,l,s),s=i(c)))return s;s=l,a--}}},t.gb=function(){this.qa=this.oa=this.height=this.C=this.D=void 0,this.b=null,this.scale=this.rotation=this.rotateWithView=this.O=this.T=this.opacity=void 0,this.a=null,this.width=void 0},s(ph,nh),(t=ph.prototype).wc=function(t,e){this.g.push(this.b.length),this.i.push(e),sh(this,e=t.da(),e.length,t.pa())},t.yc=function(t,e){this.g.push(this.b.length),this.i.push(e),sh(this,e=t.da(),e.length,t.pa())},t.gb=function(t){var e=t.b;this.v.push(this.b.length),this.o.push(this.b.length),this.s=new Vp(this.a),this.j=new Vp(this.b);var o={};ah(this.B,this.l,o,e),ah(this.N,this.c,o,e),this.c=this.l=null,nh.prototype.gb.call(this,t)},t.Zb=function(t){var e=t.Vc(),o=t.Y(1),i=t.He(),r=t.Eg(),n=t.i,s=t.bd(),a=t.s,p=t.f,h=t.oc();if(t=t.a,0===this.l.length)this.l.push(o);else{var l=this.l[this.l.length-1];Qt(l)!=Qt(o)&&(this.v.push(this.b.length),this.l.push(o))}0===this.c.length?this.c.push(r):Qt(l=this.c[this.c.length-1])!=Qt(r)&&(this.o.push(this.b.length),this.c.push(r)),this.D=e[0],this.C=e[1],this.height=h[1],this.oa=i[1],this.qa=i[0],this.opacity=n,this.T=s[0],this.O=s[1],this.rotation=p,this.rotateWithView=a,this.scale=t,this.width=h[0]},t.ig=function(t){return t?this.B.concat(this.N):this.B},t.ag=function(){return this.N};var lh=new Fp("precision mediump float;varying float a;varying vec2 aVertex;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((aVertex.x+1.0)/2.0*o.x*p,(aVertex.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),ch=new Rp("varying float a;varying vec2 aVertex;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;aVertex=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}");function uh(t,e){Dp.call(this,t,e),this.v=null,this.o=[],this.l=[],this.c={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,u:!1}}function gh(t,e,o,i){var r,n=t.a.length,s=t.b.length,a="bevel"===t.c.lineJoin?0:"miter"===t.c.lineJoin?1:2,p="butt"===t.c.lineCap?0:"square"===t.c.lineCap?1:2,h=hh(e,o,i),l=s,c=1;for(r=0;r<o;r+=i){var u=n/7,g=y,y=f||[e[r],e[r+1]];if(0===r){var f=[e[r+i],e[r+i+1]];if(o-0==2*i&&oe(y,f))break;if(!h){p&&(n=yh(t,[0,0],y,f,c*Ih*p,n),n=yh(t,[0,0],y,f,-c*Ih*p,n),t.b[s++]=u+2,t.b[s++]=u,t.b[s++]=u+1,t.b[s++]=u+1,t.b[s++]=u+3,t.b[s++]=u+2),n=yh(t,[0,0],y,f,c*Ch*(p||1),n),n=yh(t,[0,0],y,f,-c*Ch*(p||1),n),l=n/7-1;continue}g=[e[o-2*i],e[o-2*i+1]];var d=f}else{if(r===o-i){h?f=d:(n=yh(t,g=g||[0,0],y,[0,0],c*mh*(p||1),n),n=yh(t,g,y,[0,0],-c*mh*(p||1),n),t.b[s++]=u,t.b[s++]=l-1,t.b[s++]=l,t.b[s++]=l,t.b[s++]=u+1,t.b[s++]=u,p&&(n=yh(t,g,y,[0,0],c*bh*p,n),n=yh(t,g,y,[0,0],-c*bh*p,n),t.b[s++]=u+2,t.b[s++]=u,t.b[s++]=u+1,t.b[s++]=u+1,t.b[s++]=u+3,t.b[s++]=u+2));break}f=[e[r+i],e[r+i+1]]}var v=zp(g[0],g[1],y[0],y[1],f[0],f[1])?-1:1;n=yh(t,g,y,f,v*wh*(a||1),n),n=yh(t,g,y,f,v*Mh*(a||1),n),n=yh(t,g,y,f,-v*Sh*(a||1),n),0<r&&(t.b[s++]=u,t.b[s++]=l-1,t.b[s++]=l,t.b[s++]=u+2,t.b[s++]=u,t.b[s++]=0<c*v?l:l-1),t.b[s++]=u,t.b[s++]=u+2,t.b[s++]=u+1,l=u+2,c=v,a&&(n=yh(t,g,y,f,v*xh*a,n),t.b[s++]=u+1,t.b[s++]=u+3,t.b[s++]=u)}h&&(u=u||n/7,v=Qi([g[0],g[1],y[0],y[1],f[0],f[1]],0,6,2)?1:-1,n=yh(t,g,y,f,v*wh*(a||1),n),yh(t,g,y,f,-v*Sh*(a||1),n),t.b[s++]=u,t.b[s++]=l-1,t.b[s++]=l,t.b[s++]=u+1,t.b[s++]=u,t.b[s++]=0<c*v?l:l-1)}function yh(t,e,o,i,r,n){return t.a[n++]=e[0],t.a[n++]=e[1],t.a[n++]=o[0],t.a[n++]=o[1],t.a[n++]=i[0],t.a[n++]=i[1],t.a[n++]=r,n}function fh(t,e,o,i){return!((o-=e)<2*i||o===2*i&&oe([t[e],t[e+1]],[t[e+i],t[e+i+1]]))}function dh(t,e,o,i){var r;if(hh(e,e.length,i)||(e.push(e[0]),e.push(e[1])),gh(t,e,e.length,i),o.length)for(e=0,r=o.length;e<r;++e)hh(o[e],o[e].length,i)||(o[e].push(o[e][0]),o[e].push(o[e][1])),gh(t,o[e],o[e].length,i)}function vh(t,e,o){o=void 0===o?t.b.length:o,t.g.push(o),t.i.push(e),t.c.u&&(t.l.push(o),t.c.u=!1)}function Ah(t,e,o,i,r){e.uniform4fv(t.v.C,o),e.uniform1f(t.v.oa,i),e.uniform1f(t.v.O,r)}s(uh,Dp),(t=uh.prototype).uc=function(t,e){var o=t.da();t=t.pa(),fh(o,0,o.length,t)&&(o=li(o,0,o.length,t,-this.origin[0],-this.origin[1]),this.c.u&&(this.l.push(this.b.length),this.c.u=!1),this.g.push(this.b.length),this.i.push(e),gh(this,o,o.length,t))},t.vc=function(t,e){var o=this.b.length,i=t.pb();i.unshift(0);var r,n=t.da();if(t=t.pa(),1<i.length){var s=1;for(r=i.length;s<r;++s)if(fh(n,i[s-1],i[s],t)){var a=li(n,i[s-1],i[s],t,-this.origin[0],-this.origin[1]);gh(this,a,a.length,t)}}this.b.length>o&&(this.g.push(o),this.i.push(e),this.c.u&&(this.l.push(o),this.c.u=!1))},t.gb=function(){this.s=new Vp(this.a),this.j=new Vp(this.b),this.g.push(this.b.length),0===this.l.length&&0<this.o.length&&(this.o=[]),this.b=this.a=null},t.Db=function(t){var e=this.s,o=this.j;return function(){Qp(t,e),Qp(t,o)}},t.Bf=function(t,e,o,i){var r=eh(e,lh,ch);if(this.v)var n=this.v;else this.v=n=new function(t,e){this.g=t.getUniformLocation(e,"h"),this.i=t.getUniformLocation(e,"i"),this.c=t.getUniformLocation(e,"j"),this.oa=t.getUniformLocation(e,"k"),this.O=t.getUniformLocation(e,"l"),this.a=t.getUniformLocation(e,"m"),this.C=t.getUniformLocation(e,"n"),this.T=t.getUniformLocation(e,"o"),this.qa=t.getUniformLocation(e,"p"),this.l=t.getAttribLocation(e,"d"),this.b=t.getAttribLocation(e,"e"),this.s=t.getAttribLocation(e,"f"),this.f=t.getAttribLocation(e,"g")}(t,r);return e.cd(r),t.enableVertexAttribArray(n.l),t.vertexAttribPointer(n.l,2,5126,!1,28,0),t.enableVertexAttribArray(n.b),t.vertexAttribPointer(n.b,2,5126,!1,28,8),t.enableVertexAttribArray(n.s),t.vertexAttribPointer(n.s,2,5126,!1,28,16),t.enableVertexAttribArray(n.f),t.vertexAttribPointer(n.f,1,5126,!1,28,24),t.uniform2fv(n.T,o),t.uniform1f(n.qa,i),n},t.Cf=function(t,e){t.disableVertexAttribArray(e.l),t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.s),t.disableVertexAttribArray(e.f)},t.Od=function(t,e,o,i){var r=t.getParameter(t.DEPTH_FUNC),n=t.getParameter(t.DEPTH_WRITEMASK);if(i||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),ee(o)){var s=this.g[this.g.length-1];for(o=this.l.length-1;0<=o;--o){var a=this.l[o],p=this.o[o];Ah(this,t,p[0],p[1],p[2]),_p(t,e,a,s),t.clear(t.DEPTH_BUFFER_BIT),s=a}}else{var h=this.g.length-2;for(p=s=this.g[h+1],a=this.l.length-1;0<=a;--a){var l=this.o[a];for(Ah(this,t,l[0],l[1],l[2]),l=this.l[a];0<=h&&this.g[h]>=l;){var c=this.g[h],u=this.i[h];u=Qt(u).toString(),o[u]&&(s!==p&&(_p(t,e,s,p),t.clear(t.DEPTH_BUFFER_BIT)),p=c),h--,s=c}s!==p&&(_p(t,e,s,p),t.clear(t.DEPTH_BUFFER_BIT)),s=p=l}}i||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(n),t.depthFunc(r))},t.Ee=function(t,e,o,i,r){var n,s,a=this.g.length-2,p=this.g[a+1];for(n=this.l.length-1;0<=n;--n){var h=this.o[n];for(Ah(this,t,h[0],h[1],h[2]),s=this.l[n];0<=a&&this.g[a]>=s;){h=this.g[a];var l=this.i[a],c=Qt(l).toString();if(void 0===o[c]&&l.U()&&(void 0===r||te(r,l.U().G()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),_p(t,e,h,p),p=i(l)))return p;a--,p=h}}},t.Oa=function(t,e){t=e.f,this.c.lineCap=void 0!==t?t:"round",t=e.g,this.c.lineDash=t||Bp,t=e.i,this.c.lineDashOffset=t||0,t=e.j,this.c.lineJoin=void 0!==t?t:"round",t=(t=e.a)instanceof CanvasGradient||t instanceof CanvasPattern?Up:ds(t).map(function(t,e){return 3!=e?t/255:t})||Up;var o=e.c;o=void 0!==o?o:1,e=void 0!==(e=e.l)?e:10,this.c.strokeColor&&oe(this.c.strokeColor,t)&&this.c.lineWidth===o&&this.c.miterLimit===e||(this.c.u=!0,this.c.strokeColor=t,this.c.lineWidth=o,this.c.miterLimit=e,this.o.push([t,o,e]))};var Ch=3,mh=5,Ih=7,bh=11,wh=13,Mh=17,Sh=19,xh=23,Ph=new Fp("precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),Eh=new Rp("attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}");function Lh(){this.b=this.a=this.g=void 0,this.c=0}function Th(t){var e=t.b;if(e){var o=e.next,i=e.Eb;o&&(o.Eb=i),i&&(i.next=o),t.b=o||i,t.g===t.a?(t.b=void 0,t.g=void 0,t.a=void 0):t.g===e?t.g=t.b:t.a===e&&(t.a=i?t.b.Eb:t.b),t.c--}}function jh(t){if(t.b=t.g,t.b)return t.b.data}function Fh(t){if(t.b&&t.b.next)return t.b=t.b.next,t.b.data}function Rh(t){if(t.b&&t.b.next)return t.b.next.data}function Oh(t){if(t.b&&t.b.Eb)return t.b=t.b.Eb,t.b.data}function Nh(t){if(t.b&&t.b.Eb)return t.b.Eb.data}function kh(t){if(t.b)return t.b.data}function Dh(){this.a=ra.Jc(void 0),this.b={}}function _h(t,e,o){var i=t.b[Qt(o)];Z([i.fa,i.ea,i.la,i.ka],e)||(t.remove(o),t.Ca(e,o))}function Gh(t){return t.a.all().map(function(t){return t.value})}function Bh(t,e){return t.a.search({fa:e[0],ea:e[1],la:e[2],ka:e[3]}).map(function(t){return t.value})}function Uh(t,e,o,i){return zh(Bh(t,e),o,i)}function zh(t,e,o){for(var i,r=0,n=t.length;r<n&&!(i=e.call(o,t[r]));r++);return i}function Zh(t,e){Dp.call(this,t,e),this.f=new uh(t,e),this.v=null,this.o=[],this.c=[],this.l={fillColor:null,u:!1}}function Vh(t,e,o,i){var r=new Lh,n=new Dh;if(Hh(t,e,i,r,n,!0),e=Wh(r),o.length){var s,a=[],p=0;for(s=o.length;p<s;++p){var h={list:new Lh,Ec:void 0,gh:new Dh};a.push(h),Hh(t,o[p],i,h.list,h.gh,!1),Xh(h.list,h.gh,!0),h.Ec=Wh(h.list)}for(a.sort(function(t,e){return e.Ec[0]===t.Ec[0]?t.Ec[1]-e.Ec[1]:e.Ec[0]-t.Ec[0]}),p=0;p<a.length;++p){o=a[p].list,s=i=jh(o);do{if(ol(s,n).length){var l=!0;break}s=Fh(o)}while(i!==s);!l&&Yh(o,a[p].Ec[0],r,e[0],n)&&(n.concat(a[p].gh),Xh(r,n,!1))}}else Xh(r,n,!1);!function t(e,o,i){for(var r=!1,n=qh(o,i);3<o.c;)if(n){if(!Kh(e,o,i,n,r)&&!Xh(o,i,r)&&!Jh(e,o,i,!0))break}else if(!Kh(e,o,i,n,r)&&!Xh(o,i,r)&&!Jh(e,o,i)){if(!(n=qh(o,i))){n=e,s=a=jh(r=o);do{if((p=ol(s,i)).length){for(a=p[0],p=il(s.Z,s.X,a.Z,a.X),p=Qh(n,p[0],p[1],n.a.length/2),h=new Lh,l=new Dh,$h(p,s.X,h,l),s.X=p,_h(i,[Math.min(s.Z.x,p.x),Math.min(s.Z.y,p.y),Math.max(s.Z.x,p.x),Math.max(s.Z.y,p.y)],s),s=Fh(r);s!==a;)$h(s.Z,s.X,h,l),i.remove(s),Th(r),s=kh(r);$h(a.Z,p,h,l),a.Z=p,_h(i,[Math.min(a.X.x,p.x),Math.min(a.X.y,p.y),Math.max(a.X.x,p.x),Math.max(a.X.y,p.y)],a),Xh(r,i,!1),t(n,r,i),Xh(h,l,!1),t(n,h,l);break}s=Fh(r)}while(s!==a);break}for(var s=2*(r=o).c,a=Array(s),p=jh(r),h=p,l=0;a[l++]=h.Z.x,a[l++]=h.Z.y,(h=Fh(r))!==p;);r=!Qi(a,0,s,2),Xh(o,i,r)}3===o.c&&(n=e.b.length,e.b[n++]=Nh(o).Z.qb,e.b[n++]=kh(o).Z.qb,e.b[n++]=Rh(o).Z.qb)}(t,r,n)}function Hh(t,e,o,i,r,n){var s,a=t.a.length/2,p=[],h=[];if(n===Qi(e,0,e.length,o)){var l=n=Qh(t,e[0],e[1],a++),c=o;for(s=e.length;c<s;c+=o){var u=Qh(t,e[c],e[c+1],a++);h.push($h(l,u,i)),p.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)]),l=u}}else for(c=e.length-o,l=n=Qh(t,e[c],e[c+1],a++),c-=o,s=0;s<=c;c-=o)u=Qh(t,e[c],e[c+1],a++),h.push($h(l,u,i)),p.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)]),l=u;h.push($h(u,n,i)),p.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)]),r.load(p,h)}function Wh(t){for(var e=jh(t),o=e,i=[o.Z.x,o.Z.y];(o=Fh(t)).Z.x>i[0]&&(i=[o.Z.x,o.Z.y]),o!==e;);return i}function Xh(t,e,o){var i=jh(t),r=i,n=Fh(t),s=!1;do{var a=o?zp(n.X.x,n.X.y,r.X.x,r.X.y,r.Z.x,r.Z.y):zp(r.Z.x,r.Z.y,r.X.x,r.X.y,n.X.x,n.X.y);void 0===a?(tl(r,n,t,e),s=!0,n===i&&(i=Rh(t)),n=r,Oh(t)):r.X.Kb!==a&&(r.X.Kb=a,s=!0),r=n,n=Fh(t)}while(r!==i);return s}function Yh(t,e,o,i,r){for(var n=jh(t);n.X.x!==e;)n=Fh(t);e=n.X,i={x:i,y:e.y,qb:-1};var s,a=1/0,p=ol({Z:e,X:i},r,!0),h=0;for(s=p.length;h<s;++h){var l=p[h],c=il(e,i,l.Z,l.X,!0),u=Math.abs(e.x-c[0]);if(u<a&&void 0!==zp(e.x,e.y,l.Z.x,l.Z.y,l.X.x,l.X.y)){a=u;var g={x:c[0],y:c[1],qb:-1};n=l}}if(1/0===a)return!1;if(p=n.X,0<a&&(n=el(e,g,n.X,r)).length)for(g=1/0,h=0,s=n.length;h<s;++h)a=n[h],((l=Math.atan2(e.y-a.y,i.x-a.x))<g||l===g&&a.x<p.x)&&(g=l,p=a);for(n=jh(o);n.X.x!==p.x||n.X.y!==p.y;)n=Fh(o);return i={x:e.x,y:e.y,qb:e.qb,Kb:void 0},h={x:n.X.x,y:n.X.y,qb:n.X.qb,Kb:void 0},Rh(t).Z=i,$h(e,n.X,t,r),$h(h,i,t,r),n.X=h,t.b&&(t.g=t.b,t.a=t.b.Eb),o.concat(t),!0}function Kh(t,e,o,i,r){var n=t.b.length,s=jh(e),a=Nh(e),p=s,h=Fh(e),l=Rh(e),c=!1;do{var u=p.Z,g=p.X,y=h.X;if(!1===g.Kb){var f=i?0===el(u,g,y,o,!0).length:r?rl(l.X,y,g,u,a.Z):rl(a.Z,u,g,y,l.X);!i&&0!==ol({Z:u,X:y},o).length||!f||!i&&!1!==u.Kb&&!1!==y.Kb&&Qi([a.Z.x,a.Z.y,u.x,u.y,g.x,g.y,y.x,y.y,l.X.x,l.X.y],0,10,2)!==!r||(t.b[n++]=u.qb,t.b[n++]=g.qb,t.b[n++]=y.qb,tl(p,h,e,o),h===s&&(s=l),c=!0)}a=Nh(e),p=kh(e),h=Fh(e),l=Rh(e)}while(p!==s&&3<e.c);return c}function Jh(t,e,o,i){var r=jh(e);Fh(e);var n=r,s=Fh(e),a=!1;do{var p=il(n.Z,n.X,s.Z,s.X,i);if(p){a=t.b.length;var h=t.a.length/2,l=Oh(e);Th(e),o.remove(l);var c=l===r;if(i?(p[0]===n.Z.x&&p[1]===n.Z.y?(Oh(e),p=n.Z,s.Z=p,o.remove(n),c=c||n===r):(p=s.X,n.X=p,o.remove(s),c=c||s===r),Th(e)):(p=Qh(t,p[0],p[1],h),n.X=p,s.Z=p,_h(o,[Math.min(n.Z.x,n.X.x),Math.min(n.Z.y,n.X.y),Math.max(n.Z.x,n.X.x),Math.max(n.Z.y,n.X.y)],n),_h(o,[Math.min(s.Z.x,s.X.x),Math.min(s.Z.y,s.X.y),Math.max(s.Z.x,s.X.x),Math.max(s.Z.y,s.X.y)],s)),t.b[a++]=l.Z.qb,t.b[a++]=l.X.qb,t.b[a++]=p.qb,a=!0,c)break}n=Nh(e),s=Fh(e)}while(n!==r);return a}function qh(t,e){var o=jh(t),i=o;do{if(ol(i,e).length)return!1;i=Fh(t)}while(i!==o);return!0}function Qh(t,e,o,i){var r=t.a.length;return t.a[r++]=e,t.a[r++]=o,{x:e,y:o,qb:i,Kb:void 0}}function $h(t,e,o,i){var r={Z:t,X:e},n={Eb:void 0,next:void 0,data:r},s=o.b;if(s){var a=s.next;n.Eb=s,n.next=a,s.next=n,a&&(a.Eb=n),s===o.a&&(o.a=n)}else o.g=n,((o.a=n).next=n).Eb=n;return o.b=n,o.c++,i&&i.Ca([Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y)],r),r}function tl(t,e,o,i){kh(o)===e&&(Th(o),t.X=e.X,i.remove(e),_h(i,[Math.min(t.Z.x,t.X.x),Math.min(t.Z.y,t.X.y),Math.max(t.Z.x,t.X.x),Math.max(t.Z.y,t.X.y)],t))}function el(t,e,o,i,r){var n,s,a=[],p=Bh(i,[Math.min(t.x,e.x,o.x),Math.min(t.y,e.y,o.y),Math.max(t.x,e.x,o.x),Math.max(t.y,e.y,o.y)]);for(i=0,n=p.length;i<n;++i)for(s in p[i]){var h=p[i][s];"object"!=typeof h||r&&!h.Kb||h.x===t.x&&h.y===t.y||h.x===e.x&&h.y===e.y||h.x===o.x&&h.y===o.y||-1!==a.indexOf(h)||!Wi([t.x,t.y,e.x,e.y,o.x,o.y],0,6,2,h.x,h.y)||a.push(h)}return a}function ol(t,e,o){var i=t.Z,r=t.X;e=Bh(e,[Math.min(i.x,r.x),Math.min(i.y,r.y),Math.max(i.x,r.x),Math.max(i.y,r.y)]);var n,s=[],a=0;for(n=e.length;a<n;++a){var p=e[a];t!==p&&(o||p.Z!==r||p.X!==i)&&il(i,r,p.Z,p.X,o)&&s.push(p)}return s}function il(t,e,o,i,r){var n=(i.y-o.y)*(e.x-t.x)-(i.x-o.x)*(e.y-t.y);if(0!==n&&(i=((i.x-o.x)*(t.y-o.y)-(i.y-o.y)*(t.x-o.x))/n,o=((e.x-t.x)*(t.y-o.y)-(e.y-t.y)*(t.x-o.x))/n,!r&&Zp<i&&i<1-Zp&&Zp<o&&o<1-Zp||r&&0<=i&&i<=1&&0<=o&&o<=1))return[t.x+i*(e.x-t.x),t.y+i*(e.y-t.y)]}function rl(t,e,o,i,r){if(void 0===e.Kb||void 0===i.Kb)return!1;var n=(o.x-i.x)*(e.y-i.y)>(o.y-i.y)*(e.x-i.x);return r=(r.x-i.x)*(e.y-i.y)<(r.y-i.y)*(e.x-i.x),t=(t.x-e.x)*(i.y-e.y)>(t.y-e.y)*(i.x-e.x),o=(o.x-e.x)*(i.y-e.y)<(o.y-e.y)*(i.x-e.x),e=e.Kb?o||t:o&&t,(i.Kb?r||n:r&&n)&&e}function nl(t,e){this.b=e,this.a=[{x:0,y:0,width:t,height:t}],this.c={},this.g=fr(t,t),this.i=this.g.canvas}function sl(t,e,o,i){e=[e,1],0<o.width&&0<o.height&&e.push(o),0<i.width&&0<i.height&&e.push(i),t.a.splice.apply(t.a,e)}function al(t){t=t||{},this.a=void 0!==t.initialSize?t.initialSize:256,this.g=void 0!==t.maxSize?t.maxSize:void 0!==e?e:2048,this.b=void 0!==t.space?t.space:1,this.f=[new nl(this.a,this.b)],this.c=this.a,this.i=[new nl(this.c,this.b)]}function pl(t,e){var o,i=0;for(o=t.length;i<o;++i){var r=t[i];if(r=r.get(e))return r}return null}function hl(t,e){return{offsetX:t.offsetX,offsetY:t.offsetY,image:t.image,Bm:e.image}}function ll(t,e,o,i,r,n,s){var a,p=e?t.i:t.f,h=0;for(a=p.length;h<a;++h){var l=p[h];if(l=l.add(o,i,r,n,s))return l;l||h!==a-1||(e?(l=Math.min(2*t.c,t.g),t.c=l):(l=Math.min(2*t.a,t.g),t.a=l),l=new nl(l,t.b),p.push(l),++a)}return null}function cl(t,e){nh.call(this,t,e),this.c=[],this.ua=[],this.Ub=fr(0,0).canvas,this.N={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.ta="",this.ca=this.$=this.ra=this.ab=void 0,this.B={},this.l=void 0,this.opacity=this.scale=1}function ul(t,i){if(1===i.length){var e=t.l,r=t.N;(t=t.Ub.getContext("2d")).font=r.font,t=Math.ceil(t.measureText(i).width*r.scale),e.Bh.add(i,t,e.height,function(t,e,o){t.font=r.font,t.fillStyle=r.fillColor,t.strokeStyle=r.strokeColor,t.lineWidth=r.lineWidth,t.lineCap=r.lineCap,t.lineJoin=r.lineJoin,t.miterLimit=r.miterLimit,t.textAlign="left",t.textBaseline="top",qe&&r.lineDash&&(t.setLineDash(r.lineDash),t.lineDashOffset=r.lineDashOffset),1!==r.scale&&t.setTransform(r.scale,0,0,r.scale,0,0),r.strokeColor&&t.strokeText(i,e,o),r.fillColor&&t.fillText(i,e,o)})&&(e.width[i]=t)}}function gl(t,e,o){this.c=e,this.i=t,this.g=o,this.a={}}function yl(t,e){var o,i=[];for(o in t.a){var r,n=t.a[o];for(r in n)i.push(n[r].Db(e))}return function(){for(var t,e=i.length,o=0;o<e;o++)t=i[o].apply(this,arguments);return t}}function fl(t,e,o,i,r,n,s,a,p,h,l){var c,u,g=dl,y=Object.keys(t.a).map(Number);y.sort(function(t,e){return e-t});var f=0;for(c=y.length;f<c;++f){var d=t.a[y[f].toString()];for(u=aa.length-1;0<=u;--u){var v=d[aa[u]];if(void 0!==v&&(v=v.Na(e,o,i,r,g,n,s,a,p,h,l)))return v}}}Lh.prototype.concat=function(t){if(t.b){if(this.b){var e=this.b.next;this.b.next=t.g,t.g.Eb=this.b,e.Eb=t.a,t.a.next=e,this.c+=t.c}else this.b=t.b,this.g=t.g,this.a=t.a,this.c=t.c;t.b=void 0,t.g=void 0,t.a=void 0,t.c=0}},(t=Dh.prototype).Ca=function(t,e){t={fa:t[0],ea:t[1],la:t[2],ka:t[3],value:e},this.a.Ca(t),this.b[Qt(e)]=t},t.load=function(t,e){for(var o=Array(e.length),i=0,r=e.length;i<r;i++){var n=t[i],s=e[i];n={fa:n[0],ea:n[1],la:n[2],ka:n[3],value:s},o[i]=n,this.b[Qt(s)]=n}this.a.load(o)},t.remove=function(t){t=Qt(t);var e=this.b[t];return delete this.b[t],null!==this.a.remove(e)},t.forEach=function(t,e){return zh(Gh(this),t,e)},t.clear=function(){this.a.clear(),this.b={}},t.G=function(t){var e=this.a.data;return z(e.fa,e.ea,e.la,e.ka,t)},t.concat=function(t){for(var e in this.a.load(t.a.all()),t.b)this.b[0|e]=t.b[0|e]},s(Zh,Dp),(t=Zh.prototype).xc=function(t,e){var o,i,r,n=t.td(),s=t.pa(),a=this.b.length,p=this.f.b.length;t=t.da();var h=i=0;for(o=n.length;h<o;++h){var l=n[h];if(0<l.length){var c=li(t,i,l[0],s,-this.origin[0],-this.origin[1]);if(c.length){var u=[];for(i=1,r=l.length;i<r;++i)if(l[i]!==l[i-1]){var g=li(t,l[i-1],l[i],s,-this.origin[0],-this.origin[1]);u.push(g)}dh(this.f,c,u,s),Vh(this,c,u,s)}}i=l[l.length-1]}this.b.length>a&&(this.g.push(a),this.i.push(e),this.l.u&&(this.c.push(a),this.l.u=!1)),this.f.b.length>p&&vh(this.f,e,p)},t.zc=function(t,e){var o=t.pb(),i=t.pa();if(0<o.length){var r=li(t=t.da().map(Number),0,o[0],i,-this.origin[0],-this.origin[1]);if(r.length){var n,s=[],a=1;for(n=o.length;a<n;++a)if(o[a]!==o[a-1]){var p=li(t,o[a-1],o[a],i,-this.origin[0],-this.origin[1]);s.push(p)}this.g.push(this.b.length),this.i.push(e),this.l.u&&(this.c.push(this.b.length),this.l.u=!1),vh(this.f,e),dh(this.f,r,s,i),Vh(this,r,s,i)}}},t.gb=function(t){this.s=new Vp(this.a),this.j=new Vp(this.b),this.g.push(this.b.length),this.f.gb(t),0===this.c.length&&0<this.o.length&&(this.o=[]),this.b=this.a=null},t.Db=function(t){var e=this.s,o=this.j,i=this.f.Db(t);return function(){Qp(t,e),Qp(t,o),i()}},t.Bf=function(t,e){var o=eh(e,Ph,Eh);if(this.v)var i=this.v;else this.v=i=new function(t,e){this.g=t.getUniformLocation(e,"b"),this.i=t.getUniformLocation(e,"c"),this.c=t.getUniformLocation(e,"d"),this.C=t.getUniformLocation(e,"e"),this.a=t.getUniformLocation(e,"f"),this.b=t.getAttribLocation(e,"a")}(t,o);return e.cd(o),t.enableVertexAttribArray(i.b),t.vertexAttribPointer(i.b,2,5126,!1,8,0),i},t.Cf=function(t,e){t.disableVertexAttribArray(e.b)},t.Od=function(t,e,o,i){var r=t.getParameter(t.DEPTH_FUNC),n=t.getParameter(t.DEPTH_WRITEMASK);if(i||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),ee(o)){var s=this.g[this.g.length-1];for(o=this.c.length-1;0<=o;--o){var a=this.c[o],p=this.o[o];t.uniform4fv(this.v.C,p),_p(t,e,a,s),s=a}}else{var h=this.g.length-2;for(p=s=this.g[h+1],a=this.c.length-1;0<=a;--a){var l=this.o[a];for(t.uniform4fv(this.v.C,l),l=this.c[a];0<=h&&this.g[h]>=l;){var c=this.g[h],u=this.i[h];u=Qt(u).toString(),o[u]&&(s!==p&&(_p(t,e,s,p),t.clear(t.DEPTH_BUFFER_BIT)),p=c),h--,s=c}s!==p&&(_p(t,e,s,p),t.clear(t.DEPTH_BUFFER_BIT)),s=p=l}}i||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(n),t.depthFunc(r))},t.Ee=function(t,e,o,i,r){var n,s,a=this.g.length-2,p=this.g[a+1];for(n=this.c.length-1;0<=n;--n){var h=this.o[n];for(t.uniform4fv(this.v.C,h),s=this.c[n];0<=a&&this.g[a]>=s;){h=this.g[a];var l=this.i[a],c=Qt(l).toString();if(void 0===o[c]&&l.U()&&(void 0===r||te(r,l.U().G()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),_p(t,e,h,p),p=i(l)))return p;a--,p=h}}},t.Oa=function(t,e){t=(t=t?t.b:[0,0,0,0])instanceof CanvasGradient||t instanceof CanvasPattern?Gp:ds(t).map(function(t,e){return 3!=e?t/255:t})||Gp,this.l.fillColor&&oe(t,this.l.fillColor)||(this.l.fillColor=t,this.l.u=!0,this.o.push(t)),e?this.f.Oa(null,e):this.f.Oa(null,new ip({color:[0,0,0,0],lineWidth:0}))},nl.prototype.get=function(t){return this.c[t]||null},nl.prototype.add=function(t,e,o,i,r){var n,s=0;for(n=this.a.length;s<n;++s){var a=this.a[s];if(a.width>=e+this.b&&a.height>=o+this.b)return n={offsetX:a.x+this.b,offsetY:a.y+this.b,image:this.i},this.c[t]=n,i.call(r,this.g,a.x+this.b,a.y+this.b),t=s,e+=this.b,i=o+this.b,a.width-e>a.height-i?(o={x:a.x+e,y:a.y,width:a.width-e,height:a.height},e={x:a.x,y:a.y+i,width:e,height:a.height-i}):(o={x:a.x+e,y:a.y,width:a.width-e,height:i},e={x:a.x,y:a.y+i,width:a.width,height:a.height-i}),sl(this,t,o,e),n}return null},al.prototype.add=function(t,e,o,i,r,n){return e+this.b>this.g||o+this.b>this.g?null:(i=ll(this,!1,t,e,o,i,n))?(t=ll(this,!0,t,e,o,void 0!==r?r:A,n),hl(i,t)):null},s(cl,nh),(t=cl.prototype).Wb=function(t,e){if(this.ta){var o=null,i=2,r=2;switch(t.S()){case"Point":case"MultiPoint":o=t.da(),i=o.length,r=t.pa();break;case"Circle":o=t.xa();break;case"LineString":o=t.Fe();break;case"MultiLineString":o=t.Ge(),i=o.length;break;case"Polygon":o=t.Td();break;case"MultiPolygon":o=Qc(t),i=o.length}this.g.push(this.b.length),this.i.push(e),t=this.l,e=this.ta.split("\n");var n,s,a=(m=e,I=(C=this).l,b=m.length*I.height,[m.map(function(t){var e,o=0,i=0;for(e=t.length;i<e;++i){var r=t[i];I.width[r]||ul(C,r),o+=I.width[r]?I.width[r]:0}return o}).reduce(function(t,e){return Math.max(t,e)}),b]),p=Math.round(a[0]*this.ab-this.$),h=Math.round(a[1]*this.ra-this.ca),l=this.N.lineWidth/2*this.N.scale;for(a=0,n=e.length;a<n;++a){var c=0,u=t.height*a,g=e[a].split(""),y=0;for(s=g.length;y<s;++y){var f=t.Bh,d=g[y],v=pl(f.f,d);if(v?(f=pl(f.i,d),f=hl(v,f)):f=null,f){v=f.image,this.D=p-c,this.C=h-u,this.T=0===y?f.offsetX-l:f.offsetX,this.O=f.offsetY,this.height=t.height,this.width=0===y||y===g.length-1?t.width[g[y]]+l:t.width[g[y]],this.oa=v.height,this.qa=v.width,0===this.c.length?this.c.push(v):Qt(f=this.c[this.c.length-1])!=Qt(v)&&(this.v.push(this.b.length),this.c.push(v)),f=o,d=i;var A=r;for(v=0;v<d;v+=A)sh(this,f,d,A)}c+=this.width}}}var C,m,I,b},t.gb=function(t){var e=t.b;this.v.push(this.b.length),this.o=this.v,this.s=new Vp(this.a),this.j=new Vp(this.b),ah(this.ua,this.c,{},e),this.N={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.ta="",this.ca=this.$=this.ra=this.ab=void 0,this.c=null,this.B={},this.l=void 0,nh.prototype.gb.call(this,t)},t.nb=function(t){var e=this.N,o=t.Fa(),i=t.Ga();if(t&&t.Ka()&&(o||i)){for(var r in o?(o=o.b,e.fillColor=bs(o||Gp)):e.fillColor=null,i?(o=i.a,e.strokeColor=bs(o||Up),e.lineWidth=i.c||1,e.lineCap=i.f||"round",e.lineDashOffset=i.i||0,e.lineJoin=i.j||"round",e.miterLimit=i.l||10,i=i.g,e.lineDash=i?i.slice():Bp):(e.strokeColor=null,e.lineWidth=0),e.font=t.a||"10px sans-serif",e.scale=t.b||1,this.ta=t.Ka(),i=pa[t.f],o=pa[t.j],this.ab=void 0===i?.5:i,this.ra=void 0===o?.5:o,this.$=t.g||0,this.ca=t.c||0,this.rotateWithView=!!t.l,this.rotation=t.i||0,t=[],e)(e[r]||0===e[r])&&(Array.isArray(e[r])?t=t.concat(e[r]):t.push(e[r]));for(o="",r=0,i=t.length;r<i;++r)o+=t[r];r=o,this.B[r]||((t=this.Ub.getContext("2d")).font=e.font,t=Math.ceil((1.5*t.measureText("M").width+e.lineWidth/2)*e.scale),this.B[r]={Bh:new al({space:e.lineWidth+1}),width:{},height:t}),this.l=this.B[r]}else this.ta=""},t.ig=function(){return this.ua},t.ag=function(){return this.ua},s(gl,na),(t=gl.prototype).Vb=function(){},t.Ja=function(t,e){var o=void 0!==t?t.toString():"0";return void 0===(t=this.a[o])&&(t={},this.a[o]=t),void 0===(o=t[e])&&(o=new vl[e](this.i,this.c),t[e]=o),o},t.yg=function(){return ee(this.a)},t.Na=function(t,e,o,i,r,n,s,a){var p,h,l=Object.keys(this.a).map(Number);l.sort(Ut);var c=0;for(p=l.length;c<p;++c){var u=this.a[l[c].toString()],g=0;for(h=aa.length;g<h;++g){var y=u[aa[g]];void 0!==y&&y.Na(t,e,o,i,r,n,s,a,void 0,!1)}}},t.wa=function(t,e,o,i,r,n,s,a,p,h){var l,c=e.b;return c.bindFramebuffer(c.FRAMEBUFFER,$p(e)),void 0!==this.g&&(l=B(x(t),i*this.g)),fl(this,e,t,i,r,s,a,p,function(t){var e=new Uint8Array(4);if(c.readPixels(0,0,1,1,c.RGBA,c.UNSIGNED_BYTE,e),0<e[3]&&(t=h(t)))return t},!0,l)};var dl=[1,1],vl={Circle:Wp,Image:ph,LineString:uh,Polygon:Zh,Text:cl};function Al(t,e,o,i,r,n,s){this.b=t,this.g=e,this.c=n,this.i=s,this.l=r,this.j=i,this.f=o,this.a=this.s=this.v=this.o=null}function Cl(t,e,o){var i=t.b;(e=e.Ja(0,"Text")).nb(t.a),e.Wb(o,null),e.gb(i),e.Na(t.b,t.g,t.f,t.j,t.l,t.i,1,{},void 0,!1),e.Db(i)()}s(Al,ws),(t=Al.prototype).Dd=function(t){this.Oa(t.Fa(),t.Ga()),this.Zb(t.Y()),this.nb(t.Ka())},t.Hb=function(t){switch(t.S()){case"Point":this.yc(t,null);break;case"LineString":this.uc(t,null);break;case"Polygon":this.zc(t,null);break;case"MultiPoint":this.wc(t,null);break;case"MultiLineString":this.vc(t,null);break;case"MultiPolygon":this.xc(t,null);break;case"GeometryCollection":this.De(t);break;case"Circle":this.cc(t,null)}},t.Ce=function(t,e){(t=(0,e.cb)(t))&&te(this.c,t.G())&&(this.Dd(e),this.Hb(t))},t.De=function(t){var e;t=t.a;var o=0;for(e=t.length;o<e;++o)this.Hb(t[o])},t.yc=function(t,e){var o=this.b,i=new gl(1,this.c),r=i.Ja(0,"Image");r.Zb(this.o),r.yc(t,e),r.gb(o),r.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1),r.Db(o)(),this.a&&Cl(this,i,t)},t.wc=function(t,e){var o=this.b,i=new gl(1,this.c),r=i.Ja(0,"Image");r.Zb(this.o),r.wc(t,e),r.gb(o),r.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1),r.Db(o)(),this.a&&Cl(this,i,t)},t.uc=function(t,e){var o=this.b,i=new gl(1,this.c),r=i.Ja(0,"LineString");r.Oa(null,this.s),r.uc(t,e),r.gb(o),r.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1),r.Db(o)(),this.a&&Cl(this,i,t)},t.vc=function(t,e){var o=this.b,i=new gl(1,this.c),r=i.Ja(0,"LineString");r.Oa(null,this.s),r.vc(t,e),r.gb(o),r.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1),r.Db(o)(),this.a&&Cl(this,i,t)},t.zc=function(t,e){var o=this.b,i=new gl(1,this.c),r=i.Ja(0,"Polygon");r.Oa(this.v,this.s),r.zc(t,e),r.gb(o),r.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1),r.Db(o)(),this.a&&Cl(this,i,t)},t.xc=function(t,e){var o=this.b,i=new gl(1,this.c),r=i.Ja(0,"Polygon");r.Oa(this.v,this.s),r.xc(t,e),r.gb(o),r.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1),r.Db(o)(),this.a&&Cl(this,i,t)},t.cc=function(t,e){var o=this.b,i=new gl(1,this.c),r=i.Ja(0,"Circle");r.Oa(this.v,this.s),r.cc(t,e),r.gb(o),r.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1),r.Db(o)(),this.a&&Cl(this,i,t)},t.Zb=function(t){this.o=t},t.Oa=function(t,e){this.v=t,this.s=e},t.nb=function(t){this.a=t};var ml=new Fp("precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}"),Il=new Rp("varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}");function bl(t,e){js.call(this,e),this.c=t,this.V=new Vp([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.f=this.Mb=null,this.j=void 0,this.v=[1,0,0,1,0,0],this.N=[1,0,0,1,0,0],this.C=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.o=null}function wl(t,e,o,i){if(Pe(t=t.a,e)){var r=i.viewState;t.b(new Kn(e,new Al(o,r.center,r.resolution,r.rotation,i.size,i.extent,i.pixelRatio),i,null,o))}}function Ml(t,e){bl.call(this,t,e),this.l=this.i=this.M=null}function Sl(t,e){Xs.call(this,t,e),this.b=document.createElement("CANVAS"),this.b.style.width="100%",this.b.style.height="100%",this.b.style.display="block",this.b.className="ol-unselectable",t.insertBefore(this.b,t.childNodes[0]||null),this.N=this.D=0,this.C=fr(),this.s=!0,this.g=ze(this.b,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.i=new Jp(this.b,this.g),ve(this.b,"webglcontextlost",this.Co,this),ve(this.b,"webglcontextrestored",this.Do,this),this.a=new Jn,this.o=null,this.j=new Oo(function(t){var e=t[1];t=t[2];var o=e[0]-this.o[0];return e=e[1]-this.o[1],65536*Math.log(t)+Math.sqrt(o*o+e*e)/t}.bind(this),function(t){return t[0].lb()}),this.B=function(){if(0!==this.j.b.length){_o(this.j);var t=No(this.j);xl(this,t[0],t[3],t[4])}return!1}.bind(this),this.f=0,El(this)}function xl(t,e,o,i){var r=t.g,n=e.lb();if(t.a.a.hasOwnProperty(n))t=t.a.get(n),r.bindTexture(3553,t.Mb),9729!=t.hi&&(r.texParameteri(3553,10240,9729),t.hi=9729),9729!=t.ji&&(r.texParameteri(3553,10241,9729),t.ji=9729);else{var s=r.createTexture();if(r.bindTexture(3553,s),0<i){var a=t.C.canvas,p=t.C;t.D!==o[0]||t.N!==o[1]?(a.width=o[0],a.height=o[1],t.D=o[0],t.N=o[1]):p.clearRect(0,0,o[0],o[1]),p.drawImage(e.Y(),i,i,o[0],o[1],0,0,o[0],o[1]),r.texImage2D(3553,0,6408,6408,5121,a)}else r.texImage2D(3553,0,6408,6408,5121,e.Y());r.texParameteri(3553,10240,9729),r.texParameteri(3553,10241,9729),r.texParameteri(3553,10242,33071),r.texParameteri(3553,10243,33071),t.a.set(n,{Mb:s,hi:9729,ji:9729})}}function Pl(t,e,o){var i=t.l;if(Pe(i,e)){t=t.i;var r=o.viewState;i.b(new Kn(e,new Al(t,r.center,r.resolution,r.rotation,o.size,o.extent,o.pixelRatio),o,null,t))}}function El(t){(t=t.g).activeTexture(33984),t.blendFuncSeparate(770,771,1,771),t.disable(2884),t.disable(2929),t.disable(3089),t.disable(2960)}s(bl,js),bl.prototype.Zi=function(t,e,o){wl(this,"precompose",o,t),qp(o,34962,this.V);var i=o.b,r=eh(o,ml,Il);if(this.o)var n=this.o;else this.o=n=new function(t,e){this.f=t.getUniformLocation(e,"d"),this.c=t.getUniformLocation(e,"e"),this.g=t.getUniformLocation(e,"f"),this.i=t.getUniformLocation(e,"g"),this.b=t.getAttribLocation(e,"b"),this.a=t.getAttribLocation(e,"c")}(i,r);o.cd(r)&&(i.enableVertexAttribArray(n.b),i.vertexAttribPointer(n.b,2,5126,!1,16,0),i.enableVertexAttribArray(n.a),i.vertexAttribPointer(n.a,2,5126,!1,16,8),i.uniform1i(n.i,0)),i.uniformMatrix4fv(n.f,!1,kp(this.C,this.v)),i.uniformMatrix4fv(n.c,!1,kp(this.C,this.N)),i.uniform1f(n.g,e.opacity),i.bindTexture(3553,this.Mb),i.drawArrays(5,0,4),wl(this,"postcompose",o,t)},bl.prototype.Ag=function(){this.f=this.Mb=null,this.j=void 0},s(Ml,bl),Ml.handles=function(t,e){return"webgl"===t&&"IMAGE"===e.S()},Ml.create=function(t,e){return new Ml(t,e)},Ml.prototype.wa=function(t,e,o,i,r){var n=this.a;return n.ha().wa(t,e.viewState.resolution,e.viewState.rotation,o,e.skippedFeatureUids,function(t){return i.call(r,t,n)})},Ml.prototype.Bg=function(t,e){var o,i,r,n,s,a,p,h,l,c,u=this.c.g,g=t.pixelRatio,y=t.viewState,f=y.center,d=y.resolution,v=y.rotation,A=this.M,C=this.Mb,m=this.a.ha(),I=t.viewHints,b=t.extent;return void 0!==e.extent&&(b=X(b,e.extent)),I[0]||I[1]||q(b)||(e=m.Y(b,d,g,y.projection))&&Fs(this,e)&&(o=this,i=(i=A=e).Y(),C=rh(o.c.g,i),this.Mb&&t.postRenderFunctions.push(function(t,e){t.isContextLost()||t.deleteTexture(e)}.bind(null,u,this.Mb))),A&&(u=this.c.i.j,r=this,n=u.width,s=u.height,a=g,p=f,h=d,l=v,c=A.G(),n*=h,s*=h,ui(r=r.N),Ai(r,2*a/n,2*a/s),vi(r,-l),Ci(r,c[0]-p[0],c[1]-p[1]),Ai(r,(c[2]-c[0])/2,(c[3]-c[1])/2),Ci(r,1,1),this.l=null,ui(g=this.v),Ai(g,1,-1),Ci(g,0,-1),this.M=A,this.Mb=C,Ns(t,m)),!!A},Ml.prototype.cf=function(t,e){return void 0!==this.wa(t,e,0,ai,this)},Ml.prototype.zg=function(t,e,o,i){if(this.M&&this.M.Y())if(this.a.ha().wa!==A){var r=di(e.pixelToCoordinateTransform,t.slice());if(this.wa(r,e,0,ai,this))return o.call(i,this.a,null)}else{if(r=[this.M.Y().width,this.M.Y().height],!this.l){var n=e.size;Ci(e=[1,0,0,1,0,0],-1,-1),Ai(e,2/n[0],2/n[1]),Ci(e,0,n[1]),Ai(e,1,-1),n=Ii(this.N.slice());var s=[1,0,0,1,0,0];Ci(s,0,r[1]),Ai(s,1,-1),Ai(s,r[0]/2,r[1]/2),Ci(s,1,1),gi(s,n),gi(s,e),this.l=s}if(!((t=di(this.l,t.slice()))[0]<0||t[0]>r[0]||t[1]<0||t[1]>r[1])&&(this.i||(this.i=fr(1,1)),this.i.clearRect(0,0,1,1),this.i.drawImage(this.M.Y(),t[0],t[1],1,1,0,0,1,1),0<(r=this.i.getImageData(0,0,1,1).data)[3]))return o.call(i,this.a,r)}},s(Sl,Xs),Sl.handles=function(t){return Ze&&"webgl"===t},Sl.create=function(t,e){return new Sl(t,e)},(t=Sl.prototype).ia=function(){var e=this.g;e.isContextLost()||this.a.forEach(function(t){t&&e.deleteTexture(t.Mb)}),we(this.i),Xs.prototype.ia.call(this)},t.Yk=function(t,e){t=this.g;for(var o;1024<this.a.i-this.f;){if(o=this.a.g.Pc)t.deleteTexture(o.Mb);else{if(+this.a.g.jc==e.index)break;--this.f}this.a.pop()}},t.S=function(){return"webgl"},t.Co=function(t){for(var e in t.preventDefault(),this.a.clear(),this.f=0,t=this.c)t[e].Ag()},t.Do=function(){El(this),this.l.render()},t.bh=function(t){var e=this.i,o=this.g;if(o.isContextLost())return!1;if(!t)return this.s&&(this.b.style.display="none",this.s=!1),!1;this.o=t.focus,this.a.set((-t.index).toString(),null),++this.f,Pl(this,"precompose",t);var i=[],r=t.layerStatesArray;Wt(r);var n,s=t.viewState.resolution,a=0;for(n=r.length;a<n;++a){var p=r[a];if(Rr(p,s)&&"ready"==p.Vj){var h=Js(this,p.layer);h.Bg(t,p,e)&&i.push(p)}}for(r=t.size[0]*t.pixelRatio,s=t.size[1]*t.pixelRatio,this.b.width==r&&this.b.height==s||(this.b.width=r,this.b.height=s),o.bindFramebuffer(36160,null),o.clearColor(0,0,0,0),o.clear(16384),o.enable(3042),o.viewport(0,0,this.b.width,this.b.height),a=0,n=i.length;a<n;++a)p=i[a],(h=Js(this,p.layer)).Zi(t,p,e);this.s||(this.b.style.display="",this.s=!0),Ys(t),1024<this.a.i-this.f&&t.postRenderFunctions.push(this.Yk.bind(this)),0!==this.j.b.length&&(t.postRenderFunctions.push(this.B),t.animate=!0),Pl(this,"postcompose",t),Qs(this,t),t.postRenderFunctions.push(Ks)},t.wa=function(t,e,o,i,r,n,s){if(this.g.isContextLost())return!1;var a,p=e.viewState,h=e.layerStatesArray;for(a=h.length-1;0<=a;--a){var l=h[a],c=l.layer;if(Rr(l,p.resolution)&&n.call(s,c)&&(l=Js(this,c).wa(t,e,o,i,r)))return l}},t.Ui=function(t,e,o,i,r){if(o=!1,this.g.isContextLost())return!1;var n,s=e.viewState,a=e.layerStatesArray;for(n=a.length-1;0<=n;--n){var p=a[n],h=p.layer;if(Rr(p,s.resolution)&&i.call(r,h)&&(o=Js(this,h).cf(t,e)))return!0}return o},t.Ti=function(t,e,o,i,r){if(this.g.isContextLost())return!1;var n,s=e.viewState,a=e.layerStatesArray;for(n=a.length-1;0<=n;--n){var p=a[n],h=p.layer;if(Rr(p,s.resolution)&&r.call(i,h)&&(p=Js(this,h).zg(t,e,o,i)))return p}};var Ll=new Fp("precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}"),Tl=new Rp("varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}");function jl(t,e){bl.call(this,t,e),this.T=Ll,this.ca=Tl,this.i=null,this.B=new Vp([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.D=this.l=null,this.s=-1,this.O=[0,0]}function Fl(t,e){bl.call(this,t,e),this.s=!1,this.O=-1,this.T=NaN,this.D=k(),this.l=this.i=this.B=null}function Rl(t){(t=tt({},t)).controls||(t.controls=Br()),t.interactions||(t.interactions=Wn()),xr.call(this,t)}function Ol(t){Le.call(this),this.id=t.id,this.insertFirst=void 0===t.insertFirst||t.insertFirst,this.stopEvent=void 0===t.stopEvent||t.stopEvent,this.element=document.createElement("DIV"),this.element.className=void 0!==t.className?t.className:"ol-overlay-container ol-selectable",this.element.style.position="absolute",this.autoPan=void 0!==t.autoPan&&t.autoPan,this.autoPanAnimation=t.autoPanAnimation||{},this.autoPanMargin=void 0!==t.autoPanMargin?t.autoPanMargin:20,this.a={ze:"",Se:"",xf:"",Ef:"",visible:!0},this.c=null,ve(this,je(_l),this.am,this),ve(this,je(Gl),this.km,this),ve(this,je(Bl),this.om,this),ve(this,je(Ul),this.qm,this),ve(this,je(zl),this.rm,this),void 0!==t.element&&this.Hj(t.element),this.Mj(void 0!==t.offset?t.offset:[0,0]),this.Pj(void 0!==t.positioning?t.positioning:"top-left"),void 0!==t.position&&this.We(t.position)}function Nl(t,e){var o=t.getBoundingClientRect();return t=o.left+window.pageXOffset,o=o.top+window.pageYOffset,[t,o,t+e[0],o+e[1]]}function kl(t,e){t.a.visible!==e&&(t.element.style.display=e?"":"none",t.a.visible=e)}function Dl(t){var e=t.Ve(),o=t.pi();if(e&&e.c&&o){o=e.Ia(o);var i=e.Cb();e=t.element.style;var r=t.Xh(),n=t.Yh();kl(t,!0);var s=r[0];r=r[1],"bottom-right"==n||"center-right"==n||"top-right"==n?(""!==t.a.Se&&(t.a.Se=e.left=""),s=Math.round(i[0]-o[0]-s)+"px",t.a.xf!=s&&(t.a.xf=e.right=s)):(""!==t.a.xf&&(t.a.xf=e.right=""),"bottom-center"!=n&&"center-center"!=n&&"top-center"!=n||(s-=t.element.offsetWidth/2),s=Math.round(o[0]+s)+"px",t.a.Se!=s&&(t.a.Se=e.left=s)),"bottom-left"==n||"bottom-center"==n||"bottom-right"==n?(""!==t.a.Ef&&(t.a.Ef=e.top=""),o=Math.round(i[1]-o[1]-r)+"px",t.a.ze!=o&&(t.a.ze=e.bottom=o)):(""!==t.a.ze&&(t.a.ze=e.bottom=""),"center-left"!=n&&"center-center"!=n&&"center-right"!=n||(r-=t.element.offsetHeight/2),o=Math.round(o[1]+r)+"px",t.a.Ef!=o&&(t.a.Ef=e.top=o))}else kl(t,!1)}s(jl,bl),jl.handles=function(t,e){return"webgl"===t&&"TILE"===e.S()},jl.create=function(t,e){return new jl(t,e)},(t=jl.prototype).ia=function(){Qp(this.c.i,this.B),bl.prototype.ia.call(this)},t.Rf=function(e,i,r){var n=this.c;return function(o,t){return Im(e,i,o,t,function(t){var e=n.a.a.hasOwnProperty(t.lb());return e&&(r[o]||(r[o]={}),r[o][t.ya.toString()]=t),e})}},t.Ag=function(){bl.prototype.Ag.call(this),this.i=null},t.Bg=function(t,e,o){var i,r,n,s=this.c,a=o.b,p=t.viewState,h=p.projection,l=this.a,c=l.ha(),u=c.eb(h),g=u.Dc(p.resolution),y=u.Ta(g),f=c.Zd(g,t.pixelRatio,h),d=f[0]/G(u.Za(g),this.O)[0],v=y/d,A=c.Xc(d)*c.Zf(h),C=p.center,m=t.extent,I=re(u,m,g);if(this.l&&(r=this.l,n=I,r.fa==n.fa&&r.ea==n.ea&&r.la==n.la&&r.ka==n.ka)&&this.s==c.g)v=this.D;else{var b=[I.la-I.fa+1,I.ka-I.ea+1],w=(N(0<(i=Math.max(b[0]*f[0],b[1]*f[1])),29),Math.pow(2,Math.ceil(Math.log(i)/Math.LN2)));b=v*w;var M=u.Ic(g),S=M[0]+I.fa*f[0]*v;v=M[1]+I.ea*f[1]*v,v=[S,v,S+b,v+b],function(t,e,o){var i=t.c.g;if(void 0===t.j||t.j!=o){e.postRenderFunctions.push(function(t,e,o){t.isContextLost()||(t.deleteFramebuffer(e),t.deleteTexture(o))}.bind(null,i,t.f,t.Mb)),e=ih(i,o,o);var r=i.createFramebuffer();i.bindFramebuffer(36160,r),i.framebufferTexture2D(36160,36064,3553,e,0),t.Mb=e,t.f=r,t.j=o}else i.bindFramebuffer(36160,t.f)}(this,t,w),a.viewport(0,0,w,w),a.clearColor(0,0,0,0),a.clear(16384),a.disable(3042),w=eh(o,this.T,this.ca),o.cd(w),this.i||(this.i=new function(t,e){this.c=t.getUniformLocation(e,"d"),this.g=t.getUniformLocation(e,"e"),this.b=t.getAttribLocation(e,"b"),this.a=t.getAttribLocation(e,"c")}(a,w)),qp(o,34962,this.B),a.enableVertexAttribArray(this.i.b),a.vertexAttribPointer(this.i.b,2,5126,!1,16,0),a.enableVertexAttribArray(this.i.a),a.vertexAttribPointer(this.i.a,2,5126,!1,16,8),a.uniform1i(this.i.g,0),(o={})[g]={};var x=this.Rf(c,h,o),P=l.i();w=!0,S=k();var E,L,T,j=new O(0,0,0,0);for(E=I.fa;E<=I.la;++E)for(L=I.ea;L<=I.ka;++L){if(M=c.ad(g,E,L,d,h),void 0!==e.extent){var F=u.Ma(M.ya,S);if(!te(F,e.extent))continue}if((F=2==(F=M.getState())||4==F||3==F&&!P)||(M=Mp(M)),2==(F=M.getState())){if(s.a.a.hasOwnProperty(M.lb())){o[g][M.ya.toString()]=M;continue}}else if(4==F||3==F&&!P)continue;w=!1,(F=qt(u,M.ya,x,j,S))||(M=ie(u,M.ya,j,S))&&x(g+1,M)}for((e=Object.keys(o).map(Number)).sort(Ut),x=new Float32Array(4),P=0,j=e.length;P<j;++P)for(T in E=o[e[P]])M=E[T],F=u.Ma(M.ya,S),x[0]=2*(F[2]-F[0])/b,x[1]=2*(F[3]-F[1])/b,x[2]=2*(F[0]-v[0])/b-1,x[3]=2*(F[1]-v[1])/b-1,a.uniform4fv(this.i.c,x),xl(s,M,f,A*d),a.drawArrays(5,0,4);w?(this.l=I,this.D=v,this.s=c.g):(this.D=this.l=null,this.s=-1,t.animate=!0)}ks(t.usedTiles,c,g,I);var R=s.j;return Ds(t,c,u,d,h,m,g,l.c(),function(t){2!=t.getState()||s.a.a.hasOwnProperty(t.lb())||t.lb()in R.a||R.i([t,ne(u,t.ya),u.Ta(t.ya[0]),f,A*d])},this),Os(t,c),Ns(t,c),ui(a=this.v),Ci(a,(Math.round(C[0]/y)*y-v[0])/(v[2]-v[0]),(Math.round(C[1]/y)*y-v[1])/(v[3]-v[1])),0!==p.rotation&&vi(a,p.rotation),Ai(a,t.size[0]*p.resolution/(v[2]-v[0]),t.size[1]*p.resolution/(v[3]-v[1])),Ci(a,-.5,-.5),!0},t.zg=function(t,e,o,i){if(this.f){t=[(t=di(this.v,[t[0]/e.size[0],(e.size[1]-t[1])/e.size[1]].slice()))[0]*this.j,t[1]*this.j],(e=this.c.i.b).bindFramebuffer(e.FRAMEBUFFER,this.f);var r=new Uint8Array(4);if(e.readPixels(t[0],t[1],1,1,e.RGBA,e.UNSIGNED_BYTE,r),0<r[3])return o.call(i,this.a,r)}},s(Fl,bl),Fl.handles=function(t,e){return"webgl"===t&&"VECTOR"===e.S()},Fl.create=function(t,e){return new Fl(t,e)},(t=Fl.prototype).Zi=function(t,e,o){this.l=e;var i=t.viewState,r=this.i,n=t.size,s=t.pixelRatio,a=this.c.g;r&&!r.yg()&&(a.enable(a.SCISSOR_TEST),a.scissor(0,0,n[0]*s,n[1]*s),r.Na(o,i.center,i.resolution,i.rotation,n,s,e.opacity,e.Te?t.skippedFeatureUids:{}),a.disable(a.SCISSOR_TEST))},t.ia=function(){var t=this.i;t&&(yl(t,this.c.i)(),this.i=null),bl.prototype.ia.call(this)},t.wa=function(t,e,o,i,r){if(this.i&&this.l){o=e.viewState;var n=this.a,s={};return this.i.wa(t,this.c.i,o.center,o.resolution,o.rotation,e.size,e.pixelRatio,this.l.opacity,{},function(t){var e=Qt(t).toString();if(!(e in s))return s[e]=!0,i.call(r,t,n)})}},t.cf=function(t,e){if(this.i&&this.l){var o=e.viewState;return i=this.i,r=t,n=this.c.i,s=o.resolution,a=o.rotation,p=e.pixelRatio,h=this.l.opacity,l=e.skippedFeatureUids,(c=n.b).bindFramebuffer(c.FRAMEBUFFER,$p(n)),void 0!==fl(i,n,r,s,a,p,h,l,function(){var t=new Uint8Array(4);return c.readPixels(0,0,1,1,c.RGBA,c.UNSIGNED_BYTE,t),0<t[3]},!1)}var i,r,n,s,a,p,h,l,c;return!1},t.zg=function(t,e,o,i){if(t=di(e.pixelToCoordinateTransform,t.slice()),this.cf(t,e))return o.call(i,this.a,null)},t.$i=function(){Rs(this)},t.Bg=function(t,e,o){function i(t){var e=t.ib();if(e)var o=e.call(t,h);else(e=r.ib())&&(o=e(t,h));if(o){if(o){if(e=!1,Array.isArray(o))for(var i=o.length-1;0<=i;--i)e=Ga(u,t,o[i],_a(h,l),this.$i,this)||e;else e=Ga(u,t,o,_a(h,l),this.$i,this)||e;t=e}else t=!1;this.s=this.s||t}}var r=this.a;e=r.ha(),Ns(t,e);var n=t.viewHints[0],s=t.viewHints[1],a=r.ca,p=r.ra;if(!this.s&&!a&&n||!p&&s)return!0;s=t.extent,a=t.viewState,n=a.projection;var h=a.resolution,l=t.pixelRatio;a=r.g;var c=r.f;if(void 0===(p=r.get(UA))&&(p=Da),s=B(s,c*h),!this.s&&this.T==h&&this.O==a&&this.B==p&&U(this.D,s))return!0;this.i&&t.postRenderFunctions.push(yl(this.i,o)),this.s=!1;var u=new gl(.5*h/l,s,r.f);if(e.ae(s,h,n),p){var g=[];e.ec(s,function(t){g.push(t)},this),g.sort(p),g.forEach(i,this)}else e.ec(s,i,this);return function(t,e){for(var o in t.a){var i,r=t.a[o];for(i in r)r[i].gb(e)}}(u,o),this.T=h,this.O=a,this.B=p,this.D=s,this.i=u,!0},Mr("MAP_RENDERER",ta),Sr([Zs,oa,Ua,za]),Mr("MAP_RENDERER",Sl),Sr([Ml,jl,Fl]),s(Rl,xr),s(Ol,Le),(t=Ol.prototype).Rd=function(){return this.get(_l)},t.nn=function(){return this.id},t.Ve=function(){return this.get(Gl)},t.Xh=function(){return this.get(Bl)},t.pi=function(){return this.get(Ul)},t.Yh=function(){return this.get(zl)},t.am=function(){for(var t=this.element;t.lastChild;)t.removeChild(t.lastChild);(t=this.Rd())&&this.element.appendChild(t)},t.km=function(){this.c&&(vr(this.element),me(this.c),this.c=null);var t=this.Ve();t&&(this.c=ve(t,"postrender",this.render,this),Dl(this),t=this.stopEvent?t.v:t.o,this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element))},t.render=function(){Dl(this)},t.om=function(){Dl(this)},t.qm=function(){if(Dl(this),this.get(Ul)&&this.autoPan){var t=this.Ve();if(t&&t.Cc()){var e=Nl(t.Cc(),t.Cb()),o=this.Rd(),i=o.offsetWidth,r=getComputedStyle(o);i+=parseInt(r.marginLeft,10)+parseInt(r.marginRight,10),r=o.offsetHeight;var n=getComputedStyle(o);r+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10);var s=Nl(o,[i,r]);o=this.autoPanMargin,U(e,s)||(i=s[0]-e[0],r=e[2]-s[2],n=s[1]-e[1],s=e[3]-s[3],e=[0,0],i<0?e[0]=i-o:r<0&&(e[0]=Math.abs(r)+o),n<0?e[1]=n-o:s<0&&(e[1]=Math.abs(s)+o),0===e[0]&&0===e[1])||(o=t.aa().xa(),o=t.Ia(o),e=[o[0]+e[0],o[1]+e[1]],t.aa().animate({center:t.Ra(e),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing}))}}},t.rm=function(){Dl(this)},t.Hj=function(t){this.set(_l,t)},t.setMap=function(t){this.set(Gl,t)},t.Mj=function(t){this.set(Bl,t)},t.We=function(t){this.set(Ul,t)},t.Pj=function(t){this.set(zl,t)};var _l="element",Gl="map",Bl="offset",Ul="position",zl="positioning";function Zl(t,e,o,i,r,n){wp.call(this,t,e,n),this.c=0,this.l=null,this.v=i,this.a=null,this.f={},this.C=r,this.N=o}function Vl(t,e,o){return t.f[Qt(e)+","+o]}s(Zl,wp),(t=Zl.prototype).ia=function(){this.a=null,this.f={},this.state=5,this.u(),wp.prototype.ia.call(this)},t.G=function(){return this.l||Hl},t.qn=function(){return this.v},t.pn=function(){return this.a},t.lb=function(){return this.N},t.rn=function(){return this.o},t.load=function(){0==this.state&&(xp(this,1),this.C(this,this.N),this.D(null,NaN,null))},t.Cp=function(t,e,o){this.vg(e),this.Ij(t),this.ri(o)},t.Bp=function(){xp(this,3)},t.ri=function(t){this.l=t},t.Ij=function(t){this.a=t,xp(this,2)},t.vg=function(t){this.o=t},t.ug=function(t){this.D=t};var Hl=[0,0,4096,4096];function Wl(t){t=t||{},this.c=void 0!==t.className?t.className:"ol-full-screen";var e=void 0!==t.label?t.label:"\u2922";this.l="string"==typeof e?document.createTextNode(e):e,e=void 0!==t.labelActive?t.labelActive:"\xd7",this.v="string"==typeof e?document.createTextNode(e):e;var o=t.tipLabel?t.tipLabel:"Toggle full-screen";(e=document.createElement("button")).className=this.c+"-"+Yl(),e.setAttribute("type","button"),e.title=o,e.appendChild(this.l),ve(e,"click",this.C,this),(o=document.createElement("div")).className=this.c+" ol-unselectable ol-control "+(Xl()?"":"ol-unsupported"),o.appendChild(e),Er.call(this,{element:o,target:t.target}),this.D=void 0!==t.keys&&t.keys,this.j=t.source}function Xl(){var t=document.body;return!!(t.webkitRequestFullscreen||t.mozRequestFullScreen&&document.mozFullScreenEnabled||t.msRequestFullscreen&&document.msFullscreenEnabled||t.requestFullscreen&&document.fullscreenEnabled)}function Yl(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function Kl(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}s(Wl,Er),Wl.prototype.C=function(t){t.preventDefault(),Xl()&&(t=this.a)&&(Yl()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(t=this.j?"string"==typeof this.j?document.getElementById(this.j):this.j:t.Cc(),this.D?t.mozRequestFullScreenWithKeys?t.mozRequestFullScreenWithKeys():t.webkitRequestFullscreen?t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):Kl(t):Kl(t)))},Wl.prototype.o=function(){var t=this.element.firstElementChild,e=this.a;Yl()?(t.className=this.c+"-true",dr(this.v,this.l)):(t.className=this.c+"-false",dr(this.l,this.v)),e&&e.Oc()},Wl.prototype.setMap=function(t){Er.prototype.setMap.call(this,t),t&&this.s.push(ve(document,ql(),this.o,this))};var Jl,ql=function(){if(!Jl){var t=document.body;t.webkitRequestFullscreen?Jl="webkitfullscreenchange":t.mozRequestFullScreen?Jl="mozfullscreenchange":t.msRequestFullscreen?Jl="MSFullscreenChange":t.requestFullscreen&&(Jl="fullscreenchange")}return Jl};function Ql(t){t=t||{};var e=document.createElement("DIV");e.className=void 0!==t.className?t.className:"ol-mouse-position",Er.call(this,{element:e,render:t.render?t.render:$l,target:t.target}),ve(this,je(ec),this.En,this),t.coordinateFormat&&this.Gj(t.coordinateFormat),t.projection&&this.ti(t.projection),this.o=void 0!==t.undefinedHTML?t.undefinedHTML:"",this.v=e.innerHTML,this.l=this.j=this.c=null}function $l(t){(t=t.frameState)?this.c!=t.viewState.projection&&(this.c=t.viewState.projection,this.j=null):this.c=null,tc(this,this.l)}function tc(t,e){var o=t.o;if(e&&t.c){if(!t.j){var i=t.si();t.j=i?Nt(t.c,i):kt}(e=t.a.Ra(e))&&(t.j(e,e),o=(o=t.Qh())?o(e):e.toString())}t.v&&o==t.v||(t.element.innerHTML=o,t.v=o)}s(Ql,Er),(t=Ql.prototype).En=function(){this.j=null},t.Qh=function(){return this.get(oc)},t.si=function(){return this.get(ec)},t.mm=function(t){this.l=this.a.ud(t),tc(this,this.l)},t.nm=function(){tc(this,null),this.l=null},t.setMap=function(t){Er.prototype.setMap.call(this,t),t&&(t=t.a,this.s.push(ve(t,"mousemove",this.mm,this),ve(t,"mouseout",this.nm,this)))},t.Gj=function(t){this.set(oc,t)},t.ti=function(t){this.set(ec,Ft(t))};var ec="projection",oc="coordinateFormat";function ic(t){function e(t){t=a.Sd(t),p.a.aa().ub(t),window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",e)}function o(t){t=a.Sd({clientX:t.clientX-l.offsetWidth/2,clientY:t.clientY+l.offsetHeight/2}),h.We(t)}t=t||{},this.j=void 0===t.collapsed||t.collapsed,this.l=void 0===t.collapsible||t.collapsible,this.l||(this.j=!1);var i=void 0!==t.className?t.className:"ol-overviewmap",r=void 0!==t.tipLabel?t.tipLabel:"Overview map",n=void 0!==t.collapseLabel?t.collapseLabel:"\xab";"string"==typeof n?(this.o=document.createElement("span"),this.o.textContent=n):this.o=n,"string"==typeof(n=void 0!==t.label?t.label:"\xbb")?(this.D=document.createElement("span"),this.D.textContent=n):this.D=n;var s=this.l&&!this.j?this.o:this.D;(n=document.createElement("button")).setAttribute("type","button"),n.title=r,n.appendChild(s),ve(n,"click",this.Hn,this),this.C=document.createElement("DIV"),this.C.className="ol-overviewmap-map";var a=this.c=new xr({controls:new Oe,interactions:new Oe,view:t.view});t.layers&&t.layers.forEach(function(t){a.xe(t)},this),(r=document.createElement("DIV")).className="ol-overviewmap-box",r.style.boxSizing="border-box",this.v=new Ol({position:[0,0],positioning:"bottom-left",element:r}),this.c.ye(this.v),(r=document.createElement("div")).className=i+" ol-unselectable ol-control"+(this.j&&this.l?" ol-collapsed":"")+(this.l?"":" ol-uncollapsible"),r.appendChild(this.C),r.appendChild(n),Er.call(this,{element:r,render:t.render?t.render:rc,target:t.target});var p=this,h=this.v,l=this.v.Rd();l.addEventListener("mousedown",function(){window.addEventListener("mousemove",o),window.addEventListener("mouseup",e)})}function rc(){var t=this.a,e=this.c;if(t.c&&e.c){var o=t.Cb();t=t.aa().qd(o);var i=e.Cb();o=e.aa().qd(i);var r=e.Ia(Y(t)),n=e.Ia(_(t));e=Math.abs(r[0]-n[0]),r=Math.abs(r[1]-n[1]),n=i[0],i=i[1],e<.1*n||r<.1*i||.75*n<e||.75*i<r?nc(this):U(o,t)||(t=this.c,o=this.a.aa(),t.aa().ub(o.xa()))}sc(this)}function nc(t){var e=t.a;t=t.c;var o=e.Cb();e=e.aa().qd(o),t=t.aa(),Q(e,1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2))),t.Uf(e)}function sc(t){var e=t.a,o=t.c;if(e.c&&o.c){var i=e.Cb(),r=e.aa(),n=o.aa();o=r.Sa(),e=t.v;var s=t.v.Rd(),a=r.qd(i);if(i=n.Pa(),r=D(a),n=K(a),t=t.a.aa().xa()){var p=[r[0]-t[0],r[1]-t[1]];qo(p,o),Wo(p,t)}e.We(p),s&&(s.style.width=Math.abs((r[0]-n[0])/i)+"px",s.style.height=Math.abs((n[1]-r[1])/i)+"px")}}function ac(t){t.element.classList.toggle("ol-collapsed"),t.j?dr(t.o,t.D):dr(t.D,t.o),t.j=!t.j;var e=t.c;t.j||e.c||(e.Oc(),nc(t),Ae(e,"postrender",function(){sc(this)},t))}function pc(t){var e=void 0!==(t=t||{}).className?t.className:"ol-scale-line";this.l=document.createElement("DIV"),this.l.className=e+"-inner",this.c=document.createElement("DIV"),this.c.className=e+" ol-unselectable",this.c.appendChild(this.l),this.o=null,this.v=void 0!==t.minWidth?t.minWidth:64,this.j=!1,this.B=void 0,this.D="",Er.call(this,{element:this.c,render:t.render?t.render:lc,target:t.target}),ve(this,je(uc),this.V,this),this.O(t.units||"metric")}s(ic,Er),(t=ic.prototype).setMap=function(t){var e=this.a;t!==e&&(e&&((e=e.aa())&&Ce(e,je("rotation"),this.Qe,this),this.c.Ad(null)),Er.prototype.setMap.call(this,t),t&&(this.c.Ad(this.C),this.s.push(ve(t,"propertychange",this.lm,this)),0===this.c.Xe().kc()&&this.c.zf(t.hc()),t=t.aa()))&&(ve(t,je("rotation"),this.Qe,this),gr(t)&&(this.c.Oc(),nc(this)))},t.lm=function(t){"view"===t.key&&((t=t.oldValue)&&Ce(t,je("rotation"),this.Qe,this),ve(t=this.a.aa(),je("rotation"),this.Qe,this))},t.Qe=function(){this.c.aa().ce(this.a.aa().Sa())},t.Hn=function(t){t.preventDefault(),ac(this)},t.Gn=function(){return this.l},t.Jn=function(t){this.l!==t&&(this.l=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.j&&ac(this))},t.In=function(t){this.l&&this.j!==t&&ac(this)},t.Fn=function(){return this.j},t.Hl=function(){return this.c},s(pc,Er);var hc=[1,2,5];function lc(t){(t=t.frameState)?this.o=t.viewState:this.o=null,cc(this)}function cc(t){var e=t.o;if(e){var o=e.center,i=e.projection,r=t.C();e=xt(i,e.resolution,o,"degrees"==r?"degrees":"m"),"degrees"!=r&&(e*=i.Bc());var n=t.v*e;for(o="","degrees"==r?(o=at.degrees,"degrees"==i.a?n*=o:e/=o,n<o/60?(o="\u2033",e*=3600):n<o?(o="\u2032",e*=60):o="\xb0"):"imperial"==r?n<.9144?(o="in",e/=.0254):n<1609.344?(o="ft",e/=.3048):(o="mi",e/=1609.344):"nautical"==r?(e/=1852,o="nm"):"metric"==r?n<.001?(o="\u03bcm",e*=1e6):n<1?(o="mm",e*=1e3):n<1e3?o="m":(o="km",e/=1e3):"us"==r?n<.9144?(o="in",e*=39.37):n<1609.344?(o="ft",e/=.30480061):(o="mi",e/=1609.3472):N(!1,33),r=3*Math.floor(Math.log(t.v*e)/Math.log(10));;){if(n=hc[(r%3+3)%3]*Math.pow(10,Math.floor(r/3)),i=Math.round(n/e),isNaN(i))return t.c.style.display="none",void(t.j=!1);if(i>=t.v)break;++r}e=n+" "+o,t.D!=e&&(t.l.innerHTML=e,t.D=e),t.B!=i&&(t.l.style.width=i+"px",t.B=i),t.j||(t.c.style.display="",t.j=!0)}else t.j&&(t.c.style.display="none",t.j=!1)}pc.prototype.C=function(){return this.get(uc)},pc.prototype.V=function(){cc(this)},pc.prototype.O=function(t){this.set(uc,t)};var uc="units";function gc(t){t=t||{},this.c=void 0,this.j=yc,this.D=this.v=0,this.O=null,this.$=!1,this.V=void 0!==t.duration?t.duration:200;var e=void 0!==t.className?t.className:"ol-zoomslider",o=document.createElement("button");o.setAttribute("type","button"),o.className=e+"-thumb ol-unselectable";var i=document.createElement("div");i.className=e+" ol-unselectable ol-control",i.appendChild(o),this.l=new bo(i),ve(this.l,"pointerdown",this.$l,this),ve(this.l,"pointermove",this.Yl,this),ve(this.l,"pointerup",this.Zl,this),ve(i,"click",this.Xl,this),ve(o,"click",Se),Er.call(this,{element:i,render:t.render?t.render:fc})}s(gc,Er),gc.prototype.ia=function(){we(this.l),Er.prototype.ia.call(this)};var yc=0;function fc(t){if(t.frameState){if(!this.$){var e=this.element,o=e.offsetWidth,i=e.offsetHeight,r=e.firstElementChild,n=getComputedStyle(r);e=r.offsetWidth+parseFloat(n.marginRight)+parseFloat(n.marginLeft),r=r.offsetHeight+parseFloat(n.marginTop)+parseFloat(n.marginBottom),this.O=[e,r],i<o?(this.j=1,this.D=o-e):(this.j=yc,this.v=i-r),this.$=!0}(t=t.frameState.viewState.resolution)!==this.c&&dc(this,this.c=t)}}function dc(t,e){var o,i,r;e=1-(o=t.a.aa(),i=o.a,r=Math.log(i/o.i)/Math.log(2),function(t){return Math.log(i/t)/Math.log(2)/r})(e);var n=t.element.firstElementChild;1==t.j?n.style.left=t.D*e+"px":n.style.top=t.v*e+"px"}function vc(t,e){return(o=t.a.aa(),i=o.a,r=Math.log(i/o.i)/Math.log(2),function(t){return i/Math.pow(2,t*r)})(1-e);var o,i,r}function Ac(t){t=t||{},this.extent=t.extent?t.extent:null;var e=void 0!==t.className?t.className:"ol-zoom-extent",o=void 0!==t.label?t.label:"E",i=void 0!==t.tipLabel?t.tipLabel:"Fit to extent",r=document.createElement("button");r.setAttribute("type","button"),r.title=i,r.appendChild("string"==typeof o?document.createTextNode(o):o),ve(r,"click",this.c,this),(o=document.createElement("div")).className=e+" ol-unselectable ol-control",o.appendChild(r),Er.call(this,{element:o,target:t.target})}(t=gc.prototype).setMap=function(t){Er.prototype.setMap.call(this,t),t&&t.render()},t.Xl=function(t){var e=this.a.aa();t=vc(this,C(1===this.j?(t.offsetX-this.O[0]/2)/this.D:(t.offsetY-this.O[1]/2)/this.v,0,1)),e.animate({resolution:e.constrainResolution(t),duration:this.V,easing:ri})},t.$l=function(t){this.o||t.b.target!==this.element.firstElementChild||(yr(this.a.aa(),1,1),this.C=t.clientX,this.B=t.clientY,this.o=!0)},t.Yl=function(t){if(this.o){var e=this.element.firstElementChild;this.c=vc(this,C(1===this.j?(t.clientX-this.C+parseInt(e.style.left,10))/this.D:(t.clientY-this.B+parseInt(e.style.top,10))/this.v,0,1)),this.a.aa().gd(this.c),dc(this,this.c),this.C=t.clientX,this.B=t.clientY}},t.Zl=function(){if(this.o){var t=this.a.aa();yr(t,1,-1),t.animate({resolution:t.constrainResolution(this.c),duration:this.V,easing:ri}),this.o=!1,this.B=this.C=void 0}},s(Ac,Er),Ac.prototype.c=function(t){t.preventDefault(),t=this.a.aa();var e=this.extent?this.extent:t.v.G();t.Uf(e)};var Cc=document.implementation.createDocument("","",null);function mc(t,e){return Cc.createElementNS(t,e)}function Ic(t,e){return function t(e,o,i){if(e.nodeType==Node.CDATA_SECTION_NODE||e.nodeType==Node.TEXT_NODE)o?i.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):i.push(e.nodeValue);else for(e=e.firstChild;e;e=e.nextSibling)t(e,o,i);return i}(t,e,[]).join("")}function bc(t){return t instanceof Document}function wc(t){return t instanceof Node}function Mc(t){return(new DOMParser).parseFromString(t,"application/xml")}function Sc(o,i){return function(t,e){void 0!==(t=o.call(i,t,e))&&Vt(e[e.length-1],t)}}function xc(o,i){return function(t,e){void 0!==(t=o.call(void 0!==i?i:this,t,e))&&e[e.length-1].push(t)}}function Pc(o,i){return function(t,e){void 0!==(t=o.call(void 0!==i?i:this,t,e))&&(e[e.length-1]=t)}}function Ec(i){return function(t,e){var o=i.call(this,t,e);void 0!==o&&(e=e[e.length-1],((t=t.localName)in e?e[t]:e[t]=[]).push(o))}}function Lc(i,r){return function(t,e){var o=i.call(this,t,e);void 0!==o&&(e[e.length-1][void 0!==r?r:t.localName]=o)}}function Tc(i,r){return function(t,e,o){i.call(void 0!==r?r:this,t,e,o),o[o.length-1].node.appendChild(t)}}function jc(r){var n,s;return function(t,e,o){if(void 0===n){n={};var i={};i[t.localName]=r,n[t.namespaceURI]=i,s=Fc(t.localName)}_c(n,s,e,o)}}function Fc(i,r){return function(t,e,o){return t=e[e.length-1].node,void 0===(e=i)&&(e=o),void 0===(o=r)&&(o=t.namespaceURI),mc(o,e)}}var Rc=Fc();function Oc(t,e){for(var o=e.length,i=Array(o),r=0;r<o;++r)i[r]=t[e[r]];return i}function Nc(t,e,o){var i;o=void 0!==o?o:{};var r=0;for(i=t.length;r<i;++r)o[t[r]]=e;return o}function kc(t,e,o,i){for(e=e.firstElementChild;e;e=e.nextElementSibling){var r=t[e.namespaceURI];void 0!==r&&void 0!==(r=r[e.localName])&&r.call(i,e,o)}}function Dc(t,e,o,i,r){return i.push(t),kc(e,o,i,r),i.pop()}function _c(t,e,o,i,r,n){for(var s,a,p=(void 0!==r?r:o).length,h=0;h<p;++h)void 0!==(s=o[h])&&void 0!==(a=e.call(n,s,i,void 0!==r?r[h]:void 0))&&t[a.namespaceURI][a.localName].call(n,a,s,i)}function Gc(t,e,o,i,r,n,s){r.push(t),_c(e,o,i,r,n,s),r.pop()}function Bc(r,n,s,a){return function(t,e,o){var i=new XMLHttpRequest;i.open("GET","function"==typeof r?r(t,e,o):r,!0),"arraybuffer"==n.S()&&(i.responseType="arraybuffer"),i.onload=function(){if(!i.status||200<=i.status&&i.status<300){var t=n.S();if("json"==t||"text"==t)var e=i.responseText;else"xml"==t?(e=i.responseXML)||(e=Mc(i.responseText)):"arraybuffer"==t&&(e=i.response);e?s.call(this,n.Qa(e,{featureProjection:o}),n.sb(e),n.cg()):a.call(this)}else a.call(this)}.bind(this),i.onerror=function(){a.call(this)}.bind(this),i.send()}}function Uc(t,e){return Bc(t,e,function(t){this.Qc(t)},A)}function zc(){this.i=this.defaultDataProjection=null}function Zc(t,e,o){var i;return o&&(i={dataProjection:o.dataProjection?o.dataProjection:t.sb(e),featureProjection:o.featureProjection}),Vc(t,i)}function Vc(t,e){return tt({dataProjection:t.defaultDataProjection,featureProjection:t.i},e)}function Hc(t,e,o){var i,r=o?Ft(o.featureProjection):null,n=o?Ft(o.dataProjection):null;if(i=r&&n&&!Rt(r,n)?t instanceof bi?(e?t.clone():t).mb(e?r:n,e?n:r):Gt(t,n,r):t,e&&o&&void 0!==o.decimals){var s=Math.pow(10,o.decimals);i===t&&(i=i.clone()),i.Rc(function(t){for(var e=0,o=t.length;e<o;++e)t[e]=Math.round(t[e]*s)/s;return t})}return i}function Wc(){zc.call(this)}function Xc(t){return"string"==typeof t?(t=JSON.parse(t))?t:null:null!==t?t:null}function Yc(t,e){wi.call(this),this.c=[],this.j=this.o=-1,this.na(t,e)}function Kc(t,e){var o,i=t.ja,r=[],n=[],s=0;for(o=e.length;s<o;++s){var a=e[s];0===s&&(i=a.ja),Vt(r,a.da()),n.push(r.length)}t.ba(i,r,n)}function Jc(t,e){wi.call(this),this.na(t,e)}function qc(t,e){wi.call(this),this.c=[],this.o=-1,this.D=null,this.T=this.C=this.B=-1,this.j=null,this.na(t,e)}function Qc(t){if(t.o!=t.g){var e,o=t.A,i=t.c,r=t.a,n=0,s=[],a=0;for(e=i.length;a<e;++a){var p=i[a];n=P(o,n,p[0],r),s.push((n[0]+n[2])/2,(n[1]+n[3])/2),n=p[p.length-1]}for(o=$c(t),i=t.c,r=t.a,e=[],p=a=0,n=i.length;p<n;++p){var h=i[p];e=Yi(o,a,h,r,s,2*p,e),a=h[h.length-1]}t.D=e,t.o=t.g}return t.D}function $c(t){if(t.T!=t.g){var e=t.A;t:{var o,i=t.c,r=0;for(o=i.length;r<o;++r)if(!$i(e,i[r],t.a,void 0)){i=!1;break t}i=!0}i?t.j=e:(t.j=e.slice(),t.j.length=er(t.j,t.c,t.a)),t.T=t.g}return t.j}function tu(t,e){var o,i=t.ja,r=[],n=[],s=0;for(o=e.length;s<o;++s){var a=e[s];0===s&&(i=a.ja);var p,h=r.length,l=a.pb(),c=0;for(p=l.length;c<p;++c)l[c]+=h;Vt(r,a.da()),n.push(l)}t.ba(i,r,n)}function eu(t){t=t||{},zc.call(this),this.b=t.geometryName}function ou(t,e){if(!t)return null;if("number"==typeof t.x&&"number"==typeof t.y)var o="Point";else if(t.points)o="MultiPoint";else if(t.paths)o=1===t.paths.length?"LineString":"MultiLineString";else if(t.rings){var i,r=t.rings,n=iu(t),s=[],a=[];o=[];var p=0;for(i=r.length;p<i;++p)s.length=0,Ni(s,0,r[p],n.length),Qi(s,0,s.length,n.length)?a.push([r[p]]):o.push(r[p]);for(;o.length;){for(r=o.shift(),n=!1,p=a.length-1;0<=p;p--)if(U(new zi(a[p][0]).G(),new zi(r).G())){a[p].push(r),n=!0;break}n||a.push([r.reverse()])}t=tt({},t),1===a.length?(o="Polygon",t.rings=a[0]):(o="MultiPolygon",t.rings=a)}return Hc((0,nu[o])(t),!1,e)}function iu(t){var e="XY";return!0===t.hasZ&&!0===t.hasM?e="XYZM":!0===t.hasZ?e="XYZ":!0===t.hasM&&(e="XYM"),e}function ru(t){return{hasZ:"XYZ"===(t=t.ja)||"XYZM"===t,hasM:"XYM"===t||"XYZM"===t}}zc.prototype.cg=function(){return null},s(Wc,zc),(t=Wc.prototype).S=function(){return"json"},t.Yb=function(t,e){return this.dd(Xc(t),Zc(this,t,e))},t.Qa=function(t,e){return this.Mg(Xc(t),Zc(this,t,e))},t.ed=function(t,e){return this.Qg(Xc(t),Zc(this,t,e))},t.sb=function(t){return this.Tg(Xc(t))},t.Jd=function(t,e){return JSON.stringify(this.ld(t,e))},t.ac=function(t,e){return JSON.stringify(this.qe(t,e))},t.md=function(t,e){return JSON.stringify(this.se(t,e))},s(Yc,wi),(t=Yc.prototype).Gk=function(t){this.A?Vt(this.A,t.da().slice()):this.A=t.da().slice(),this.c.push(this.A.length),this.u()},t.clone=function(){var t=new Yc(null);return t.ba(this.ja,this.A.slice(),this.c.slice()),t},t.Nb=function(t,e,o,i){return i<d(this.G(),t,e)?i:(this.j!=this.g&&(this.o=Math.sqrt(ji(this.A,0,this.c,this.a,0)),this.j=this.g),Ri(this.A,0,this.c,this.a,this.o,!1,t,e,o,i))},t.Wn=function(t,e,o){return"XYM"!=this.ja&&"XYZM"!=this.ja||0===this.A.length?null:function(t,e,o,i,r,n){var s=0;if(n)return gp(t,s,e[e.length-1],o,i,r);if(i<t[o-1])return r?((t=t.slice(0,o))[o-1]=i,t):null;if(t[t.length-1]<i)return r?((t=t.slice(t.length-o))[o-1]=i,t):null;for(r=0,n=e.length;r<n;++r){var a=e[r];if(s!=a){if(i<t[s+o-1])break;if(i<=t[a-1])return gp(t,s,a,o,i,!1);s=a}}return null}(this.A,this.c,this.a,t,void 0!==e&&e,void 0!==o&&o)},t.W=function(){return _i(this.A,0,this.c,this.a)},t.pb=function(){return this.c},t.yl=function(t){if(t<0||this.c.length<=t)return null;var e=new yp(null);return e.ba(this.ja,this.A.slice(0===t?0:this.c[t-1],this.c[t])),e},t.wd=function(){var t,e=this.A,o=this.c,i=this.ja,r=[],n=0,s=0;for(t=o.length;s<t;++s){var a=o[s],p=new yp(null);p.ba(i,e.slice(n,a)),r.push(p),n=a}return r},t.Ge=function(){var t,e=[],o=this.A,i=0,r=this.c,n=this.a,s=0;for(t=r.length;s<t;++s){var a=r[s];i=up(o,i,a,n,.5),Vt(e,i),i=a}return e},t.xd=function(t){var e,o=[],i=[],r=this.A,n=this.c,s=this.a,a=0,p=0,h=0;for(e=n.length;h<e;++h){var l=n[h];p=Bi(r,a,l,s,t,o,p),i.push(p),a=l}return o.length=p,(t=new Yc(null)).ba("XY",o,i),t},t.S=function(){return"MultiLineString"},t.$a=function(t){t:{var e,o=this.A,i=this.c,r=this.a,n=0,s=0;for(e=i.length;s<e;++s){if(Ji(o,n,i[s],r,t)){t=!0;break t}n=i[s]}t=!1}return t},t.na=function(t,e){t?(xi(this,e,t,2),this.A||(this.A=[]),t=ki(this.A,0,t,this.a,this.c),this.A.length=0===t.length?0:t[t.length-1],this.u()):this.ba("XY",null,this.c)},t.ba=function(t,e,o){Si(this,t,e),this.c=o,this.u()},s(Jc,wi),(t=Jc.prototype).Ik=function(t){this.A?Vt(this.A,t.da()):this.A=t.da().slice(),this.u()},t.clone=function(){var t=new Jc(null);return t.ba(this.ja,this.A.slice()),t},t.Nb=function(t,e,o,i){if(i<d(this.G(),t,e))return i;var r,n=this.A,s=this.a,a=0;for(r=n.length;a<r;a+=s){var p=y(t,e,n[a],n[a+1]);if(p<i){for(i=p,p=0;p<s;++p)o[p]=n[a+p];o.length=s}}return i},t.W=function(){return Di(this.A,0,this.A.length,this.a)},t.Ll=function(t){var e=this.A?this.A.length/this.a:0;return t<0||e<=t?null:((e=new Vi(null)).ba(this.ja,this.A.slice(t*this.a,(t+1)*this.a)),e)},t.de=function(){var t,e=this.A,o=this.ja,i=this.a,r=[],n=0;for(t=e.length;n<t;n+=i){var s=new Vi(null);s.ba(o,e.slice(n,n+i)),r.push(s)}return r},t.S=function(){return"MultiPoint"},t.$a=function(t){var e,o=this.A,i=this.a,r=0;for(e=o.length;r<e;r+=i){var n=o[r],s=o[r+1];if(M(t,n,s))return!0}return!1},t.na=function(t,e){t?(xi(this,e,t,1),this.A||(this.A=[]),this.A.length=Ni(this.A,0,t,this.a),this.u()):this.ba("XY",null)},t.ba=function(t,e){Si(this,t,e),this.u()},s(qc,wi),(t=qc.prototype).Jk=function(t){if(this.A){var e,o=this.A.length;Vt(this.A,t.da()),t=t.pb().slice();var i=0;for(e=t.length;i<e;++i)t[i]+=o}else this.A=t.da().slice(),t=t.pb().slice(),this.c.push();this.c.push(t),this.u()},t.clone=function(){for(var t=new qc(null),e=this.c.length,o=Array(e),i=0;i<e;++i)o[i]=this.c[i].slice();return t.ba(this.ja,this.A.slice(),o),t},t.Nb=function(t,e,o,i){if(i<d(this.G(),t,e))return i;if(this.C!=this.g){var r,n=this.c,s=0,a=0,p=0;for(r=n.length;p<r;++p){var h=n[p];a=ji(this.A,s,h,this.a,a),s=h[h.length-1]}this.B=Math.sqrt(a),this.C=this.g}var l;n=$c(this),s=this.c,a=this.a,p=this.B,h=[NaN,NaN];var c=r=0;for(l=s.length;c<l;++c){var u=s[c];i=Ri(n,r,u,a,p,!0,t,e,o,i,h),r=u[u.length-1]}return i},t.Zc=function(t,e){t:{var o=$c(this),i=this.c,r=0;if(0!==i.length){var n,s=0;for(n=i.length;s<n;++s){var a=i[s];if(Xi(o,r,a,this.a,t,e)){t=!0;break t}r=a[a.length-1]}}t=!1}return t},t.Xn=function(){var t,e=$c(this),o=this.c,i=0,r=0,n=0;for(t=o.length;n<t;++n){var s=o[n];r+=Ei(e,i,s,this.a),i=s[s.length-1]}return r},t.W=function(t){if(void 0!==t){var e=$c(this).slice();er(e,this.c,this.a,t)}else e=this.A;return Gi(e,0,this.c,this.a)},t.td=function(){return this.c},t.ul=function(){var t=new Jc(null);return t.ba("XYM",Qc(this).slice()),t},t.xd=function(t){var e=[],o=[],i=this.A,r=this.c,n=this.a;t=Math.sqrt(t);var s,a=0,p=0,h=0;for(s=r.length;h<s;++h){var l=r[h],c=[];p=Ui(i,a,l,n,t,e,p,c),o.push(c),a=l[l.length-1]}return e.length=p,(i=new qc(null)).ba("XY",e,o),i},t.Ml=function(t){if(t<0||this.c.length<=t)return null;if(0===t)var e=0;else e=(e=this.c[t-1])[e.length-1];var o=(t=this.c[t].slice())[t.length-1];if(0!==e){var i,r=0;for(i=t.length;r<i;++r)t[r]-=e}return(r=new or(null)).ba(this.ja,this.A.slice(e,o),t),r},t.Vd=function(){var t,e,o=this.ja,i=this.A,r=this.c,n=[],s=0,a=0;for(t=r.length;a<t;++a){var p=r[a].slice(),h=p[p.length-1];if(0!==s){var l=0;for(e=p.length;l<e;++l)p[l]-=s}(l=new or(null)).ba(o,i.slice(s,h),p),n.push(l),s=h}return n},t.S=function(){return"MultiPolygon"},t.$a=function(t){t:{var e,o=$c(this),i=this.c,r=this.a,n=0,s=0;for(e=i.length;s<e;++s){var a=i[s];if(qi(o,n,a,r,t)){t=!0;break t}n=a[a.length-1]}t=!1}return t},t.na=function(t,e){if(t){xi(this,e,t,3),this.A||(this.A=[]),e=this.A;var o=this.a,i=this.c,r=0;i=i||[];var n,s=0,a=0;for(n=t.length;a<n;++a)r=ki(e,r,t[a],o,i[s]),r=(i[s++]=r)[r.length-1];i.length=s,0===i.length?this.A.length=0:(t=i[i.length-1],this.A.length=0===t.length?0:t[t.length-1]),this.u()}else this.ba("XY",null,this.c)},t.ba=function(t,e,o){Si(this,t,e),this.c=o,this.u()},s(eu,Wc);var nu={Point:function(t){return void 0!==t.m&&void 0!==t.z?new Vi([t.x,t.y,t.z,t.m],"XYZM"):void 0!==t.z?new Vi([t.x,t.y,t.z],"XYZ"):void 0!==t.m?new Vi([t.x,t.y,t.m],"XYM"):new Vi([t.x,t.y])},LineString:function(t){return new yp(t.paths[0],iu(t))},Polygon:function(t){return new or(t.rings,iu(t))},MultiPoint:function(t){return new Jc(t.points,iu(t))},MultiLineString:function(t){return new Yc(t.paths,iu(t))},MultiPolygon:function(t){return new qc(t.rings,iu(t))}},su={Point:function(t){var e,o=t.W();return"XYZ"===(t=t.ja)?e={x:o[0],y:o[1],z:o[2]}:"XYM"===t?e={x:o[0],y:o[1],m:o[2]}:"XYZM"===t?e={x:o[0],y:o[1],z:o[2],m:o[3]}:"XY"===t?e={x:o[0],y:o[1]}:N(!1,34),e},LineString:function(t){var e=ru(t);return{hasZ:e.hasZ,hasM:e.hasM,paths:[t.W()]}},Polygon:function(t){var e=ru(t);return{hasZ:e.hasZ,hasM:e.hasM,rings:t.W(!1)}},MultiPoint:function(t){var e=ru(t);return{hasZ:e.hasZ,hasM:e.hasM,points:t.W()}},MultiLineString:function(t){var e=ru(t);return{hasZ:e.hasZ,hasM:e.hasM,paths:t.W()}},MultiPolygon:function(t){var e=ru(t);t=t.W(!1);for(var o=[],i=0;i<t.length;i++)for(var r=t[i].length-1;0<=r;r--)o.push(t[i][r]);return{hasZ:e.hasZ,hasM:e.hasM,rings:o}}};function au(t,e){return(0,su[t.S()])(Hc(t,!0,e),e)}function pu(){this.g=new XMLSerializer,zc.call(this)}function hu(t,e,o){return 0<(t=lu(t,e,o)).length?t[0]:null}function lu(t,e,o){var i=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&Vt(i,t.Kc(e,o));return i}function cu(t){t=t||{},this.featureType=t.featureType,this.featureNS=t.featureNS,this.srsName=t.srsName,this.schemaLocation="",this.b={},this.b["http://www.opengis.net/gml"]={featureMember:Pc(cu.prototype.ge),featureMembers:Pc(cu.prototype.ge)},pu.call(this)}(t=eu.prototype).dd=function(t,e){var o=ou(t.geometry,e),i=new lp;return this.b&&i.Lc(this.b),i.Va(o),e&&e.pg&&t.attributes[e.pg]&&i.qc(t.attributes[e.pg]),t.attributes&&i.H(t.attributes),i},t.Mg=function(t,e){if(e=e||{},t.features){var o,i=[],r=t.features;for(e.pg=t.objectIdFieldName,t=0,o=r.length;t<o;++t)i.push(this.dd(r[t],e));return i}return[this.dd(t,e)]},t.Qg=function(t,e){return ou(t,e)},t.Tg=function(t){return t.spatialReference&&t.spatialReference.wkid?Ft("EPSG:"+t.spatialReference.wkid):null},t.se=function(t,e){return au(t,Vc(this,e))},t.ld=function(t,e){e=Vc(this,e);var o={},i=t.U();return i&&(o.geometry=au(i,e),e&&e.featureProjection&&(o.geometry.spatialReference={wkid:Ft(e.featureProjection).wb.split(":").pop()})),delete(e=t.L())[t.a],o.attributes=ee(e)?{}:e,o},t.qe=function(t,e){e=Vc(this,e);var o,i=[],r=0;for(o=t.length;r<o;++r)i.push(this.ld(t[r],e));return{features:i}},s(pu,zc),(t=pu.prototype).S=function(){return"xml"},t.Yb=function(t,e){return bc(t)?hu(this,t,e):wc(t)?this.Lg(t,e):"string"==typeof t?hu(this,t=Mc(t),e):null},t.Lg=function(){return null},t.Qa=function(t,e){return bc(t)?lu(this,t,e):wc(t)?this.Kc(t,e):"string"==typeof t?lu(this,t=Mc(t),e):[]},t.ed=function(t,e){return bc(t)?null:wc(t)?this.vj(t,e):("string"==typeof t&&Mc(t),null)},t.vj=function(){return null},t.sb=function(t){return bc(t)?this.Sg(t):wc(t)?this.uf(t):"string"==typeof t?(t=Mc(t),this.Sg(t)):null},t.Sg=function(){return this.defaultDataProjection},t.uf=function(){return this.defaultDataProjection},t.Jd=function(){return this.g.serializeToString(this.mh())},t.mh=function(){return null},t.ac=function(t,e){return t=this.bc(t,e),this.g.serializeToString(t)},t.bc=function(){return null},t.md=function(t,e){return t=this.re(t,e),this.g.serializeToString(t)},t.re=function(){return null},s(cu,pu);var uu=/^[\s\xa0]*$/;function gu(t){return yu(t=Ic(t,!1))}function yu(t){if(t=/^\s*(true|1)|(false|0)\s*$/.exec(t))return void 0!==t[1]||!1}function fu(t){return t=Ic(t,!1),t=Date.parse(t),isNaN(t)?void 0:t/1e3}function du(t){return vu(t=Ic(t,!1))}function vu(t){if(t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t))return parseFloat(t[1])}function Au(t){return Cu(t=Ic(t,!1))}function Cu(t){if(t=/^\s*(\d+)\s*$/.exec(t))return parseInt(t[1],10)}function mu(t){return Ic(t,!1).trim()}function Iu(t,e){Mu(t,e?"1":"0")}function bu(t,e){t.appendChild(Cc.createTextNode(e.toPrecision()))}function wu(t,e){t.appendChild(Cc.createTextNode(e.toString()))}function Mu(t,e){t.appendChild(Cc.createTextNode(e))}function Su(t){cu.call(this,t=t||{}),this.s=void 0!==t.surface&&t.surface,this.c=void 0!==t.curve&&t.curve,this.f=void 0===t.multiCurve||t.multiCurve,this.j=void 0===t.multiSurface||t.multiSurface,this.schemaLocation=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",this.hasZ=void 0!==t.hasZ&&t.hasZ}function xu(t,e,o){var i=o[o.length-1];o=i.hasZ,t.setAttribute("srsDimension",o?3:2),i=i.srsName;for(var r,n=(e=e.W()).length,s=Array(n),a=0;a<n;++a){r=e[a];var p=a,h=o,l="enu";i&&(l=Ft(i).b),l="en"===l.substr(0,2)?r[0]+" "+r[1]:r[1]+" "+r[0],h&&(l+=" "+(r[2]||0)),s[p]=l}Mu(t,s.join(" "))}(t=cu.prototype).ge=function(t,e){var o=t.localName,i=null;if("FeatureCollection"==o)i="http://www.opengis.net/wfs"===t.namespaceURI?Dc([],this.b,t,e,this):Dc(null,this.b,t,e,this);else if("featureMembers"==o||"featureMember"==o){var r,n=e[0],s=n.featureType,a=n.featureNS;if(!s&&t.childNodes){s=[],a={};var p=0;for(r=t.childNodes.length;p<r;++p){var h=t.childNodes[p];if(1===h.nodeType){var l=h.nodeName.split(":").pop();if(-1===s.indexOf(l)){var c="",u=0;for(var g in h=h.namespaceURI,a){if(a[g]===h){c=g;break}++u}c||(a[c="p"+u]=h),s.push(c+":"+l)}}}"featureMember"!=o&&(n.featureType=s,n.featureNS=a)}for(var y in"string"==typeof a&&(p=a,(a={}).p0=p),n={},s=Array.isArray(s)?s:[s],a){for(l={},p=0,r=s.length;p<r;++p)(-1===s[p].indexOf(":")?"p0":s[p].split(":")[0])===y&&(l[s[p].split(":").pop()]="featureMembers"==o?xc(this.Kg,this):Pc(this.Kg,this));n[a[y]]=l}i=Dc("featureMember"==o?void 0:[],n,t,e)}return null===i&&(i=[]),i},t.rf=function(t,e){var o=e[0];if(o.srsName=t.firstElementChild.getAttribute("srsName"),o.srsDimension=t.firstElementChild.getAttribute("srsDimension"),t=Dc(null,this.qh,t,e,this))return Hc(t,!1,o)},t.Kg=function(t,e){var o;(o=t.getAttribute("fid"))||(o=t.getAttributeNS("http://www.opengis.net/gml","id")||"");var i,r={};for(t=t.firstElementChild;t;t=t.nextElementSibling){var n=t.localName;if(0===t.childNodes.length||1===t.childNodes.length&&(3===t.firstChild.nodeType||4===t.firstChild.nodeType)){var s=Ic(t,!1);uu.test(s)&&(s=void 0),r[n]=s}else"boundedBy"!==n&&(i=n),r[n]=this.rf(t,e)}return e=new lp(r),i&&e.Lc(i),o&&e.qc(o),e},t.Aj=function(t,e){if(t=this.qf(t,e))return(e=new Vi(null)).ba("XYZ",t),e},t.yj=function(t,e){if(t=Dc([],this.kk,t,e,this))return new Jc(t)},t.xj=function(t,e){if(t=Dc([],this.jk,t,e,this))return Kc(e=new Yc(null),t),e},t.zj=function(t,e){if(t=Dc([],this.lk,t,e,this))return tu(e=new qc(null),t),e},t.qj=function(t,e){kc(this.pk,t,e,this)},t.fi=function(t,e){kc(this.hk,t,e,this)},t.rj=function(t,e){kc(this.qk,t,e,this)},t.sf=function(t,e){if(t=this.qf(t,e))return(e=new yp(null)).ba("XYZ",t),e},t.Xp=function(t,e){if(t=Dc(null,this.te,t,e,this))return t},t.wj=function(t,e){if(t=this.qf(t,e))return Zi(e=new zi(null),"XYZ",t),e},t.tf=function(t,e){if((t=Dc([null],this.Gf,t,e,this))&&t[0]){e=new or(null);var o,i=t[0],r=[i.length],n=1;for(o=t.length;n<o;++n)Vt(i,t[n]),r.push(i.length);return e.ba("XYZ",i,r),e}},t.qf=function(t,e){return Dc(null,this.te,t,e,this)},t.kk={"http://www.opengis.net/gml":{pointMember:xc(cu.prototype.qj),pointMembers:xc(cu.prototype.qj)}},t.jk={"http://www.opengis.net/gml":{lineStringMember:xc(cu.prototype.fi),lineStringMembers:xc(cu.prototype.fi)}},t.lk={"http://www.opengis.net/gml":{polygonMember:xc(cu.prototype.rj),polygonMembers:xc(cu.prototype.rj)}},t.pk={"http://www.opengis.net/gml":{Point:xc(cu.prototype.qf)}},t.hk={"http://www.opengis.net/gml":{LineString:xc(cu.prototype.sf)}},t.qk={"http://www.opengis.net/gml":{Polygon:xc(cu.prototype.tf)}},t.ue={"http://www.opengis.net/gml":{LinearRing:Pc(cu.prototype.Xp)}},t.vj=function(t,e){return(t=this.rf(t,[Zc(this,t,e||{})]))?t:null},t.Kc=function(t,e){var o={featureType:this.featureType,featureNS:this.featureNS};return e&&tt(o,Zc(this,t,e)),this.ge(t,[o])||[]},t.uf=function(t){return Ft(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},s(Su,cu),(t=Su.prototype).aq=function(t,e){if(t=Dc([],this.ik,t,e,this))return Kc(e=new Yc(null),t),e},t.bq=function(t,e){if(t=Dc([],this.mk,t,e,this))return tu(e=new qc(null),t),e},t.Gh=function(t,e){kc(this.ek,t,e,this)},t.Xj=function(t,e){kc(this.sk,t,e,this)},t.fq=function(t,e){return Dc([null],this.nk,t,e,this)},t.iq=function(t,e){return Dc([null],this.rk,t,e,this)},t.gq=function(t,e){return Dc([null],this.Gf,t,e,this)},t.$p=function(t,e){return Dc([null],this.te,t,e,this)},t.Fm=function(t,e){(t=Dc(void 0,this.ue,t,e,this))&&e[e.length-1].push(t)},t.Zk=function(t,e){(t=Dc(void 0,this.ue,t,e,this))&&(e[e.length-1][0]=t)},t.Bj=function(t,e){if((t=Dc([null],this.tk,t,e,this))&&t[0]){e=new or(null);var o,i=t[0],r=[i.length],n=1;for(o=t.length;n<o;++n)Vt(i,t[n]),r.push(i.length);return e.ba("XYZ",i,r),e}},t.tj=function(t,e){if(t=Dc([null],this.fk,t,e,this))return(e=new yp(null)).ba("XYZ",t),e},t.Wp=function(t,e){return z((t=Dc([null],this.gk,t,e,this))[1][0],t[1][1],t[2][0],t[2][1])},t.Yp=function(t,e){var o,i=Ic(t,!1),r=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/;for(t=[];o=r.exec(i);)t.push(parseFloat(o[1])),i=i.substr(o[0].length);if(""===i){if(e=e[0].srsName,i="enu",e&&(i=Ft(e).b),"neu"===i)for(e=0,i=t.length;e<i;e+=3)r=t[e],t[e]=t[e+1],t[e+1]=r;if(2==(e=t.length)&&t.push(0),0!==e)return t}},t.Pg=function(t,e){var o=Ic(t,!1).replace(/^\s*|\s*$/g,""),i=(e=e[0]).srsName,r=e.srsDimension;e="enu",i&&(e=Ft(i).b),o=o.split(/\s+/),i=2,t.getAttribute("srsDimension")?i=Cu(t.getAttribute("srsDimension")):t.getAttribute("dimension")?i=Cu(t.getAttribute("dimension")):t.parentNode.getAttribute("srsDimension")?i=Cu(t.parentNode.getAttribute("srsDimension")):r&&(i=Cu(r));for(var n,s=[],a=0,p=o.length;a<p;a+=i)t=parseFloat(o[a]),r=parseFloat(o[a+1]),n=3===i?parseFloat(o[a+2]):0,"en"===e.substr(0,2)?s.push(t,r,n):s.push(r,t,n);return s},t.te={"http://www.opengis.net/gml":{pos:Pc(Su.prototype.Yp),posList:Pc(Su.prototype.Pg)}},t.Gf={"http://www.opengis.net/gml":{interior:Su.prototype.Fm,exterior:Su.prototype.Zk}},t.qh={"http://www.opengis.net/gml":{Point:Pc(cu.prototype.Aj),MultiPoint:Pc(cu.prototype.yj),LineString:Pc(cu.prototype.sf),MultiLineString:Pc(cu.prototype.xj),LinearRing:Pc(cu.prototype.wj),Polygon:Pc(cu.prototype.tf),MultiPolygon:Pc(cu.prototype.zj),Surface:Pc(Su.prototype.Bj),MultiSurface:Pc(Su.prototype.bq),Curve:Pc(Su.prototype.tj),MultiCurve:Pc(Su.prototype.aq),Envelope:Pc(Su.prototype.Wp)}},t.ik={"http://www.opengis.net/gml":{curveMember:xc(Su.prototype.Gh),curveMembers:xc(Su.prototype.Gh)}},t.mk={"http://www.opengis.net/gml":{surfaceMember:xc(Su.prototype.Xj),surfaceMembers:xc(Su.prototype.Xj)}},t.ek={"http://www.opengis.net/gml":{LineString:xc(cu.prototype.sf),Curve:xc(Su.prototype.tj)}},t.sk={"http://www.opengis.net/gml":{Polygon:xc(cu.prototype.tf),Surface:xc(Su.prototype.Bj)}},t.tk={"http://www.opengis.net/gml":{patches:Pc(Su.prototype.fq)}},t.fk={"http://www.opengis.net/gml":{segments:Pc(Su.prototype.iq)}},t.gk={"http://www.opengis.net/gml":{lowerCorner:xc(Su.prototype.Pg),upperCorner:xc(Su.prototype.Pg)}},t.nk={"http://www.opengis.net/gml":{PolygonPatch:Pc(Su.prototype.gq)}},t.rk={"http://www.opengis.net/gml":{LineStringSegment:Pc(Su.prototype.$p)}},t.Hi=function(t,e,o){var i=o[o.length-1].srsName;i&&t.setAttribute("srsName",i),i=mc(t.namespaceURI,"pos"),t.appendChild(i),o=o[o.length-1],t=o.hasZ,i.setAttribute("srsDimension",t?3:2);var r=o.srsName;o="enu",r&&(o=Ft(r).b),e=e.W(),o="en"===o.substr(0,2)?e[0]+" "+e[1]:e[1]+" "+e[0],t&&(o+=" "+(e[2]||0)),Mu(i,o)};var Pu={"http://www.opengis.net/gml":{lowerCorner:Tc(Mu),upperCorner:Tc(Mu)}};(t=Su.prototype).Pn=function(t,e,o){var i=o[o.length-1].srsName;i&&t.setAttribute("srsName",i),Gc({node:t},Pu,Rc,[e[0]+" "+e[1],e[2]+" "+e[3]],o,["lowerCorner","upperCorner"],this)},t.Ei=function(t,e,o){var i=o[o.length-1].srsName;i&&t.setAttribute("srsName",i),i=mc(t.namespaceURI,"posList"),t.appendChild(i),xu(i,e,o)},t.On=function(t,e){t=e[e.length-1],e=t.node;var o=t.exteriorWritten;return void 0===o&&(t.exteriorWritten=!0),mc(e.namespaceURI,void 0!==o?"interior":"exterior")},t.af=function(t,e,o){var i=o[o.length-1],r=i.hasZ;i=i.srsName,"PolygonPatch"!==t.nodeName&&i&&t.setAttribute("srsName",i),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName?(e=e.Ud(),Gc({node:t,hasZ:r,srsName:i},ju,this.On,e,o,void 0,this)):"Surface"===t.nodeName&&(r=mc(t.namespaceURI,"patches"),t.appendChild(r),t=mc(r.namespaceURI,"PolygonPatch"),r.appendChild(t),this.af(t,e,o))},t.$e=function(t,e,o){var i=o[o.length-1].srsName;"LineStringSegment"!==t.nodeName&&i&&t.setAttribute("srsName",i),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName?(i=mc(t.namespaceURI,"posList"),t.appendChild(i),xu(i,e,o)):"Curve"===t.nodeName&&(i=mc(t.namespaceURI,"segments"),t.appendChild(i),t=mc(i.namespaceURI,"LineStringSegment"),i.appendChild(t),this.$e(t,e,o))},t.Gi=function(t,e,o){var i=o[o.length-1],r=i.hasZ,n=i.srsName;i=i.surface,n&&t.setAttribute("srsName",n),e=e.Vd(),Gc({node:t,hasZ:r,srsName:n,surface:i},Eu,this.l,e,o,void 0,this)},t.Qn=function(t,e,o){var i=o[o.length-1],r=i.srsName;i=i.hasZ,r&&t.setAttribute("srsName",r),e=e.de(),Gc({node:t,hasZ:i,srsName:r},Lu,Fc("pointMember"),e,o,void 0,this)},t.Fi=function(t,e,o){var i=o[o.length-1],r=i.hasZ,n=i.srsName;i=i.curve,n&&t.setAttribute("srsName",n),e=e.wd(),Gc({node:t,hasZ:r,srsName:n,curve:i},Tu,this.l,e,o,void 0,this)},t.Ii=function(t,e,o){var i=mc(t.namespaceURI,"LinearRing");t.appendChild(i),this.Ei(i,e,o)},t.Ji=function(t,e,o){var i=this.a(e,o);i&&(t.appendChild(i),this.af(i,e,o))},t.Rn=function(t,e,o){var i=mc(t.namespaceURI,"Point");t.appendChild(i),this.Hi(i,e,o)},t.Di=function(t,e,o){var i=this.a(e,o);i&&(t.appendChild(i),this.$e(i,e,o))},t.Yc=function(t,e,o){var i,r=o[o.length-1],n=tt({},r);n.node=t,i=Array.isArray(e)?r.dataProjection?Gt(e,r.featureProjection,r.dataProjection):e:Hc(e,!0,r),Gc(n,Fu,this.a,[i],o,void 0,this)},t.Ci=function(t,e,o){var i=e.c;i&&t.setAttribute("fid",i);var r=(i=o[o.length-1]).featureNS,n=e.a;i.tb||(i.tb={},i.tb[r]={});var s=e.L();e=[];var a=[];for(h in s){var p=s[h];null!==p&&(e.push(h),a.push(p),h==n||p instanceof bi?h in i.tb[r]||(i.tb[r][h]=Tc(this.Yc,this)):h in i.tb[r]||(i.tb[r][h]=Tc(Mu)))}var h=tt({},i);h.node=t,Gc(h,i.tb,Fc(void 0,r),a,o,e)};var Eu={"http://www.opengis.net/gml":{surfaceMember:Tc(Su.prototype.Ji),polygonMember:Tc(Su.prototype.Ji)}},Lu={"http://www.opengis.net/gml":{pointMember:Tc(Su.prototype.Rn)}},Tu={"http://www.opengis.net/gml":{lineStringMember:Tc(Su.prototype.Di),curveMember:Tc(Su.prototype.Di)}},ju={"http://www.opengis.net/gml":{exterior:Tc(Su.prototype.Ii),interior:Tc(Su.prototype.Ii)}},Fu={"http://www.opengis.net/gml":{Curve:Tc(Su.prototype.$e),MultiCurve:Tc(Su.prototype.Fi),Point:Tc(Su.prototype.Hi),MultiPoint:Tc(Su.prototype.Qn),LineString:Tc(Su.prototype.$e),MultiLineString:Tc(Su.prototype.Fi),LinearRing:Tc(Su.prototype.Ei),Polygon:Tc(Su.prototype.af),MultiPolygon:Tc(Su.prototype.Gi),Surface:Tc(Su.prototype.af),MultiSurface:Tc(Su.prototype.Gi),Envelope:Tc(Su.prototype.Pn)}},Ru={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};function Ou(t){cu.call(this,t=t||{}),this.b["http://www.opengis.net/gml"].featureMember=xc(cu.prototype.ge),this.schemaLocation=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd"}function Nu(t){return(t=mc(t,"coordinates")).setAttribute("decimal","."),t.setAttribute("cs",","),t.setAttribute("ts"," "),t}function ku(t,e,o){var i=o[o.length-1];o=i.hasZ,i=i.srsName;for(var r,n=(e=e.W()).length,s=Array(n),a=0;a<n;++a)r=e[a],s[a]=Du(r,i,o);Mu(t,s.join(" "))}function Du(t,e,o){var i="enu";return e&&(i=Ft(e).b),e="en"===i.substr(0,2)?t[0]+","+t[1]:t[1]+","+t[0],o&&(e+=","+(t[2]||0)),e}Su.prototype.l=function(t,e){return mc("http://www.opengis.net/gml",Ru[e[e.length-1].node.nodeName])},Su.prototype.a=function(t,e){var o=e[e.length-1];e=o.multiSurface;var i=o.surface,r=o.curve;return o=o.multiCurve,Array.isArray(t)?t="Envelope":"MultiPolygon"===(t=t.S())&&!0===e?t="MultiSurface":"Polygon"===t&&!0===i?t="Surface":"LineString"===t&&!0===r?t="Curve":"MultiLineString"===t&&!0===o&&(t="MultiCurve"),mc("http://www.opengis.net/gml",t)},Su.prototype.re=function(t,e){e=Vc(this,e);var o=mc("http://www.opengis.net/gml","geom"),i={node:o,hasZ:this.hasZ,srsName:this.srsName,curve:this.c,surface:this.s,multiSurface:this.j,multiCurve:this.f};return e&&tt(i,e),this.Yc(o,t,[i]),o},Su.prototype.bc=function(t,e){e=Vc(this,e);var o=mc("http://www.opengis.net/gml","featureMembers");o.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var i={srsName:this.srsName,hasZ:this.hasZ,curve:this.c,surface:this.s,multiSurface:this.j,multiCurve:this.f,featureNS:this.featureNS,featureType:this.featureType};e&&tt(i,e);var r=(e=[i])[e.length-1];i=r.featureType;var n=r.featureNS,s={};return s[n]={},s[n][i]=Tc(this.Ci,this),(r=tt({},r)).node=o,Gc(r,s,Fc(i,n),t,e),o},s(Ou,cu),(t=Ou.prototype).uj=function(t,e){t=Ic(t,!1).replace(/^\s*|\s*$/g,"");var o=e[0].srsName;e="enu",o&&(o=Ft(o))&&(e=o.b),t=t.trim().split(/\s+/);for(var i,r,n=[],s=0,a=t.length;s<a;s++)r=t[s].split(/,+/),o=parseFloat(r[0]),i=parseFloat(r[1]),r=3===r.length?parseFloat(r[2]):0,"en"===e.substr(0,2)?n.push(o,i,r):n.push(i,o,r);return n},t.Up=function(t,e){return z((t=Dc([null],this.dk,t,e,this))[1][0],t[1][1],t[1][3],t[1][4])},t.Dm=function(t,e){(t=Dc(void 0,this.ue,t,e,this))&&e[e.length-1].push(t)},t.Ep=function(t,e){(t=Dc(void 0,this.ue,t,e,this))&&(e[e.length-1][0]=t)},t.te={"http://www.opengis.net/gml":{coordinates:Pc(Ou.prototype.uj)}},t.Gf={"http://www.opengis.net/gml":{innerBoundaryIs:Ou.prototype.Dm,outerBoundaryIs:Ou.prototype.Ep}},t.dk={"http://www.opengis.net/gml":{coordinates:xc(Ou.prototype.uj)}},t.qh={"http://www.opengis.net/gml":{Point:Pc(cu.prototype.Aj),MultiPoint:Pc(cu.prototype.yj),LineString:Pc(cu.prototype.sf),MultiLineString:Pc(cu.prototype.xj),LinearRing:Pc(cu.prototype.wj),Polygon:Pc(cu.prototype.tf),MultiPolygon:Pc(cu.prototype.zj),Box:Pc(Ou.prototype.Up)}},t.wg=function(t,e){var o=e[e.length-1];e=o.multiSurface;var i=o.surface;return o=o.multiCurve,Array.isArray(t)?t="Envelope":"MultiPolygon"===(t=t.S())&&!0===e?t="MultiSurface":"Polygon"===t&&!0===i?t="Surface":"MultiLineString"===t&&!0===o&&(t="MultiCurve"),mc("http://www.opengis.net/gml",t)},t.ui=function(t,e,o){var i,r=o[o.length-1],n=tt({},r);n.node=t,i=Array.isArray(e)?r.dataProjection?Gt(e,r.featureProjection,r.dataProjection):e:Hc(e,!0,r),Gc(n,_u,this.wg,[i],o,void 0,this)},t.Ye=function(t,e,o){var i=o[o.length-1].srsName;"LineStringSegment"!==t.nodeName&&i&&t.setAttribute("srsName",i),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName?(i=Nu(t.namespaceURI),t.appendChild(i),ku(i,e,o)):"Curve"===t.nodeName&&(i=mc(t.namespaceURI,"segments"),t.appendChild(i),t=mc(i.namespaceURI,"LineStringSegment"),i.appendChild(t),this.Ye(t,e,o))},t.Ze=function(t,e,o){var i=o[o.length-1],r=i.hasZ;i=i.srsName,"PolygonPatch"!==t.nodeName&&i&&t.setAttribute("srsName",i),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName?(e=e.Ud(),Gc({node:t,hasZ:r,srsName:i},Gu,this.Kn,e,o,void 0,this)):"Surface"===t.nodeName&&(r=mc(t.namespaceURI,"patches"),t.appendChild(r),t=mc(r.namespaceURI,"PolygonPatch"),r.appendChild(t),this.Ze(t,e,o))},t.Kn=function(t,e){t=e[e.length-1],e=t.node;var o=t.exteriorWritten;return void 0===o&&(t.exteriorWritten=!0),mc(e.namespaceURI,void 0!==o?"innerBoundaryIs":"outerBoundaryIs")},t.Ai=function(t,e,o){var i=mc(t.namespaceURI,"LinearRing");t.appendChild(i),this.wi(i,e,o)},t.xi=function(t,e,o){var i=o[o.length-1],r=i.hasZ,n=i.srsName;i=i.curve,n&&t.setAttribute("srsName",n),e=e.wd(),Gc({node:t,hasZ:r,srsName:n,curve:i},Uu,this.a,e,o,void 0,this)},t.zi=function(t,e,o){var i=o[o.length-1];o=i.hasZ;var r=i.srsName;r&&t.setAttribute("srsName",r),i=Nu(t.namespaceURI),t.appendChild(i),t=Du(t=e.W(),r,o),Mu(i,t)},t.Mn=function(t,e,o){var i=o[o.length-1],r=i.hasZ;(i=i.srsName)&&t.setAttribute("srsName",i),e=e.de(),Gc({node:t,hasZ:r,srsName:i},Bu,Fc("pointMember"),e,o,void 0,this)},t.Nn=function(t,e,o){var i=mc(t.namespaceURI,"Point");t.appendChild(i),this.zi(i,e,o)},t.vi=function(t,e,o){var i=this.wg(e,o);i&&(t.appendChild(i),this.Ye(i,e,o))},t.wi=function(t,e,o){var i=o[o.length-1].srsName;i&&t.setAttribute("srsName",i),i=Nu(t.namespaceURI),t.appendChild(i),ku(i,e,o)},t.yi=function(t,e,o){var i=o[o.length-1],r=i.hasZ,n=i.srsName;i=i.surface,n&&t.setAttribute("srsName",n),e=e.Vd(),Gc({node:t,hasZ:r,srsName:n,surface:i},Zu,this.a,e,o,void 0,this)},t.Bi=function(t,e,o){var i=this.wg(e,o);i&&(t.appendChild(i),this.Ze(i,e,o))},t.Ln=function(t,e,o){var i=o[o.length-1].srsName;i&&t.setAttribute("srsName",i),Gc({node:t},Vu,Rc,[e[0]+" "+e[1],e[2]+" "+e[3]],o,["lowerCorner","upperCorner"],this)};var _u={"http://www.opengis.net/gml":{Curve:Tc(Ou.prototype.Ye),MultiCurve:Tc(Ou.prototype.xi),Point:Tc(Ou.prototype.zi),MultiPoint:Tc(Ou.prototype.Mn),LineString:Tc(Ou.prototype.Ye),MultiLineString:Tc(Ou.prototype.xi),LinearRing:Tc(Ou.prototype.wi),Polygon:Tc(Ou.prototype.Ze),MultiPolygon:Tc(Ou.prototype.yi),Surface:Tc(Ou.prototype.Ze),MultiSurface:Tc(Ou.prototype.yi),Envelope:Tc(Ou.prototype.Ln)}},Gu={"http://www.opengis.net/gml":{outerBoundaryIs:Tc(Ou.prototype.Ai),innerBoundaryIs:Tc(Ou.prototype.Ai)}},Bu={"http://www.opengis.net/gml":{pointMember:Tc(Ou.prototype.Nn)}},Uu={"http://www.opengis.net/gml":{lineStringMember:Tc(Ou.prototype.vi),curveMember:Tc(Ou.prototype.vi)}};Ou.prototype.a=function(t,e){return mc("http://www.opengis.net/gml",zu[e[e.length-1].node.nodeName])};var zu={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},Zu={"http://www.opengis.net/gml":{surfaceMember:Tc(Ou.prototype.Bi),polygonMember:Tc(Ou.prototype.Bi)}},Vu={"http://www.opengis.net/gml":{lowerCorner:Tc(Mu),upperCorner:Tc(Mu)}};function Hu(t){t=t||{},pu.call(this),this.defaultDataProjection=Ft("EPSG:4326"),this.b=t.readExtensions}s(Hu,pu);var Wu=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"];function Xu(t,e,o,i){return t.push(parseFloat(o.getAttribute("lon")),parseFloat(o.getAttribute("lat"))),"ele"in i?(t.push(i.ele),delete i.ele,e.hasZ=!0):t.push(0),"time"in i?(t.push(i.time),delete i.time,e.hasM=!0):t.push(0),t}function Yu(t,e,o){var i="XY",r=2;if(t.hasZ&&t.hasM?(i="XYZM",r=4):t.hasZ?(i="XYZ",r=3):t.hasM&&(i="XYM",r=3),4!==r){var n,s=0;for(n=e.length/4;s<n;s++)e[s*r]=e[4*s],e[s*r+1]=e[4*s+1],t.hasZ&&(e[s*r+2]=e[4*s+2]),t.hasM&&(e[s*r+2]=e[4*s+3]);if(e.length=e.length/4*r,o)for(s=0,n=o.length;s<n;s++)o[s]=o[s]/4*r}return i}function Ku(t,e){var o=e[e.length-1],i=t.getAttribute("href");null!==i&&(o.link=i),kc(og,t,e)}function Ju(t,e){e[e.length-1].extensionsNode_=t}function qu(t,e){var o=e[0];if(t=Dc({flatCoordinates:[],layoutOptions:{}},ig,t,e)){e=t.flatCoordinates,delete t.flatCoordinates;var i=t.layoutOptions;delete t.layoutOptions,i=Yu(i,e);var r=new yp(null);return r.ba(i,e),Hc(r,!1,o),(o=new lp(r)).H(t),o}}function Qu(t,e){var o=e[0];if(t=Dc({flatCoordinates:[],ends:[],layoutOptions:{}},ng,t,e)){e=t.flatCoordinates,delete t.flatCoordinates;var i=t.ends;delete t.ends;var r=t.layoutOptions;delete t.layoutOptions,r=Yu(r,e,i);var n=new Yc(null);return n.ba(r,e,i),Hc(n,!1,o),(o=new lp(n)).H(t),o}}function $u(t,e){var o=e[0];if(e=Dc({},pg,t,e)){var i={};return t=Xu([],i,t,e),i=Yu(i,t),Hc(t=new Vi(t,i),!1,o),(o=new lp(t)).H(e),o}}var tg={rte:qu,trk:Qu,wpt:$u},eg=Nc(Wu,{rte:xc(qu),trk:xc(Qu),wpt:xc($u)}),og=Nc(Wu,{text:Lc(mu,"linkText"),type:Lc(mu,"linkType")}),ig=Nc(Wu,{name:Lc(mu),cmt:Lc(mu),desc:Lc(mu),src:Lc(mu),link:Ku,number:Lc(Au),extensions:Ju,type:Lc(mu),rtept:function(t,e){var o=Dc({},rg,t,e);o&&Xu((e=e[e.length-1]).flatCoordinates,e.layoutOptions,t,o)}}),rg=Nc(Wu,{ele:Lc(du),time:Lc(fu)}),ng=Nc(Wu,{name:Lc(mu),cmt:Lc(mu),desc:Lc(mu),src:Lc(mu),link:Ku,number:Lc(Au),type:Lc(mu),extensions:Ju,trkseg:function(t,e){var o=e[e.length-1];kc(sg,t,e),o.ends.push(o.flatCoordinates.length)}}),sg=Nc(Wu,{trkpt:function(t,e){var o=Dc({},ag,t,e);o&&Xu((e=e[e.length-1]).flatCoordinates,e.layoutOptions,t,o)}}),ag=Nc(Wu,{ele:Lc(du),time:Lc(fu)}),pg=Nc(Wu,{ele:Lc(du),time:Lc(fu),magvar:Lc(du),geoidheight:Lc(du),name:Lc(mu),cmt:Lc(mu),desc:Lc(mu),src:Lc(mu),link:Ku,sym:Lc(mu),type:Lc(mu),fix:Lc(mu),sat:Lc(Au),hdop:Lc(du),vdop:Lc(du),pdop:Lc(du),ageofdgpsdata:Lc(du),dgpsid:Lc(Au),extensions:Ju});function hg(t,e){e||(e=[]);for(var o=0,i=e.length;o<i;++o){var r=e[o];if(t.b){var n=r.get("extensionsNode_")||null;t.b(r,n)}r.set("extensionsNode_",void 0)}}function lg(t,e,o){t.setAttribute("href",e),e=o[o.length-1].properties,Gc({node:t},gg,Rc,[e.linkText,e.linkType],o,ug)}function cg(t,e,o){var i=o[o.length-1],r=i.node.namespaceURI,n=i.properties;switch(t.setAttributeNS(null,"lat",e[1]),t.setAttributeNS(null,"lon",e[0]),i.geometryLayout){case"XYZM":0!==e[3]&&(n.time=e[3]);case"XYZ":0!==e[2]&&(n.ele=e[2]);break;case"XYM":0!==e[2]&&(n.time=e[2])}e="rtept"==t.nodeName?dg[r]:Ig[r],i=Oc(n,e),Gc({node:t,properties:n},bg,Rc,i,o,e)}Hu.prototype.Lg=function(t,e){if(!zt(Wu,t.namespaceURI))return null;var o=tg[t.localName];return o&&(t=o(t,[Zc(this,t,e)]))?(hg(this,[t]),t):null},Hu.prototype.Kc=function(t,e){return zt(Wu,t.namespaceURI)&&"gpx"==t.localName&&(t=Dc([],eg,t,[Zc(this,t,e)]))?(hg(this,t),t):[]};var ug=["text","type"],gg=Nc(Wu,{text:Tc(Mu),type:Tc(Mu)}),yg=Nc(Wu,"name cmt desc src link number type rtept".split(" ")),fg=Nc(Wu,{name:Tc(Mu),cmt:Tc(Mu),desc:Tc(Mu),src:Tc(Mu),link:Tc(lg),number:Tc(wu),type:Tc(Mu),rtept:jc(Tc(cg))}),dg=Nc(Wu,["ele","time"]),vg=Nc(Wu,"name cmt desc src link number type trkseg".split(" ")),Ag=Nc(Wu,{name:Tc(Mu),cmt:Tc(Mu),desc:Tc(Mu),src:Tc(Mu),link:Tc(lg),number:Tc(wu),type:Tc(Mu),trkseg:jc(Tc(function(t,e,o){Gc({node:t,geometryLayout:e.ja,properties:{}},mg,Cg,e.W(),o)}))}),Cg=Fc("trkpt"),mg=Nc(Wu,{trkpt:Tc(cg)}),Ig=Nc(Wu,"ele time magvar geoidheight name cmt desc src link sym type fix sat hdop vdop pdop ageofdgpsdata dgpsid".split(" ")),bg=Nc(Wu,{ele:Tc(bu),time:Tc(function(t,e){e=new Date(1e3*e),t.appendChild(Cc.createTextNode(e.getUTCFullYear()+"-"+Vo(e.getUTCMonth()+1)+"-"+Vo(e.getUTCDate())+"T"+Vo(e.getUTCHours())+":"+Vo(e.getUTCMinutes())+":"+Vo(e.getUTCSeconds())+"Z"))}),magvar:Tc(bu),geoidheight:Tc(bu),name:Tc(Mu),cmt:Tc(Mu),desc:Tc(Mu),src:Tc(Mu),link:Tc(lg),sym:Tc(Mu),type:Tc(Mu),fix:Tc(Mu),sat:Tc(wu),hdop:Tc(bu),vdop:Tc(bu),pdop:Tc(bu),ageofdgpsdata:Tc(bu),dgpsid:Tc(wu)}),wg={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function Mg(t,e){if((t=t.U())&&(t=wg[t.S()]))return mc(e[e.length-1].node.namespaceURI,t)}var Sg=Nc(Wu,{rte:Tc(function(t,e,o){var i=o[0],r=e.L();t={node:t,properties:r},(e=e.U())&&(e=Hc(e,!0,i),t.geometryLayout=e.ja,r.rtept=e.W()),i=yg[o[o.length-1].node.namespaceURI],r=Oc(r,i),Gc(t,fg,Rc,r,o,i)}),trk:Tc(function(t,e,o){var i=o[0],r=e.L();t={node:t,properties:r},(e=e.U())&&(e=Hc(e,!0,i),r.trkseg=e.wd()),i=vg[o[o.length-1].node.namespaceURI],r=Oc(r,i),Gc(t,Ag,Rc,r,o,i)}),wpt:Tc(function(t,e,o){var i=o[0],r=o[o.length-1];r.properties=e.L(),(e=e.U())&&(e=Hc(e,!0,i),r.geometryLayout=e.ja,cg(t,e.W(),o))})});function xg(t){bi.call(this),this.a=t||null,Lg(this)}function Pg(t){var e,o=[],i=0;for(e=t.length;i<e;++i)o.push(t[i].clone());return o}function Eg(t){var e;if(t.a){var o=0;for(e=t.a.length;o<e;++o)Ce(t.a[o],"change",t.u,t)}}function Lg(t){var e;if(t.a){var o=0;for(e=t.a.length;o<e;++o)ve(t.a[o],"change",t.u,t)}}function Tg(t){t=t||{},zc.call(this),this.defaultDataProjection=Ft(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326"),t.featureProjection&&(this.i=Ft(t.featureProjection)),this.b=t.geometryName,this.a=t.extractGeometryName}function jg(t,e){return t?Hc((0,Rg[t.type])(t),!1,e):null}function Fg(t,e){return(0,Og[t.S()])(Hc(t,!0,e),e)}Hu.prototype.bc=function(t,e){e=Vc(this,e);var o=mc("http://www.topografix.com/GPX/1/1","gpx");return o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),o.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),o.setAttribute("version","1.1"),o.setAttribute("creator","OpenLayers"),Gc({node:o},Sg,Mg,t,[e]),o},s(xg,bi),(t=xg.prototype).clone=function(){var t=new xg(null);return t.Kj(this.a),t},t.Nb=function(t,e,o,i){if(i<d(this.G(),t,e))return i;var r,n=this.a,s=0;for(r=n.length;s<r;++s)i=n[s].Nb(t,e,o,i);return i},t.Zc=function(t,e){var o,i=this.a,r=0;for(o=i.length;r<o;++r)if(i[r].Zc(t,e))return!0;return!1},t.Ae=function(t){L(t);for(var e=this.a,o=0,i=e.length;o<i;++o)T(t,e[o].G());return t},t.vd=function(){return Pg(this.a)},t.Wd=function(t){if(this.l!=this.g&&(et(this.i),this.f=0,this.l=this.g),t<0||0!==this.f&&t<this.f)return this;var e=t.toString();if(this.i.hasOwnProperty(e))return this.i[e];var o,i=[],r=this.a,n=!1,s=0;for(o=r.length;s<o;++s){var a=r[s],p=a.Wd(t);i.push(p),p!==a&&(n=!0)}return n?(Eg(t=new xg(null)),t.a=i,Lg(t),t.u(),this.i[e]=t):(this.f=t,this)},t.S=function(){return"GeometryCollection"},t.$a=function(t){var e,o=this.a,i=0;for(e=o.length;i<e;++i)if(o[i].$a(t))return!0;return!1},t.rotate=function(t,e){for(var o=this.a,i=0,r=o.length;i<r;++i)o[i].rotate(t,e);this.u()},t.scale=function(t,e,o){o||(o=V(this.G()));for(var i=this.a,r=0,n=i.length;r<n;++r)i[r].scale(t,e,o);this.u()},t.Kj=function(t){t=Pg(t),Eg(this),this.a=t,Lg(this),this.u()},t.Rc=function(t){var e,o=this.a,i=0;for(e=o.length;i<e;++i)o[i].Rc(t);this.u()},t.translate=function(t,e){var o,i=this.a,r=0;for(o=i.length;r<o;++r)i[r].translate(t,e);this.u()},t.ia=function(){Eg(this),bi.prototype.ia.call(this)},s(Tg,Wc);var Rg={Point:function(t){return new Vi(t.coordinates)},LineString:function(t){return new yp(t.coordinates)},Polygon:function(t){return new or(t.coordinates)},MultiPoint:function(t){return new Jc(t.coordinates)},MultiLineString:function(t){return new Yc(t.coordinates)},MultiPolygon:function(t){return new qc(t.coordinates)},GeometryCollection:function(t,e){return new xg(t=t.geometries.map(function(t){return jg(t,e)}))}},Og={Point:function(t){return{type:"Point",coordinates:t.W()}},LineString:function(t){return{type:"LineString",coordinates:t.W()}},Polygon:function(t,e){if(e)var o=e.rightHanded;return{type:"Polygon",coordinates:t.W(o)}},MultiPoint:function(t){return{type:"MultiPoint",coordinates:t.W()}},MultiLineString:function(t){return{type:"MultiLineString",coordinates:t.W()}},MultiPolygon:function(t,e){if(e)var o=e.rightHanded;return{type:"MultiPolygon",coordinates:t.W(o)}},GeometryCollection:function(t,o){return{type:"GeometryCollection",geometries:t.a.map(function(t){var e=tt({},o);return delete e.featureProjection,Fg(t,e)})}},Circle:function(){return{type:"GeometryCollection",geometries:[]}}};function Ng(){zc.call(this)}function kg(t){return"string"==typeof t?t:""}function Dg(t){t=t||{},zc.call(this),this.defaultDataProjection=Ft("EPSG:4326"),this.b=t.altitudeMode?t.altitudeMode:"none"}(t=Tg.prototype).dd=function(t,e){t="Feature"===t.type?t:{type:"Feature",geometry:t},e=jg(t.geometry,e);var o=new lp;return this.b?o.Lc(this.b):this.a&&void 0!==t.geometry_name&&o.Lc(t.geometry_name),o.Va(e),void 0!==t.id&&o.qc(t.id),t.properties&&o.H(t.properties),o},t.Mg=function(t,e){if("FeatureCollection"===t.type){var o,i=[];t=t.features;var r=0;for(o=t.length;r<o;++r)i.push(this.dd(t[r],e))}else i=[this.dd(t,e)];return i},t.Qg=function(t,e){return jg(t,e)},t.Tg=function(t){var e;return(t=t.crs)?"name"==t.type?e=Ft(t.properties.name):N(!1,36):e=this.defaultDataProjection,e},t.ld=function(t,e){e=Vc(this,e);var o={type:"Feature"},i=t.c;return void 0!==i&&(o.id=i),(i=t.U())?o.geometry=Fg(i,e):o.geometry=null,delete(e=t.L())[t.a],ee(e)?o.properties=null:o.properties=e,o},t.qe=function(t,e){e=Vc(this,e);var o,i=[],r=0;for(o=t.length;r<o;++r)i.push(this.ld(t[r],e));return{type:"FeatureCollection",features:i}},t.se=function(t,e){return Fg(t,Vc(this,e))},s(Ng,zc),(t=Ng.prototype).S=function(){return"text"},t.Yb=function(t,e){return this.fe(kg(t),Vc(this,e))},t.Qa=function(t,e){return this.Ng(kg(t),Vc(this,e))},t.ed=function(t,e){return this.Gd(kg(t),Vc(this,e))},t.sb=function(){return this.defaultDataProjection},t.Jd=function(t,e){return this.pe(t,Vc(this,e))},t.ac=function(t,e){return this.nh(t,Vc(this,e))},t.md=function(t,e){return this.Kd(t,Vc(this,e))},s(Dg,Ng);var _g,Gg,Bg,Ug,zg,Zg,Vg,Hg,Wg,Xg,Yg,Kg,Jg,qg,Qg,$g=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,ty=/^H.([A-Z]{3}).*?:(.*)/,ey=/^HFDTE(\d{2})(\d{2})(\d{2})/,oy=/\r\n|\r|\n/;function iy(t,e,o,i,r,n){xe.call(this),this.j=null,this.M=t||new Image,null!==i&&(this.M.crossOrigin=i),this.c=n?document.createElement("CANVAS"):null,this.f=n,this.i=null,this.g=r,this.a=o,this.l=e,this.s=!1,2==this.g&&ry(this)}function ry(e){var t=fr(1,1);try{t.drawImage(e.M,0,0),t.getImageData(0,0,1,1)}catch(t){e.s=!0}}function ny(t){t=t||{},this.l=void 0!==t.anchor?t.anchor:[.5,.5],this.o=null,this.g=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.C=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.B=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.qa=void 0!==t.crossOrigin?t.crossOrigin:null;var e=void 0!==t.img?t.img:null,o=void 0!==t.imgSize?t.imgSize:null,i=t.src;N(!(void 0!==i&&e),4),N(!e||e&&o,5),void 0!==i&&0!==i.length||!e||(i=e.src||Qt(e).toString()),N(void 0!==i&&0<i.length,6);var r=void 0!==t.src?0:2;this.j=void 0!==t.color?ds(t.color):null;var n=this.qa,s=this.j,a=Ws.get(i,n,s);a||(a=new iy(e,i,o,n,r,s),Ws.set(i,n,s,a)),this.b=a,this.oa=void 0!==t.offset?t.offset:[0,0],this.c=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.N=null,this.D=void 0!==t.size?t.size:null,Qa.call(this,{opacity:void 0!==t.opacity?t.opacity:1,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView})}function sy(t){t=t||{},pu.call(this),_g||(Bg=new op({color:Gg=[255,255,255,1]}),Zg=zg="pixels",Xg=new ny({anchor:Ug=[20,2],anchorOrigin:"bottom-left",anchorXUnits:zg,anchorYUnits:Zg,crossOrigin:"anonymous",rotation:0,scale:Wg=.5,size:Vg=[64,64],src:Hg="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png"}),Yg="NO_IMAGE",Kg=new ip({color:Gg,width:1}),Jg=new ip({color:[51,51,51,1],width:2}),qg=new dp({font:"bold 16px Helvetica",fill:Bg,stroke:Jg,scale:.8}),Qg=new rp({fill:Bg,image:Xg,text:qg,stroke:Kg,zIndex:0}),_g=[Qg]),this.defaultDataProjection=Ft("EPSG:4326"),this.a=t.defaultStyle?t.defaultStyle:_g,this.c=void 0===t.extractStyles||t.extractStyles,this.j=void 0===t.writeStyles||t.writeStyles,this.b={},this.f=void 0===t.showPointNames||t.showPointNames}(t=Dg.prototype).fe=function(t,e){var o=this.b,i=t.split(oy);t={};var r,n=[],s=2e3,a=0,p=1,h=-1,l=0;for(r=i.length;l<r;++l){var c,u=i[l];if("B"==u.charAt(0)){if(c=$g.exec(u)){u=parseInt(c[1],10);var g=parseInt(c[2],10),y=parseInt(c[3],10),f=parseInt(c[4],10)+parseInt(c[5],10)/6e4;"S"==c[6]&&(f=-f);var d=parseInt(c[7],10)+parseInt(c[8],10)/6e4;"W"==c[9]&&(d=-d),n.push(d,f),"none"!=o&&n.push("gps"==o?parseInt(c[11],10):"barometric"==o?parseInt(c[12],10):0),(c=Date.UTC(s,a,p,u,g,y))<h&&(c=Date.UTC(s,a,p+1,u,g,y)),n.push(c/1e3),h=c}}else"H"==u.charAt(0)&&((c=ey.exec(u))?(p=parseInt(c[1],10),a=parseInt(c[2],10)-1,s=2e3+parseInt(c[3],10)):(c=ty.exec(u))&&(t[c[1]]=c[2].trim()))}return 0===n.length?null:((i=new yp(null)).ba("none"==o?"XYM":"XYZM",n),(e=new lp(Hc(i,!1,e))).H(t),e)},t.Ng=function(t,e){return(t=this.fe(t,e))?[t]:[]},t.pe=function(){},t.nh=function(){},t.Kd=function(){},t.Gd=function(){},s(iy,xe),iy.prototype.v=function(){this.g=3,this.i.forEach(me),this.i=null,this.b("change")},iy.prototype.o=function(){if(this.g=2,this.a&&(this.M.width=this.a[0],this.M.height=this.a[1]),this.a=[this.M.width,this.M.height],this.i.forEach(me),this.i=null,ry(this),!this.s&&null!==this.f){this.c.width=this.M.width,this.c.height=this.M.height;var t=this.c.getContext("2d");t.drawImage(this.M,0,0);for(var e=t.getImageData(0,0,this.M.width,this.M.height),o=e.data,i=this.f[0]/255,r=this.f[1]/255,n=this.f[2]/255,s=0,a=o.length;s<a;s+=4)o[s]*=i,o[s+1]*=r,o[s+2]*=n;t.putImageData(e,0,0)}this.b("change")},iy.prototype.Y=function(){return this.c?this.c:this.M},iy.prototype.load=function(){if(0==this.g){this.g=1,this.i=[Ae(this.M,"error",this.v,this),Ae(this.M,"load",this.o,this)];try{this.M.src=this.l}catch(t){this.v()}}},s(ny,Qa),(t=ny.prototype).clone=function(){return new ny({anchor:this.l.slice(),anchorOrigin:this.g,anchorXUnits:this.C,anchorYUnits:this.B,crossOrigin:this.qa,color:this.j&&this.j.slice?this.j.slice():this.j||void 0,src:this.b.l,offset:this.oa.slice(),offsetOrigin:this.c,size:null!==this.D?this.D.slice():void 0,opacity:this.i,scale:this.a,snapToPixel:this.v,rotation:this.f,rotateWithView:this.s})},t.Vc=function(){if(this.o)return this.o;var t=this.l,e=this.oc();if("fraction"==this.C||"fraction"==this.B){if(!e)return null;t=this.l.slice(),"fraction"==this.C&&(t[0]*=e[0]),"fraction"==this.B&&(t[1]*=e[1])}if("top-left"!=this.g){if(!e)return null;t===this.l&&(t=this.l.slice()),"top-right"!=this.g&&"bottom-right"!=this.g||(t[0]=-t[0]+e[0]),"bottom-left"!=this.g&&"bottom-right"!=this.g||(t[1]=-t[1]+e[1])}return this.o=t},t.np=function(){return this.j},t.Y=function(t){return this.b.Y(t)},t.He=function(){return this.b.a},t.gf=function(){return this.b.g},t.Eg=function(){var t=this.b;if(!t.j)if(t.s){var e=t.a[0],o=t.a[1],i=fr(e,o);i.fillRect(0,0,e,o),t.j=i.canvas}else t.j=t.M;return t.j},t.bd=function(){if(this.N)return this.N;var t=this.oa;if("top-left"!=this.c){var e=this.oc(),o=this.b.a;if(!e||!o)return null;t=t.slice(),"top-right"!=this.c&&"bottom-right"!=this.c||(t[0]=o[0]-e[0]-t[0]),"bottom-left"!=this.c&&"bottom-right"!=this.c||(t[1]=o[1]-e[1]-t[1])}return this.N=t},t.op=function(){return this.b.l},t.oc=function(){return this.D?this.D:this.b.a},t.gi=function(t,e){ve(this.b,"change",t,e)},t.load=function(){this.b.load()},t.Yj=function(t,e){Ce(this.b,"change",t,e)},s(sy,pu);var ay=["http://www.google.com/kml/ext/2.2"],py=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],hy={fraction:"fraction",pixels:"pixels",insetPixels:"pixels"};function ly(t,e){var o=[0,0],i="start";if(t.Y()){var r=t.Y().He();null===r&&(r=Vg),2==r.length&&(i=t.Y().a,o[0]=i*r[0]/2,o[1]=-i*r[1]/2,i="left")}return null!==t.Ka()?(r=t.Ka(),(t=r.clone()).Jj(r.a||qg.a),t.lj(r.b||qg.b),t.yf(r.Fa()||qg.Fa()),t.Af(r.Ga()||Jg)):t=qg.clone(),t.Hd(e),t.Nj(o[0]),t.Oj(o[1]),t.Qj(i),new rp({text:t})}function cy(i,r,n,s,a){return function(){var t=a,e="";if(t&&this.U()&&(t="Point"===this.U().S()),t&&(e=this.get("name"),t=t&&e),i)return t?(t=ly(i[0],e),i.concat(t)):i;if(r){var o=function t(e,o,i){return Array.isArray(e)?e:"string"==typeof e?(!(e in i)&&"#"+e in i&&(e="#"+e),t(i[e],o,i)):o}(r,n,s);return t?(t=ly(o[0],e),o.concat(t)):o}return t?(t=ly(n[0],e),n.concat(t)):n}}function uy(t){if(t=Ic(t,!1),t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t))return t=t[1],[parseInt(t.substr(6,2),16),parseInt(t.substr(4,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(0,2),16)/255]}function gy(t){t=Ic(t,!1);for(var e,o=[],i=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;e=i.exec(t);)o.push(parseFloat(e[1]),parseFloat(e[2]),e[3]?parseFloat(e[3]):0),t=t.substr(e[0].length);if(""===t)return o}function yy(t){var e=Ic(t,!1).trim();return(t=t.baseURI)&&"about:blank"!=t||(t=window.location.href),t?new URL(e,t).href:e}function fy(t){return du(t)}function dy(t,e){return Dc(null,Ry,t,e)}function vy(t,e){if(e=Dc({A:[],ak:[]},Ny,t,e)){var o;t=e.A,e=e.ak;var i=0;for(o=Math.min(t.length,e.length);i<o;++i)t[4*i+3]=e[i];return(e=new yp(null)).ba("XYZM",t),e}}function Ay(t,e){var o=Dc({},Fy,t,e);if(t=Dc(null,ky,t,e))return(e=new yp(null)).ba("XYZ",t),e.H(o),e}function Cy(t,e){var o=Dc({},Fy,t,e);if(t=Dc(null,ky,t,e))return(e=new or(null)).ba("XYZ",t,[t.length]),e.H(o),e}function my(t,e){if(!(t=Dc([],zy,t,e)))return null;if(0===t.length)return new xg(t);var o,i=!0,r=t[0].S(),n=1;for(o=t.length;n<o;++n)if((e=t[n]).S()!=r){i=!1;break}if(i)if("Point"==r){var s=t[0];for(i=s.ja,r=s.da(),n=1,o=t.length;n<o;++n)e=t[n],Vt(r,e.da());(s=new Jc(null)).ba(i,r),My(s,t)}else"LineString"==r?(Kc(s=new Yc(null),t),My(s,t)):"Polygon"==r?(tu(s=new qc(null),t),My(s,t)):"GeometryCollection"==r?s=new xg(t):N(!1,37);else s=new xg(t);return s}function Iy(t,e){var o=Dc({},Fy,t,e);if(t=Dc(null,ky,t,e))return(e=new Vi(null)).ba("XYZ",t),e.H(o),e}function by(t,e){var o=Dc({},Fy,t,e);if((t=Dc([null],Oy,t,e))&&t[0]){e=new or(null);var i,r=t[0],n=[r.length],s=1;for(i=t.length;s<i;++s)Vt(r,t[s]),n.push(r.length);return e.ba("XYZ",r,n),e.H(o),e}}function wy(t,e){if(!(e=Dc({},qy,t,e)))return null;t="fillStyle"in e?e.fillStyle:Bg;var o=e.fill;void 0===o||o||(t=null),(o="imageStyle"in e?e.imageStyle:Xg)==Yg&&(o=void 0);var i="textStyle"in e?e.textStyle:qg,r="strokeStyle"in e?e.strokeStyle:Kg;return void 0===(e=e.outline)||e||(r=null),[new rp({fill:t,image:o,stroke:r,text:i,zIndex:void 0})]}function My(t,e){var o,i,r,n=e.length,s=Array(e.length),a=Array(e.length),p=Array(e.length),h=i=r=!1;for(o=0;o<n;++o){var l=e[o];s[o]=l.get("extrude"),a[o]=l.get("tessellate"),p[o]=l.get("altitudeMode"),h=h||void 0!==s[o],i=i||void 0!==a[o],r=r||p[o]}h&&t.set("extrude",s),i&&t.set("tessellate",a),r&&t.set("altitudeMode",p)}function Sy(t,e){kc(Ey,t,e)}function xy(t,e){kc(Ly,t,e)}var Py=Nc(py,{displayName:Lc(mu),value:Lc(mu)}),Ey=Nc(py,{Data:function(t,e){var o=t.getAttribute("name");kc(Py,t,e),t=e[e.length-1],null!==o?t[o]=t.value:null!==t.displayName&&(t[t.displayName]=t.value),delete t.value},SchemaData:function(t,e){kc(Jy,t,e)}}),Ly=Nc(py,{LatLonAltBox:function(t,e){(t=Dc({},Ty,t,e))&&((e=e[e.length-1]).extent=[parseFloat(t.west),parseFloat(t.south),parseFloat(t.east),parseFloat(t.north)],e.altitudeMode=t.altitudeMode,e.minAltitude=parseFloat(t.minAltitude),e.maxAltitude=parseFloat(t.maxAltitude))},Lod:function(t,e){(t=Dc({},jy,t,e))&&((e=e[e.length-1]).minLodPixels=parseFloat(t.minLodPixels),e.maxLodPixels=parseFloat(t.maxLodPixels),e.minFadeExtent=parseFloat(t.minFadeExtent),e.maxFadeExtent=parseFloat(t.maxFadeExtent))}}),Ty=Nc(py,{altitudeMode:Lc(mu),minAltitude:Lc(du),maxAltitude:Lc(du),north:Lc(du),south:Lc(du),east:Lc(du),west:Lc(du)}),jy=Nc(py,{minLodPixels:Lc(du),maxLodPixels:Lc(du),minFadeExtent:Lc(du),maxFadeExtent:Lc(du)}),Fy=Nc(py,{extrude:Lc(gu),tessellate:Lc(gu),altitudeMode:Lc(mu)}),Ry=Nc(py,{coordinates:Pc(gy)}),Oy=Nc(py,{innerBoundaryIs:function(t,e){(t=Dc(void 0,Gy,t,e))&&e[e.length-1].push(t)},outerBoundaryIs:function(t,e){(t=Dc(void 0,Wy,t,e))&&(e[e.length-1][0]=t)}}),Ny=Nc(py,{when:function(t,e){e=e[e.length-1].ak,t=Ic(t,!1),t=Date.parse(t),e.push(isNaN(t)?0:t)}},Nc(ay,{coord:function(t,e){e=e[e.length-1].A,t=Ic(t,!1),(t=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(t))?e.push(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3]),0):e.push(0,0,0,0)}})),ky=Nc(py,{coordinates:Pc(gy)}),Dy=Nc(py,{href:Lc(yy)},Nc(ay,{x:Lc(du),y:Lc(du),w:Lc(du),h:Lc(du)})),_y=Nc(py,{Icon:Lc(function(t,e){return(t=Dc({},Dy,t,e))?t:null}),heading:Lc(du),hotSpot:Lc(function(t){var e=t.getAttribute("xunits"),o=t.getAttribute("yunits"),i="insetPixels"!==e?"insetPixels"!==o?"bottom-left":"top-left":"insetPixels"!==o?"bottom-right":"top-right";return{x:parseFloat(t.getAttribute("x")),oh:hy[e],y:parseFloat(t.getAttribute("y")),ph:hy[o],origin:i}}),scale:Lc(fy)}),Gy=Nc(py,{LinearRing:Pc(dy)}),By=Nc(py,{color:Lc(uy),scale:Lc(fy)}),Uy=Nc(py,{color:Lc(uy),width:Lc(du)}),zy=Nc(py,{LineString:xc(Ay),LinearRing:xc(Cy),MultiGeometry:xc(my),Point:xc(Iy),Polygon:xc(by)}),Zy=Nc(ay,{Track:xc(vy)}),Vy=Nc(py,{ExtendedData:Sy,Region:xy,Link:function(t,e){kc(Hy,t,e)},address:Lc(mu),description:Lc(mu),name:Lc(mu),open:Lc(gu),phoneNumber:Lc(mu),visibility:Lc(gu)}),Hy=Nc(py,{href:Lc(yy)}),Wy=Nc(py,{LinearRing:Pc(dy)}),Xy=Nc(py,{Style:Lc(wy),key:Lc(mu),styleUrl:Lc(yy)}),Yy=Nc(py,{ExtendedData:Sy,Region:xy,MultiGeometry:Lc(my,"geometry"),LineString:Lc(Ay,"geometry"),LinearRing:Lc(Cy,"geometry"),Point:Lc(Iy,"geometry"),Polygon:Lc(by,"geometry"),Style:Lc(wy),StyleMap:function(t,e){(t=Dc(void 0,Qy,t,e))&&(e=e[e.length-1],Array.isArray(t)?e.Style=t:"string"==typeof t?e.styleUrl=t:N(!1,38))},address:Lc(mu),description:Lc(mu),name:Lc(mu),open:Lc(gu),phoneNumber:Lc(mu),styleUrl:Lc(yy),visibility:Lc(gu)},Nc(ay,{MultiTrack:Lc(function(t,e){if(t=Dc([],Zy,t,e))return Kc(e=new Yc(null),t),e},"geometry"),Track:Lc(vy,"geometry")})),Ky=Nc(py,{color:Lc(uy),fill:Lc(gu),outline:Lc(gu)}),Jy=Nc(py,{SimpleData:function(t,e){var o=t.getAttribute("name");null!==o&&(t=mu(t),e[e.length-1][o]=t)}}),qy=Nc(py,{IconStyle:function(t,e){if(t=Dc({},_y,t,e)){e=e[e.length-1];var o,i="Icon"in t?t.Icon:{},r=!("Icon"in t)||0<Object.keys(i).length,n=i.href;n?o=n:r&&(o=Hg),n="bottom-left";var s,a=t.hotSpot;if(a){var p=[a.x,a.y],h=a.oh,l=a.ph;n=a.origin}else o===Hg?(p=Ug,h=zg,l=Zg):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(o)&&(p=[.5,0],l=h="fraction");a=i.x;var c,u,g=i.y;void 0!==a&&void 0!==g&&(s=[a,g]),a=i.w,i=i.h,void 0!==a&&void 0!==i&&(c=[a,i]),void 0!==(i=t.heading)&&(u=I(i)),t=t.scale,r?(o==Hg&&(c=Vg,void 0===t&&(t=Wg)),o=new ny({anchor:p,anchorOrigin:n,anchorXUnits:h,anchorYUnits:l,crossOrigin:"anonymous",offset:s,offsetOrigin:"bottom-left",rotation:u,scale:t,size:c,src:o}),e.imageStyle=o):e.imageStyle=Yg}},LabelStyle:function(t,e){(t=Dc({},By,t,e))&&(e[e.length-1].textStyle=new dp({fill:new op({color:"color"in t?t.color:Gg}),scale:t.scale}))},LineStyle:function(t,e){(t=Dc({},Uy,t,e))&&(e[e.length-1].strokeStyle=new ip({color:"color"in t?t.color:Gg,width:"width"in t?t.width:1}))},PolyStyle:function(t,e){if(t=Dc({},Ky,t,e)){(e=e[e.length-1]).fillStyle=new op({color:"color"in t?t.color:Gg});var o=t.fill;void 0!==o&&(e.fill=o),void 0!==(t=t.outline)&&(e.outline=t)}}}),Qy=Nc(py,{Pair:function(t,e){if(t=Dc({},Xy,t,e)){var o=t.key;o&&"normal"==o&&((o=t.styleUrl)&&(e[e.length-1]=o),(t=t.Style)&&(e[e.length-1]=t))}}});function $y(t,e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE){var o=tf(t,e);if(o)return o}}function tf(t,e){var o;for(o=e.firstElementChild;o;o=o.nextElementSibling)if(zt(py,o.namespaceURI)&&"name"==o.localName)return mu(o);for(o=e.firstElementChild;o;o=o.nextElementSibling)if(e=o.localName,zt(py,o.namespaceURI)&&("Document"==e||"Folder"==e||"Placemark"==e||"kml"==e)&&(e=tf(t,o)))return e}function ef(t,e){var o=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&Vt(o,of(t,e));return o}function of(t,e){var o,i=[];for(o=e.firstElementChild;o;o=o.nextElementSibling)if(zt(py,o.namespaceURI)&&"NetworkLink"==o.localName){var r=Dc({},Vy,o,[]);i.push(r)}for(o=e.firstElementChild;o;o=o.nextElementSibling)e=o.localName,!zt(py,o.namespaceURI)||"Document"!=e&&"Folder"!=e&&"kml"!=e||Vt(i,of(t,o));return i}function rf(t,e){var o=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&Vt(o,t.vf(e));return o}function nf(t,e){var o;for(e=[255*(4==(e=ds(e)).length?e[3]:1),e[2],e[1],e[0]],o=0;o<4;++o){var i=parseInt(e[o],10).toString(16);e[o]=1==i.length?"0"+i:i}Mu(t,e.join(""))}function sf(t,e,o){t={node:t};var i=e.S();if("GeometryCollection"==i)var r=e.vd(),n=Df;else"MultiPoint"==i?(r=e.de(),n=zf):"MultiLineString"==i?(r=e.wd(),n=Zf):"MultiPolygon"==i?(r=e.Vd(),n=Hf):N(!1,39);Gc(t,xf,n,r,o)}function af(t,e,o){Gc({node:t},Sf,Vf,[e],o)}function pf(t,e,o){var i={node:t};e.c&&t.setAttribute("id",e.c),t=e.L();var r={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};r[e.a]=1;var n=Object.keys(t||{}).sort().filter(function(t){return!r[t]});if(0<n.length){var s=Oc(t,n);Gc(i,Ef,Bf,[{names:n,values:s}],o)}(n=e.ib())&&(n=n.call(e,0))&&(n=Array.isArray(n)?n[0]:n,this.j&&(t.Style=n),(n=n.Ka())&&(t.name=n.Ka())),n=Pf[o[o.length-1].node.namespaceURI],t=Oc(t,n),Gc(i,Ef,Rc,t,o,n),t=o[0],(e=e.U())&&(e=Hc(e,!0,t)),Gc(i,Ef,Df,[e],o)}function hf(t,e,o){var i=e.da();(t={node:t}).layout=e.ja,t.stride=e.pa(),(e=e.L()).coordinates=i,i=Lf[o[o.length-1].node.namespaceURI],e=Oc(e,i),Gc(t,Tf,Rc,e,o,i)}function lf(t,e,o){var i=(e=e.Ud()).shift();Gc(t={node:t},jf,Uf,e,o),Gc(t,jf,Wf,[i],o)}function cf(t,e){bu(t,Math.round(1e6*e)/1e6)}(t=sy.prototype).Jg=function(t,e){var o=Nc(py,{Document:Sc(this.Jg,this),Folder:Sc(this.Jg,this),Placemark:xc(this.Rg,this),Style:this.kq.bind(this),StyleMap:this.jq.bind(this)});if(t=Dc([],o,t,e,this))return t},t.Rg=function(t,e){var o=Dc({geometry:null},Yy,t,e);if(o){var i=new lp;return null!==(t=t.getAttribute("id"))&&i.qc(t),e=e[0],(t=o.geometry)&&Hc(t,!1,e),i.Va(t),delete o.geometry,this.c&&i.sg(cy(o.Style,o.styleUrl,this.a,this.b,this.f)),delete o.Style,i.H(o),i}},t.kq=function(t,e){var o=t.getAttribute("id");null!==o&&(e=wy(t,e))&&((t=t.baseURI)&&"about:blank"!=t||(t=window.location.href),o=t?new URL("#"+o,t).href:"#"+o,this.b[o]=e)},t.jq=function(t,e){var o=t.getAttribute("id");null!==o&&(e=Dc(void 0,Qy,t,e))&&((t=t.baseURI)&&"about:blank"!=t||(t=window.location.href),o=t?new URL("#"+o,t).href:"#"+o,this.b[o]=e)},t.Lg=function(t,e){return zt(py,t.namespaceURI)&&(t=this.Rg(t,[Zc(this,t,e)]))?t:null},t.Kc=function(t,e){if(!zt(py,t.namespaceURI))return[];var o=t.localName;if("Document"==o||"Folder"==o)return(o=this.Jg(t,[Zc(this,t,e)]))?o:[];if("Placemark"==o)return(e=this.Rg(t,[Zc(this,t,e)]))?[e]:[];if("kml"==o){for(o=[],t=t.firstElementChild;t;t=t.nextElementSibling){var i=this.Kc(t,e);i&&Vt(o,i)}return o}return[]},t.cq=function(t){return bc(t)?$y(this,t):wc(t)?tf(this,t):"string"==typeof t?$y(this,t=Mc(t)):void 0},t.eq=function(t){var e=[];return bc(t)?Vt(e,ef(this,t)):wc(t)?Vt(e,of(this,t)):"string"==typeof t&&(t=Mc(t),Vt(e,ef(this,t))),e},t.hq=function(t){var e=[];return bc(t)?Vt(e,rf(this,t)):wc(t)?Vt(e,this.vf(t)):"string"==typeof t&&(t=Mc(t),Vt(e,rf(this,t))),e},t.vf=function(t){var e,o=[];for(e=t.firstElementChild;e;e=e.nextElementSibling)if(zt(py,e.namespaceURI)&&"Region"==e.localName){var i=Dc({},Ly,e,[]);o.push(i)}for(e=t.firstElementChild;e;e=e.nextElementSibling)t=e.localName,!zt(py,e.namespaceURI)||"Document"!=t&&"Folder"!=t&&"kml"!=t||Vt(o,this.vf(e));return o};var uf=Nc(py,["Document","Placemark"]),gf=Nc(py,{Document:Tc(function(t,e,o){Gc({node:t},yf,kf,e,o,void 0,this)}),Placemark:Tc(pf)}),yf=Nc(py,{Placemark:Tc(pf)}),ff=Nc(py,{Data:Tc(function(t,e,o){t.setAttribute("name",e.name),t={node:t},"object"==typeof(e=e.value)?(null!==e&&e.displayName&&Gc(t,ff,Rc,[e.displayName],o,["displayName"]),null!==e&&e.value&&Gc(t,ff,Rc,[e.value],o,["value"])):Gc(t,ff,Rc,[e],o,["value"])}),value:Tc(function(t,e){Mu(t,e)}),displayName:Tc(function(t,e){t.appendChild(Cc.createCDATASection(e))})}),df={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},vf=Nc(py,["href"],Nc(ay,["x","y","w","h"])),Af=Nc(py,{href:Tc(Mu)},Nc(ay,{x:Tc(bu),y:Tc(bu),w:Tc(bu),h:Tc(bu)})),Cf=Nc(py,["scale","heading","Icon","hotSpot"]),mf=Nc(py,{Icon:Tc(function(t,e,o){t={node:t};var i=vf[o[o.length-1].node.namespaceURI],r=Oc(e,i);Gc(t,Af,Rc,r,o,i),i=vf[ay[0]],r=Oc(e,i),Gc(t,Af,Nf,r,o,i)}),heading:Tc(bu),hotSpot:Tc(function(t,e){t.setAttribute("x",e.x),t.setAttribute("y",e.y),t.setAttribute("xunits",e.oh),t.setAttribute("yunits",e.ph)}),scale:Tc(cf)}),If=Nc(py,["color","scale"]),bf=Nc(py,{color:Tc(nf),scale:Tc(cf)}),wf=Nc(py,["color","width"]),Mf=Nc(py,{color:Tc(nf),width:Tc(bu)}),Sf=Nc(py,{LinearRing:Tc(hf)}),xf=Nc(py,{LineString:Tc(hf),Point:Tc(hf),Polygon:Tc(lf),GeometryCollection:Tc(sf)}),Pf=Nc(py,"name open visibility address phoneNumber description styleUrl Style".split(" ")),Ef=Nc(py,{ExtendedData:Tc(function(t,e,o){t={node:t};var i=e.names;e=e.values;for(var r=i.length,n=0;n<r;n++)Gc(t,ff,Gf,[{name:i[n],value:e[n]}],o)}),MultiGeometry:Tc(sf),LineString:Tc(hf),LinearRing:Tc(hf),Point:Tc(hf),Polygon:Tc(lf),Style:Tc(function(t,e,o){t={node:t};var i={},r=e.Fa(),n=e.Ga(),s=e.Y();e=e.Ka(),s instanceof ny&&(i.IconStyle=s),e&&(i.LabelStyle=e),n&&(i.LineStyle=n),r&&(i.PolyStyle=r),e=Rf[o[o.length-1].node.namespaceURI],i=Oc(i,e),Gc(t,Of,Rc,i,o,e)}),address:Tc(Mu),description:Tc(Mu),name:Tc(Mu),open:Tc(Iu),phoneNumber:Tc(Mu),styleUrl:Tc(Mu),visibility:Tc(Iu)}),Lf=Nc(py,["extrude","tessellate","altitudeMode","coordinates"]),Tf=Nc(py,{extrude:Tc(Iu),tessellate:Tc(Iu),altitudeMode:Tc(Mu),coordinates:Tc(function(t,e,o){var i,r=(o=o[o.length-1]).layout;o=o.stride,"XY"==r||"XYM"==r?i=2:"XYZ"==r||"XYZM"==r?i=3:N(!1,34);var n,s=e.length,a="";if(0<s){for(a+=e[0],r=1;r<i;++r)a+=","+e[r];for(n=o;n<s;n+=o)for(a+=" "+e[n],r=1;r<i;++r)a+=","+e[n+r]}Mu(t,a)})}),jf=Nc(py,{outerBoundaryIs:Tc(af),innerBoundaryIs:Tc(af)}),Ff=Nc(py,{color:Tc(nf)}),Rf=Nc(py,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),Of=Nc(py,{IconStyle:Tc(function(t,e,o){t={node:t};var i={},r=e.oc(),n=e.He(),s={href:e.b.l};if(r){s.w=r[0],s.h=r[1];var a=e.Vc(),p=e.bd();p&&n&&0!==p[0]&&p[1]!==r[1]&&(s.x=p[0],s.y=n[1]-(p[1]+r[1])),!a||a[0]===r[0]/2&&a[1]===r[1]/2||(i.hotSpot={x:a[0],oh:"pixels",y:r[1]-a[1],ph:"pixels"})}i.Icon=s,1!==(r=e.a)&&(i.scale=r),0!==(e=e.f)&&(i.heading=e),e=Cf[o[o.length-1].node.namespaceURI],i=Oc(i,e),Gc(t,mf,Rc,i,o,e)}),LabelStyle:Tc(function(t,e,o){t={node:t};var i={},r=e.Fa();r&&(i.color=r.b),(e=e.b)&&1!==e&&(i.scale=e),e=If[o[o.length-1].node.namespaceURI],i=Oc(i,e),Gc(t,bf,Rc,i,o,e)}),LineStyle:Tc(function(t,e,o){t={node:t};var i=wf[o[o.length-1].node.namespaceURI];e=Oc({color:e.a,width:e.c},i),Gc(t,Mf,Rc,e,o,i)}),PolyStyle:Tc(function(t,e,o){Gc({node:t},Ff,_f,[e.b],o)})});function Nf(t,e,o){return mc(ay[0],"gx:"+o)}function kf(t,e){return mc(e[e.length-1].node.namespaceURI,"Placemark")}function Df(t,e){if(t)return mc(e[e.length-1].node.namespaceURI,df[t.S()])}var _f=Fc("color"),Gf=Fc("Data"),Bf=Fc("ExtendedData"),Uf=Fc("innerBoundaryIs"),zf=Fc("Point"),Zf=Fc("LineString"),Vf=Fc("LinearRing"),Hf=Fc("Polygon"),Wf=Fc("outerBoundaryIs");function Xf(t,e,o,i,r){this.l=r,this.f=t,this.b=e,this.a=this.c=null,this.g=o,this.j=i,this.s=[1,0,0,1,0,0]}function Yf(t){zc.call(this),t=t||{},this.defaultDataProjection=new ht({code:"EPSG:3857",units:"tile-pixels"}),this.b=t.featureClass?t.featureClass:Xf,this.g=t.geometryName,this.f=t.layerName?t.layerName:"layer",this.c=t.layers?t.layers:null,this.a=null}function Kf(t,e,o){if(3===t){t={keys:[],values:[],features:[]};var i=o.Ua()+o.ga;o.Og(Jf,t,i),t.length=t.features.length,t.length&&(e[t.name]=t)}}function Jf(t,e,o){if(15===t)e.version=o.Ua();else if(1===t)e.name=o.Vg();else if(5===t)e.extent=o.Ua();else if(2===t)e.features.push(o.ga);else if(3===t)e.keys.push(o.Vg());else if(4===t){t=null;for(var i=o.Ua()+o.ga;o.ga<i;)t=1==(t=o.Ua()>>3)?o.Vg():2===t?o.Zp():3===t?o.Vp():4===t?o.lq():5===t?o.Ua():6===t?o.Ug():7===t?o.Tp():null;e.values.push(t)}}function qf(t,e,o){if(1==t)e.id=o.Ua();else if(2==t)for(t=o.Ua()+o.ga;o.ga<t;){var i=e.layer.keys[o.Ua()],r=e.layer.values[o.Ua()];e.properties[i]=r}else 3==t?e.type=o.Ua():4==t&&(e.geometry=o.ga)}function Qf(t,e,o){var i=o.type;if(0===i)return null;var r=o.id,n=o.properties;n[t.f]=o.layer.name;var s,a=[],p=[],h=p;e.ga=o.geometry,o=e.Ua()+e.ga;for(var l=1,c=0,u=0,g=0,y=0,f=0;e.ga<o;)c||(c=e.Ua(),l=7&c,c>>=3),c--,1===l||2===l?(u+=e.Ug(),g+=e.Ug(),1===l&&f<y&&(h.push(y),f=y),a.push(u,g),y+=2):7===l?f<y&&(a.push(a[f],a[f+1]),y+=2):N(!1,59);if(f<y&&h.push(y),e=p.length,1===i?s=1===e?"Point":"MultiPoint":2===i?s=1===e?"LineString":"MultiLineString":3===i&&(s="Polygon"),i=s,t.b===Xf)a=new t.b(i,a,p,n,r);else{if("Polygon"==i){for(i=[],h=e=s=0,o=p.length;h<o;++h)l=p[h],Qi(a,s,l,2)||(i.push(p.slice(e,h)),e=h),s=l;1<i.length?(p=i,i=new qc(null)):i=new or(null)}else i="Point"===i?new Vi(null):"LineString"===i?new yp(null):"Polygon"===i?new or(null):"MultiPoint"===i?new Jc(null):"MultiLineString"===i?new Yc(null):null;i.ba("XY",a,p),a=new t.b,t.g&&a.Lc(t.g),t=Hc(i,!1,Vc(t,void 0)),a.Va(t),a.qc(r),a.H(n)}return a}function $f(){pu.call(this),this.defaultDataProjection=Ft("EPSG:4326")}function td(t,e){e[e.length-1].le[t.getAttribute("k")]=t.getAttribute("v")}sy.prototype.bc=function(t,e){e=Vc(this,e);var o=mc(py[4],"kml");o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:gx",ay[0]),o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),o.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var i={node:o},r={};return 1<t.length?r.Document=t:1==t.length&&(r.Placemark=t[0]),t=uf[o.namespaceURI],r=Oc(r,t),Gc(i,gf,Rc,r,[e],t,this),o},ra.Ld=function(){},function(t){function e(t){this.tc=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.type=this.ga=0,this.length=this.tc.length}function s(t,e,o){return o?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}var o={read:function(t,e,o,i,r){var n=8*r-i-1,s=(1<<n)-1,a=s>>1,p=-7,h=o?-1:1,l=t[e+(r=o?r-1:0)];for(r+=h,o=l&(1<<-p)-1,l>>=-p,p+=n;0<p;o=256*o+t[e+r],r+=h,p-=8);for(n=o&(1<<-p)-1,o>>=-p,p+=i;0<p;n=256*n+t[e+r],r+=h,p-=8);if(0===o)o=1-a;else{if(o===s)return n?NaN:1/0*(l?-1:1);n+=Math.pow(2,i),o-=a}return(l?-1:1)*n*Math.pow(2,o-i)},write:function(t,e,o,i,r,n){var s,a=8*n-r-1,p=(1<<a)-1,h=p>>1,l=23===r?Math.pow(2,-24)-Math.pow(2,-77):0;n=i?0:n-1;var c=i?1:-1,u=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(e=isNaN(e)?1:0,i=p):(i=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-i))<1&&(i--,s*=2),2<=(e=1<=i+h?e+l/s:e+l*Math.pow(2,1-h))*s&&(i++,s/=2),p<=i+h?(e=0,i=p):1<=i+h?(e=(e*s-1)*Math.pow(2,r),i+=h):(e=e*Math.pow(2,h-1)*Math.pow(2,r),i=0));8<=r;t[o+n]=255&e,n+=c,e/=256,r-=8);for(i=i<<r|e,a+=r;0<a;t[o+n]=255&i,n+=c,i/=256,a-=8);t[o+n-c]|=128*u}};e.c=0,e.g=1,e.b=2,e.a=5,e.prototype={Og:function(t,e,o){for(o=o||this.length;this.ga<o;){var i=this.Ua(),r=i>>3,n=this.ga;this.type=7&i,t(r,e,this),this.ga===n&&this.Lq(i)}return e},Zp:function(){var t=o.read(this.tc,this.ga,!0,23,4);return this.ga+=4,t},Vp:function(){var t=o.read(this.tc,this.ga,!0,52,8);return this.ga+=8,t},Ua:function(t){var e=this.tc,o=e[this.ga++],i=127&o;return o<128?i:(o=e[this.ga++],i|=(127&o)<<7,o<128?i:(o=e[this.ga++],i|=(127&o)<<14,o<128?i:(o=e[this.ga++],i|=(127&o)<<21,o<128?i:(o=e[this.ga],function(t,e,o){var i=o.tc,r=i[o.ga++],n=(112&r)>>4;if(r<128)return s(t,n,e);if(r=i[o.ga++],n|=(127&r)<<3,r<128)return s(t,n,e);if(r=i[o.ga++],n|=(127&r)<<10,r<128)return s(t,n,e);if(r=i[o.ga++],n|=(127&r)<<17,r<128)return s(t,n,e);if(r=i[o.ga++],n|=(127&r)<<24,r<128)return s(t,n,e);if((r=i[o.ga++])<128)return s(t,n|(1&r)<<31,e);throw Error("Expected varint not more than 10 bytes")}(i|(15&o)<<28,t,this)))))},lq:function(){return this.Ua(!0)},Ug:function(){var t=this.Ua();return 1==t%2?(t+1)/-2:t/2},Tp:function(){return!!this.Ua()},Vg:function(){for(var t=this.Ua()+this.ga,e=this.tc,o="",i=this.ga;i<t;){var r=e[i],n=null,s=239<r?4:223<r?3:191<r?2:1;if(t<i+s)break;if(1===s)r<128&&(n=r);else if(2===s){var a=e[i+1];128==(192&a)&&(n=(31&r)<<6|63&a)<=127&&(n=null)}else if(3===s){a=e[i+1];var p=e[i+2];128==(192&a)&&128==(192&p)&&((n=(15&r)<<12|(63&a)<<6|63&p)<=2047||55296<=n&&n<=57343)&&(n=null)}else if(4===s){a=e[i+1],p=e[i+2];var h=e[i+3];128==(192&a)&&128==(192&p)&&128==(192&h)&&((n=(15&r)<<18|(63&a)<<12|(63&p)<<6|63&h)<=65535||1114112<=n)&&(n=null)}null===n?(n=65533,s=1):65535<n&&(n-=65536,o+=String.fromCharCode(n>>>10&1023|55296),n=56320|1023&n),o+=String.fromCharCode(n),i+=s}return this.ga=t,o},Lq:function(t){if((t&=7)===e.c)for(;127<this.tc[this.ga++];);else if(t===e.b)this.ga=this.Ua()+this.ga;else if(t===e.a)this.ga+=4;else{if(t!==e.g)throw Error("Unimplemented type: "+t);this.ga+=8}}},t.default=e}(ra.Ld=ra.Ld||{}),ra.Ld=ra.Ld.default,(t=Xf.prototype).get=function(t){return this.j[t]},t.pb=Xf.prototype.td=function(){return this.g},t.G=function(){return this.i||(this.i="Point"===this.f?x(this.b):P(this.b,0,this.b.length,2)),this.i},t.Td=function(){if(!this.c){var t=V(this.G());this.c=Yi(this.b,0,this.g,2,t,0)}return this.c},t.Fe=function(){return this.a||(this.a=up(this.b,0,this.b.length,2,.5)),this.a},t.Ge=function(){if(!this.a){this.a=[];for(var t=this.b,e=0,o=this.g,i=0,r=o.length;i<r;++i){var n=o[i];e=up(t,e,n,2,.5),Vt(this.a,e),e=n}}return this.a},t.Ao=function(){return this.l},t.Xb=function(){return this.b},t.da=Xf.prototype.Xb,t.U=function(){return this},t.Bo=function(){return this.j},t.Wd=Xf.prototype.U,t.pa=function(){return 2},t.ib=A,t.S=function(){return this.f},t.mb=function(t){var e=t.G();t=t.oe,e=W(t)/W(e);var o=this.s;mi(o,t[0],t[3],e,-e,0,0,0),hi(this.b,0,this.b.length,2,o,this.b)},s(Yf,zc),(t=Yf.prototype).cg=function(){return this.a},t.S=function(){return"arraybuffer"},t.Qa=function(t){var e,o=this.c,i=(t=new ra.Ld(t)).Og(Kf,{}),r=[];for(e in i)if(!o||-1!=o.indexOf(e)){for(var n,s=i[e],a=0,p=s.length;a<p;++a){var h=s;(n=t).ga=h.features[a];var l=n.Ua()+n.ga;h={layer:h,type:0,properties:{}},n.Og(qf,h,l),n=h,r.push(Qf(this,t,n))}this.a=s?[0,0,s.extent,s.extent]:null}return r},t.sb=function(){return this.defaultDataProjection},t.Sn=function(t){this.c=t},t.Yb=function(){},t.ed=function(){},t.Jd=function(){},t.md=function(){},t.ac=function(){},s($f,pu);var ed=[null],od=Nc(ed,{nd:function(t,e){e[e.length-1].zd.push(t.getAttribute("ref"))},tag:td}),id=Nc(ed,{node:function(t,e){var o=e[0],i=e[e.length-1],r=t.getAttribute("id"),n=[parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))];i.ki[r]=n,ee((t=Dc({le:{}},rd,t,e)).le)||(Hc(n=new Vi(n),!1,o),(o=new lp(n)).qc(r),o.H(t.le),i.features.push(o))},way:function(t,e){var o=t.getAttribute("id");t=Dc({id:o,zd:[],le:{}},od,t,e),e[e.length-1].lh.push(t)}}),rd=Nc(ed,{tag:td});function nd(t,e,o,i){var r;r=void 0!==i?i:[];for(var n=i=0;n<e;){var s=t[n++];for(r[i++]=t[n++],r[i++]=s,s=2;s<o;++s)r[i++]=t[n++]}r.length=i}function sd(t){t=t||{},zc.call(this),this.defaultDataProjection=Ft("EPSG:4326"),this.b=t.factor?t.factor:1e5,this.a=t.geometryLayout?t.geometryLayout:"XY"}function ad(t,e,o){var i,r,n=Array(e);for(i=0;i<e;++i)n[i]=0;var s=0;for(r=t.length;s<r;)for(i=0;i<e;++i,++s){var a=t[s],p=a-n[i];n[i]=a,t[s]=p}return hd(t,o||1e5)}function pd(t,e,o){var i,r,n=Array(e);for(i=0;i<e;++i)n[i]=0;for(t=ld(t,o||1e5),o=0,r=t.length;o<r;)for(i=0;i<e;++i,++o)n[i]+=t[o],t[o]=n[i];return t}function hd(t,e){var o;e=e||1e5;var i=0;for(o=t.length;i<o;++i)t[i]=Math.round(t[i]*e);for(e=0,i=t.length;e<i;++e)o=t[e],t[e]=o<0?~(o<<1):o<<1;for(e="",i=0,o=t.length;i<o;++i){for(var r,n=t[i],s="";32<=n;)r=63+(32|31&n),s+=String.fromCharCode(r),n>>=5;s+=String.fromCharCode(n+63),e+=s}return e}function ld(t,e){e=e||1e5;var o,i=[],r=0,n=0,s=0;for(o=t.length;s<o;++s){var a=t.charCodeAt(s)-63;r|=(31&a)<<n,a<32?(i.push(r),n=r=0):n+=5}for(t=0,r=i.length;t<r;++t)n=i[t],i[t]=1&n?~(n>>1):n>>1;for(t=0,r=i.length;t<r;++t)i[t]/=e;return i}function cd(t){t=t||{},zc.call(this),this.a=t.layerName,this.b=t.layers?t.layers:null,this.defaultDataProjection=Ft(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326")}function ud(t,e){var o,i,r=[],n=0;for(i=t.length;n<i;++n){var s=t[n];0<n&&r.pop(),o=0<=s?e[s]:e[~s].slice().reverse(),r.push.apply(r,o)}for(t=0,e=r.length;t<e;++t)r[t]=r[t].slice();return r}function gd(t,e,o,i,r,n,s){t=t.geometries;var a,p=[],h=0;for(a=t.length;h<a;++h)p[h]=yd(t[h],e,o,i,r,n,s);return p}function yd(t,e,o,i,r,n,s){var a=t.type,p=dd[a];return o="Point"===a||"MultiPoint"===a?p(t,o,i):p(t,e),(e=new lp).Va(Hc(o,!1,s)),void 0!==t.id&&e.qc(t.id),t=t.properties,r&&(t||(t={}),t[r]=n),t&&e.H(t),e}function fd(t,e,o){t[0]=t[0]*e[0]+o[0],t[1]=t[1]*e[1]+o[1]}$f.prototype.Kc=function(t,e){if(e=Zc(this,t,e),"osm"==t.localName){t=Dc({ki:{},lh:[],features:[]},id,t,[e]);for(var o=0;o<t.lh.length;o++){for(var i=t.lh[o],r=[],n=0,s=i.zd.length;n<s;n++)Vt(r,t.ki[i.zd[n]]);i.zd[0]==i.zd[i.zd.length-1]?(n=new or(null)).ba("XY",r,[r.length]):(n=new yp(null)).ba("XY",r),Hc(n,!1,e),(r=new lp(n)).qc(i.id),r.H(i.le),t.features.push(r)}if(t.features)return t.features}return[]},$f.prototype.mh=function(){},$f.prototype.bc=function(){},$f.prototype.re=function(){},s(sd,Ng),(t=sd.prototype).fe=function(t,e){return new lp(t=this.Gd(t,e))},t.Ng=function(t,e){return[this.fe(t,e)]},t.Gd=function(t,e){var o=Mi(this.a);return nd(t=pd(t,o,this.b),t.length,o,t),Hc(new yp(o=Di(t,0,t.length,o),this.a),!1,Vc(this,e))},t.pe=function(t,e){return(t=t.U())?this.Kd(t,e):(N(!1,40),"")},t.nh=function(t,e){return this.pe(t[0],e)},t.Kd=function(t,e){return t=Hc(t,!0,Vc(this,e)),e=t.da(),t=t.pa(),nd(e,e.length,t,e),ad(e,t,this.b)},s(cd,Wc),cd.prototype.Mg=function(t,e){if("Topology"==t.type){var o=null,i=null;if(t.transform){var r=t.transform;o=r.scale,i=r.translate}var n=t.arcs;if(r){r=o;var s,a=i,p=0;for(s=n.length;p<s;++p){var h,l=n[p],c=r,u=a,g=0,y=0,f=0;for(h=l.length;f<h;++f){var d=l[f];g+=d[0],y+=d[1],d[0]=g,d[1]=y,fd(d,c,u)}}}for(var v in r=[],t=t.objects,a=this.a,t)this.b&&-1==this.b.indexOf(v)||("GeometryCollection"===t[v].type?(p=t[v],r.push.apply(r,gd(p,n,o,i,a,v,e))):(p=t[v],r.push(yd(p,n,o,i,a,v,e))));return r}return[]},cd.prototype.Tg=function(){return this.defaultDataProjection};var dd={Point:function(t,e,o){return t=t.coordinates,e&&o&&fd(t,e,o),new Vi(t)},LineString:function(t,e){return new yp(t=ud(t.arcs,e))},Polygon:function(t,e){var o,i=[],r=0;for(o=t.arcs.length;r<o;++r)i[r]=ud(t.arcs[r],e);return new or(i)},MultiPoint:function(t,e,o){var i;if(t=t.coordinates,e&&o){var r=0;for(i=t.length;r<i;++r)fd(t[r],e,o)}return new Jc(t)},MultiLineString:function(t,e){var o,i=[],r=0;for(o=t.arcs.length;r<o;++r)i[r]=ud(t.arcs[r],e);return new Yc(i)},MultiPolygon:function(t,e){var o,i,r=[],n=0;for(i=t.arcs.length;n<i;++n){var s=t.arcs[n],a=[],p=0;for(o=s.length;p<o;++p)a[p]=ud(s[p],e);r[n]=a}return new qc(r)}};function vd(t){this.rc=t}function Ad(t,e){this.rc=t,this.b=Array.prototype.slice.call(arguments,1),N(2<=this.b.length,57)}function Cd(t){var e=["And"].concat(Array.prototype.slice.call(arguments));Ad.apply(this,e)}function md(t,e,o){this.rc="BBOX",this.geometryName=t,this.extent=e,this.srsName=o}function Id(t,e,o,i){this.rc=t,this.geometryName=e||"the_geom",this.geometry=o,this.srsName=i}function bd(t,e,o){Id.call(this,"Contains",t,e,o)}function wd(t,e){this.rc=t,this.b=e}function Md(t,e,o){wd.call(this,"During",t),this.a=e,this.g=o}function Sd(t,e,o,i){wd.call(this,t,e),this.g=o,this.a=i}function xd(t,e,o){Sd.call(this,"PropertyIsEqualTo",t,e,o)}function Pd(t,e){Sd.call(this,"PropertyIsGreaterThan",t,e)}function Ed(t,e){Sd.call(this,"PropertyIsGreaterThanOrEqualTo",t,e)}function Ld(t,e,o){Id.call(this,"Intersects",t,e,o)}function Td(t,e,o){wd.call(this,"PropertyIsBetween",t),this.a=e,this.g=o}function jd(t,e,o,i,r,n){wd.call(this,"PropertyIsLike",t),this.c=e,this.f=void 0!==o?o:"*",this.i=void 0!==i?i:".",this.g=void 0!==r?r:"!",this.a=n}function Fd(t){wd.call(this,"PropertyIsNull",t)}function Rd(t,e){Sd.call(this,"PropertyIsLessThan",t,e)}function Od(t,e){Sd.call(this,"PropertyIsLessThanOrEqualTo",t,e)}function Nd(t){this.rc="Not",this.condition=t}function kd(t,e,o){Sd.call(this,"PropertyIsNotEqualTo",t,e,o)}function Dd(t){var e=["Or"].concat(Array.prototype.slice.call(arguments));Ad.apply(this,e)}function _d(t,e,o){Id.call(this,"Within",t,e,o)}function Gd(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(Cd,e))}function Bd(t,e,o){return new md(t,e,o)}function Ud(t){t=t||{},this.c=t.featureType,this.a=t.featureNS,this.b=t.gmlFormat?t.gmlFormat:new Su,this.l=t.schemaLocation?t.schemaLocation:zd["1.1.0"],pu.call(this)}(t=cd.prototype).ld=function(){},t.qe=function(){},t.se=function(){},t.Qg=function(){},t.dd=function(){},s(Ad,vd),s(Cd,Ad),s(md,vd),s(Id,vd),s(bd,Id),s(wd,vd),s(Md,wd),s(Sd,wd),s(xd,Sd),s(Pd,Sd),s(Ed,Sd),s(Ld,Id),s(Td,wd),s(jd,wd),s(Fd,wd),s(Rd,Sd),s(Od,Sd),s(Nd,vd),s(kd,Sd),s(Dd,Ad),s(_d,Id),s(Ud,pu);var zd={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"};function Zd(t,e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return Hd(t,e)}Ud.prototype.Kc=function(t,e){var o={featureType:this.c,featureNS:this.a};return tt(o,Zc(this,t,e||{})),e=[o],this.b.b["http://www.opengis.net/gml"].featureMember=xc(cu.prototype.ge),(t=Dc([],this.b.b,t,e,this.b))||(t=[]),t},Ud.prototype.j=function(t){return bc(t)?Jd(t):wc(t)?Dc({},Kd,t,[]):"string"==typeof t?Jd(t=Mc(t)):void 0},Ud.prototype.f=function(t){return bc(t)?Zd(this,t):wc(t)?Hd(this,t):"string"==typeof t?Zd(this,t=Mc(t)):void 0};var Vd={"http://www.opengis.net/gml":{boundedBy:Lc(cu.prototype.rf,"bounds")}};function Hd(t,e){var o={},i=Cu(e.getAttribute("numberOfFeatures"));return o.numberOfFeatures=i,Dc(o,Vd,e,[],t.b)}var Wd={"http://www.opengis.net/wfs":{totalInserted:Lc(Au),totalUpdated:Lc(Au),totalDeleted:Lc(Au)}},Xd={"http://www.opengis.net/ogc":{FeatureId:xc(function(t){return t.getAttribute("fid")})}},Yd={"http://www.opengis.net/wfs":{Feature:function(t,e){kc(Xd,t,e)}}},Kd={"http://www.opengis.net/wfs":{TransactionSummary:Lc(function(t,e){return Dc({},Wd,t,e)},"transactionSummary"),InsertResults:Lc(function(t,e){return Dc([],Yd,t,e)},"insertIds")}};function Jd(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return Dc({},Kd,t,[])}var qd={"http://www.opengis.net/wfs":{PropertyName:Tc(Mu)}};function Qd(t,e){var o=mc("http://www.opengis.net/ogc","Filter"),i=mc("http://www.opengis.net/ogc","FeatureId");o.appendChild(i),i.setAttribute("fid",e),t.appendChild(o)}function $d(t,e){return t=(t||"feature")+":",0===e.indexOf(t)?e:t+e}var tv={"http://www.opengis.net/wfs":{Insert:Tc(function(t,e,o){var i=o[o.length-1],r=i.gmlVersion;if(i=mc(i.featureNS,i.featureType),t.appendChild(i),2===r){t=Ou.prototype,(r=e.c)&&i.setAttribute("fid",r);var n=(r=o[o.length-1]).featureNS,s=e.a;r.tb||(r.tb={},r.tb[n]={});var a=e.L();e=[];var p=[];for(l in a){var h=a[l];null!==h&&(e.push(l),p.push(h),l==s||h instanceof bi?l in r.tb[n]||(r.tb[n][l]=Tc(t.ui,t)):l in r.tb[n]||(r.tb[n][l]=Tc(Mu)))}var l=tt({},r);l.node=i,Gc(l,r.tb,Fc(void 0,n),p,o,e)}else Su.prototype.Ci(i,e,o)}),Update:Tc(function(t,e,o){var i=o[o.length-1];N(void 0!==e.c,27);var r=i.featurePrefix,n=i.featureNS,s=e.a;if(t.setAttribute("typeName",$d(r,i.featureType)),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+r,n),void 0!==(r=e.c)){n=e.P();for(var a=[],p=0,h=n.length;p<h;p++){var l=e.get(n[p]);if(void 0!==l){var c=n[p];l instanceof bi&&(c=s),a.push({name:c,value:l})}}Gc({gmlVersion:i.gmlVersion,node:t,hasZ:i.hasZ,srsName:i.srsName},tv,Fc("Property"),a,o),Qd(t,r)}}),Delete:Tc(function(t,e,o){o=o[o.length-1],N(void 0!==e.c,26);var i=o.featurePrefix,r=o.featureNS;t.setAttribute("typeName",$d(i,o.featureType)),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+i,r),void 0!==(e=e.c)&&Qd(t,e)}),Property:Tc(function(t,e,o){var i=mc("http://www.opengis.net/wfs","Name"),r=o[o.length-1].gmlVersion;t.appendChild(i),Mu(i,e.name),void 0!==e.value&&null!==e.value&&(i=mc("http://www.opengis.net/wfs","Value"),t.appendChild(i),e.value instanceof bi?2===r?Ou.prototype.ui(i,e.value,o):Su.prototype.Yc(i,e.value,o):Mu(i,e.value))}),Native:Tc(function(t,e){e.Uq&&t.setAttribute("vendorId",e.Uq),void 0!==e.qq&&t.setAttribute("safeToIgnore",e.qq),void 0!==e.value&&Mu(t,e.value)})}};function ev(t,e,o){t={node:t},e=e.b;for(var i=0,r=e.length;i<r;++i){var n=e[i];Gc(t,av,Fc(n.rc),[n],o)}}function ov(t,e){void 0!==e.a&&t.setAttribute("matchCase",e.a.toString()),rv(t,e.b),nv(t,""+e.g)}function iv(t,e,o){Mu(t=mc("http://www.opengis.net/ogc",t),o),e.appendChild(t)}function rv(t,e){iv("PropertyName",t,e)}function nv(t,e){iv("Literal",t,e)}function sv(t,e){var o=mc("http://www.opengis.net/gml","TimeInstant");t.appendChild(o),t=mc("http://www.opengis.net/gml","timePosition"),o.appendChild(t),Mu(t,e)}var av={"http://www.opengis.net/wfs":{Query:Tc(function(t,e,o){var i=o[o.length-1],r=i.featurePrefix,n=i.featureNS,s=i.propertyNames,a=i.srsName;t.setAttribute("typeName",r?$d(r,e):e),a&&t.setAttribute("srsName",a),n&&t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+r,n),(e=tt({},i)).node=t,Gc(e,qd,Fc("PropertyName"),s,o),(i=i.filter)&&(s=mc("http://www.opengis.net/ogc","Filter"),t.appendChild(s),Gc({node:s},av,Fc(i.rc),[i],o))})},"http://www.opengis.net/ogc":{During:Tc(function(t,e){var o=mc("http://www.opengis.net/fes","ValueReference");Mu(o,e.b),t.appendChild(o),o=mc("http://www.opengis.net/gml","TimePeriod"),t.appendChild(o),t=mc("http://www.opengis.net/gml","begin"),o.appendChild(t),sv(t,e.a),t=mc("http://www.opengis.net/gml","end"),o.appendChild(t),sv(t,e.g)}),And:Tc(ev),Or:Tc(ev),Not:Tc(function(t,e,o){e=e.condition,Gc({node:t},av,Fc(e.rc),[e],o)}),BBOX:Tc(function(t,e,o){o[o.length-1].srsName=e.srsName,rv(t,e.geometryName),Su.prototype.Yc(t,e.extent,o)}),Contains:Tc(function(t,e,o){o[o.length-1].srsName=e.srsName,rv(t,e.geometryName),Su.prototype.Yc(t,e.geometry,o)}),Intersects:Tc(function(t,e,o){o[o.length-1].srsName=e.srsName,rv(t,e.geometryName),Su.prototype.Yc(t,e.geometry,o)}),Within:Tc(function(t,e,o){o[o.length-1].srsName=e.srsName,rv(t,e.geometryName),Su.prototype.Yc(t,e.geometry,o)}),PropertyIsEqualTo:Tc(ov),PropertyIsNotEqualTo:Tc(ov),PropertyIsLessThan:Tc(ov),PropertyIsLessThanOrEqualTo:Tc(ov),PropertyIsGreaterThan:Tc(ov),PropertyIsGreaterThanOrEqualTo:Tc(ov),PropertyIsNull:Tc(function(t,e){rv(t,e.b)}),PropertyIsBetween:Tc(function(t,e){rv(t,e.b);var o=mc("http://www.opengis.net/ogc","LowerBoundary");t.appendChild(o),nv(o,""+e.a),o=mc("http://www.opengis.net/ogc","UpperBoundary"),t.appendChild(o),nv(o,""+e.g)}),PropertyIsLike:Tc(function(t,e){t.setAttribute("wildCard",e.f),t.setAttribute("singleChar",e.i),t.setAttribute("escapeChar",e.g),void 0!==e.a&&t.setAttribute("matchCase",e.a.toString()),rv(t,e.b),nv(t,""+e.c)})}};function pv(t){t=t||{},zc.call(this),this.b=void 0!==t.splitCollection&&t.splitCollection}function hv(t){return 0===(t=t.W()).length?"":t.join(" ")}function lv(t){t=t.W();for(var e=[],o=0,i=t.length;o<i;++o)e.push(t[o].join(" "));return e.join(",")}function cv(t){var e=[];t=t.Ud();for(var o=0,i=t.length;o<i;++o)e.push("("+lv(t[o])+")");return e.join(",")}function uv(t){var e=t.S(),o=(0,gv[e])(t);if(e=e.toUpperCase(),t instanceof wi){t=t.ja;var i="";"XYZ"!==t&&"XYZM"!==t||(i+="Z"),"XYM"!==t&&"XYZM"!==t||(i+="M"),0<(t=i).length&&(e+=" "+t)}return 0===o.length?e+" EMPTY":e+"("+o+")"}Ud.prototype.s=function(t){var e=mc("http://www.opengis.net/wfs","GetFeature");if(e.setAttribute("service","WFS"),e.setAttribute("version","1.1.0"),t){t.handle&&e.setAttribute("handle",t.handle),t.outputFormat&&e.setAttribute("outputFormat",t.outputFormat),void 0!==t.maxFeatures&&e.setAttribute("maxFeatures",t.maxFeatures),t.resultType&&e.setAttribute("resultType",t.resultType),void 0!==t.startIndex&&e.setAttribute("startIndex",t.startIndex),void 0!==t.count&&e.setAttribute("count",t.count);var o=t.filter;if(t.bbox){N(t.geometryName,12);var i=Bd(t.geometryName,t.bbox,t.srsName);o=o?Gd(o,i):i}}return e.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.l),o={node:e,srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.a,featurePrefix:t.featurePrefix,geometryName:t.geometryName,filter:o,propertyNames:t.propertyNames?t.propertyNames:[]},N(Array.isArray(t.featureTypes),11),t=t.featureTypes,(i=tt({},(o=[o])[o.length-1])).node=e,Gc(i,av,Fc("Query"),t,o),e},Ud.prototype.v=function(t,e,o,i){var r=[],n=mc("http://www.opengis.net/wfs","Transaction"),s=i.version?i.version:"1.1.0",a="1.0.0"===s?2:3;if(n.setAttribute("service","WFS"),n.setAttribute("version",s),i){var p=i.gmlOptions?i.gmlOptions:{};i.handle&&n.setAttribute("handle",i.handle)}n.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",zd[s]);var h=i.featurePrefix?i.featurePrefix:"feature";return t&&(s={node:n,featureNS:i.featureNS,featureType:i.featureType,featurePrefix:h,gmlVersion:a,hasZ:i.hasZ,srsName:i.srsName},tt(s,p),Gc(s,tv,Fc("Insert"),t,r)),e&&(s={node:n,featureNS:i.featureNS,featureType:i.featureType,featurePrefix:h,gmlVersion:a,hasZ:i.hasZ,srsName:i.srsName},tt(s,p),Gc(s,tv,Fc("Update"),e,r)),o&&Gc({node:n,featureNS:i.featureNS,featureType:i.featureType,featurePrefix:h,gmlVersion:a,srsName:i.srsName},tv,Fc("Delete"),o,r),i.nativeElements&&Gc({node:n,featureNS:i.featureNS,featureType:i.featureType,featurePrefix:h,gmlVersion:a,srsName:i.srsName},tv,Fc("Native"),i.nativeElements,r),n},Ud.prototype.Sg=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.uf(t);return null},Ud.prototype.uf=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild)for(t=(t=t.firstElementChild.firstElementChild).firstElementChild;t;t=t.nextElementSibling)if(0!==t.childNodes.length&&(1!==t.childNodes.length||3!==t.firstChild.nodeType)){var e=[{}];return this.b.rf(t,e),Ft(e.pop().srsName)}return null},s(pv,Ng);var gv={Point:hv,LineString:lv,Polygon:cv,MultiPoint:function(t){var e=[];t=t.de();for(var o=0,i=t.length;o<i;++o)e.push("("+hv(t[o])+")");return e.join(",")},MultiLineString:function(t){var e=[];t=t.wd();for(var o=0,i=t.length;o<i;++o)e.push("("+lv(t[o])+")");return e.join(",")},MultiPolygon:function(t){var e=[];t=t.Vd();for(var o=0,i=t.length;o<i;++o)e.push("("+cv(t[o])+")");return e.join(",")},GeometryCollection:function(t){var e=[];t=t.vd();for(var o=0,i=t.length;o<i;++o)e.push(uv(t[o]));return e.join(",")}};function yv(t){this.g=t,this.a="XY"}function fv(t){t.b=function t(e){var o=e.a.charAt(++e.b),i={position:e.b,value:o};if("("==o)i.type=2;else if(","==o)i.type=5;else if(")"==o)i.type=3;else if("0"<=o&&o<="9"||"."==o||"-"==o){i.type=4,o=e.b;var r=!1,n=!1;do{"."==s?r=!0:"e"!=s&&"E"!=s||(n=!0);var s=e.a.charAt(++e.b)}while("0"<=s&&s<="9"||"."==s&&(void 0===r||!r)||!n&&("e"==s||"E"==s)||n&&("-"==s||"+"==s));e=parseFloat(e.a.substring(o,e.b--)),i.value=e}else if("a"<=o&&o<="z"||"A"<=o&&o<="Z"){for(i.type=1,o=e.b;"a"<=(s=e.a.charAt(++e.b))&&s<="z"||"A"<=s&&s<="Z";);e=e.a.substring(o,e.b--).toUpperCase(),i.value=e}else{if(" "==o||"\t"==o||"\r"==o||"\n"==o)return t(e);if(""!==o)throw Error("Unexpected character: "+o);i.type=6}return i}(t.g)}function dv(t,e){return(e=t.b.type==e)&&fv(t),e}function vv(t){for(var e=[],o=t.a.length,i=0;i<o;++i){var r=t.b;if(!dv(t,4))break;e.push(r.value)}if(e.length==o)return e;throw Error(Iv(t))}function Av(t){for(var e=[vv(t)];dv(t,5);)e.push(vv(t));return e}function Cv(t){for(var e=[t.Gg()];dv(t,5);)e.push(t.Gg());return e}function mv(t){var e=1==t.b.type&&"EMPTY"==t.b.value;return e&&fv(t),e}function Iv(t){return"Unexpected `"+t.b.value+"` at position "+t.b.position+" in `"+t.g.a+"`"}(t=pv.prototype).fe=function(t,e){return(t=this.Gd(t,e))?((e=new lp).Va(t),e):null},t.Ng=function(t,e){var o=[];t=this.Gd(t,e),o=this.b&&"GeometryCollection"==t.S()?t.a:[t],e=[];for(var i=0,r=o.length;i<r;++i)(t=new lp).Va(o[i]),e.push(t);return e},t.Gd=function(t,e){return fv(t=new yv(new function(t){this.a=t,this.b=-1}(t))),(t=function t(e){var o=e.b;if(dv(e,1)){o=o.value;var i="XY",r=e.b;if(1==e.b.type&&("Z"===(r=r.value)?i="XYZ":"M"===r?i="XYM":"ZM"===r&&(i="XYZM"),"XY"!==i&&fv(e)),e.a=i,"GEOMETRYCOLLECTION"==o){t:{if(dv(e,2)){for(o=[];o.push(t(e)),dv(e,5););if(dv(e,3)){e=o;break t}}else if(mv(e)){e=[];break t}throw Error(Iv(e))}return new xg(e)}if(r=wv[o],i=bv[o],!r||!i)throw Error("Invalid geometry type: "+o);return o=r.call(e),new i(o,e.a)}throw Error(Iv(e))}(t))?Hc(t,!1,e):null},t.pe=function(t,e){return(t=t.U())?this.Kd(t,e):""},t.nh=function(t,e){if(1==t.length)return this.pe(t[0],e);for(var o=[],i=0,r=t.length;i<r;++i)o.push(t[i].U());return t=new xg(o),this.Kd(t,e)},t.Kd=function(t,e){return uv(Hc(t,!0,e))},(t=yv.prototype).Hg=function(){if(dv(this,2)){var t=vv(this);if(dv(this,3))return t}else if(mv(this))return null;throw Error(Iv(this))},t.Gg=function(){if(dv(this,2)){var t=Av(this);if(dv(this,3))return t}else if(mv(this))return[];throw Error(Iv(this))},t.Ig=function(){if(dv(this,2)){var t=Cv(this);if(dv(this,3))return t}else if(mv(this))return[];throw Error(Iv(this))},t.Hp=function(){if(dv(this,2)){var t;if(2==this.b.type)for(t=[this.Hg()];dv(this,5);)t.push(this.Hg());else t=Av(this);if(dv(this,3))return t}else if(mv(this))return[];throw Error(Iv(this))},t.Gp=function(){if(dv(this,2)){var t=Cv(this);if(dv(this,3))return t}else if(mv(this))return[];throw Error(Iv(this))},t.Ip=function(){if(dv(this,2)){for(var t=[this.Ig()];dv(this,5);)t.push(this.Ig());if(dv(this,3))return t}else if(mv(this))return[];throw Error(Iv(this))};var bv={POINT:Vi,LINESTRING:yp,POLYGON:or,MULTIPOINT:Jc,MULTILINESTRING:Yc,MULTIPOLYGON:qc},wv={POINT:yv.prototype.Hg,LINESTRING:yv.prototype.Gg,POLYGON:yv.prototype.Ig,MULTIPOINT:yv.prototype.Hp,MULTILINESTRING:yv.prototype.Gp,MULTIPOLYGON:yv.prototype.Ip};function Mv(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")}function Sv(){}function xv(){this.version=void 0}function Pv(t,e){return Dc({},Xv,t,e)}function Ev(t,e){return Dc({},Zv,t,e)}function Lv(t,e){if(e=Pv(t,e))return t=[Cu(t.getAttribute("width")),Cu(t.getAttribute("height"))],e.size=t,e}function Tv(t,e){return Dc([],Yv,t,e)}Sv.prototype.read=function(t){return bc(t)?this.a(t):wc(t)?this.b(t):"string"==typeof t?(t=Mc(t),this.a(t)):null},s(xv,Sv),xv.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},xv.prototype.b=function(t){return this.version=t.getAttribute("version").trim(),(t=Dc({version:this.version},Fv,t,[]))?t:null};var jv=[null,"http://www.opengis.net/wms"],Fv=Nc(jv,{Service:Lc(function(t,e){return Dc({},Ov,t,e)}),Capability:Lc(function(t,e){return Dc({},Rv,t,e)})}),Rv=Nc(jv,{Request:Lc(function(t,e){return Dc({},zv,t,e)}),Exception:Lc(function(t,e){return Dc([],_v,t,e)}),Layer:Lc(function(t,e){return Dc({},Gv,t,e)})}),Ov=Nc(jv,{Name:Lc(mu),Title:Lc(mu),Abstract:Lc(mu),KeywordList:Lc(Tv),OnlineResource:Lc(Mv),ContactInformation:Lc(function(t,e){return Dc({},Nv,t,e)}),Fees:Lc(mu),AccessConstraints:Lc(mu),LayerLimit:Lc(Au),MaxWidth:Lc(Au),MaxHeight:Lc(Au)}),Nv=Nc(jv,{ContactPersonPrimary:Lc(function(t,e){return Dc({},kv,t,e)}),ContactPosition:Lc(mu),ContactAddress:Lc(function(t,e){return Dc({},Dv,t,e)}),ContactVoiceTelephone:Lc(mu),ContactFacsimileTelephone:Lc(mu),ContactElectronicMailAddress:Lc(mu)}),kv=Nc(jv,{ContactPerson:Lc(mu),ContactOrganization:Lc(mu)}),Dv=Nc(jv,{AddressType:Lc(mu),Address:Lc(mu),City:Lc(mu),StateOrProvince:Lc(mu),PostCode:Lc(mu),Country:Lc(mu)}),_v=Nc(jv,{Format:xc(mu)}),Gv=Nc(jv,{Name:Lc(mu),Title:Lc(mu),Abstract:Lc(mu),KeywordList:Lc(Tv),CRS:Ec(mu),EX_GeographicBoundingBox:Lc(function(t,e){var o=Dc({},Uv,t,e);if(o){t=o.westBoundLongitude,e=o.southBoundLatitude;var i=o.eastBoundLongitude;if(o=o.northBoundLatitude,void 0!==t&&void 0!==e&&void 0!==i&&void 0!==o)return[t,e,i,o]}}),BoundingBox:Ec(function(t){var e=[vu(t.getAttribute("minx")),vu(t.getAttribute("miny")),vu(t.getAttribute("maxx")),vu(t.getAttribute("maxy"))],o=[vu(t.getAttribute("resx")),vu(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:e,res:o}}),Dimension:Ec(function(t){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:yu(t.getAttribute("multipleValues")),nearestValue:yu(t.getAttribute("nearestValue")),current:yu(t.getAttribute("current")),values:mu(t)}}),Attribution:Lc(function(t,e){return Dc({},Bv,t,e)}),AuthorityURL:Ec(function(t,e){if(e=Pv(t,e))return e.name=t.getAttribute("name"),e}),Identifier:Ec(mu),MetadataURL:Ec(function(t,e){if(e=Pv(t,e))return e.type=t.getAttribute("type"),e}),DataURL:Ec(Pv),FeatureListURL:Ec(Pv),Style:Ec(function(t,e){return Dc({},Wv,t,e)}),MinScaleDenominator:Lc(du),MaxScaleDenominator:Lc(du),Layer:Ec(function(t,e){var o=e[e.length-1],i=Dc({},Gv,t,e);if(i)return void 0===(e=yu(t.getAttribute("queryable")))&&(e=o.queryable),i.queryable=void 0!==e&&e,void 0===(e=Cu(t.getAttribute("cascaded")))&&(e=o.cascaded),i.cascaded=e,void 0===(e=yu(t.getAttribute("opaque")))&&(e=o.opaque),i.opaque=void 0!==e&&e,void 0===(e=yu(t.getAttribute("noSubsets")))&&(e=o.noSubsets),i.noSubsets=void 0!==e&&e,(e=vu(t.getAttribute("fixedWidth")))||(e=o.fixedWidth),i.fixedWidth=e,(t=vu(t.getAttribute("fixedHeight")))||(t=o.fixedHeight),i.fixedHeight=t,["Style","CRS","AuthorityURL"].forEach(function(t){t in o&&(i[t]=(i[t]||[]).concat(o[t]))}),"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach(function(t){t in i||(i[t]=o[t])}),i})}),Bv=Nc(jv,{Title:Lc(mu),OnlineResource:Lc(Mv),LogoURL:Lc(Lv)}),Uv=Nc(jv,{westBoundLongitude:Lc(du),eastBoundLongitude:Lc(du),southBoundLatitude:Lc(du),northBoundLatitude:Lc(du)}),zv=Nc(jv,{GetCapabilities:Lc(Ev),GetMap:Lc(Ev),GetFeatureInfo:Lc(Ev)}),Zv=Nc(jv,{Format:Ec(mu),DCPType:Ec(function(t,e){return Dc({},Vv,t,e)})}),Vv=Nc(jv,{HTTP:Lc(function(t,e){return Dc({},Hv,t,e)})}),Hv=Nc(jv,{Get:Lc(Pv),Post:Lc(Pv)}),Wv=Nc(jv,{Name:Lc(mu),Title:Lc(mu),Abstract:Lc(mu),LegendURL:Ec(Lv),StyleSheetURL:Lc(Pv),StyleURL:Lc(Pv)}),Xv=Nc(jv,{Format:Lc(mu),OnlineResource:Lc(Mv)}),Yv=Nc(jv,{Keyword:xc(mu)});function Kv(t){t=t||{},this.a="http://mapserver.gis.umn.edu/mapserver",this.b=new Ou,this.c=t.layers?t.layers:null,pu.call(this)}function Jv(){}s(Kv,pu),Kv.prototype.Kc=function(t,e){var o={};e&&tt(o,Zc(this,t,e)),o=[o],t.setAttribute("namespaceURI",this.a);var i=t.localName;if(e=[],0!==t.childNodes.length){if("msGMLOutput"==i)for(var r=0,n=t.childNodes.length;r<n;r++){var s=t.childNodes[r];if(s.nodeType===Node.ELEMENT_NODE){var a=o[0],p=s.localName.replace("_layer","");if(!this.c||zt(this.c,p)){p+="_feature",a.featureType=p,a.featureNS=this.a;var h={};h[p]=xc(this.b.Kg,this.b),a=Nc([a.featureNS,null],h),s.setAttribute("namespaceURI",this.a),(s=Dc([],a,s,o,this.b))&&Vt(e,s)}}}"FeatureCollection"==i&&(t=Dc([],this.b.b,t,[{}],this.b))&&(e=t)}return e},Kv.prototype.mh=function(){},Kv.prototype.bc=function(){},Kv.prototype.re=function(){},s(Jv,Sv),Jv.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},Jv.prototype.b=function(t){return(t=Dc({},Qv,t,[]))?t:null};var qv=[null,"http://www.opengis.net/ows/1.1"],Qv=Nc(qv,{ServiceIdentification:Lc(function(t,e){return Dc({},lA,t,e)}),ServiceProvider:Lc(function(t,e){return Dc({},cA,t,e)}),OperationsMetadata:Lc(function(t,e){return Dc({},sA,t,e)})}),$v=Nc(qv,{DeliveryPoint:Lc(mu),City:Lc(mu),AdministrativeArea:Lc(mu),PostalCode:Lc(mu),Country:Lc(mu),ElectronicMailAddress:Lc(mu)}),tA=Nc(qv,{Value:Ec(function(t){return mu(t)})}),eA=Nc(qv,{AllowedValues:Lc(function(t,e){return Dc({},tA,t,e)})}),oA=Nc(qv,{Phone:Lc(function(t,e){return Dc({},aA,t,e)}),Address:Lc(function(t,e){return Dc({},$v,t,e)})}),iA=Nc(qv,{HTTP:Lc(function(t,e){return Dc({},rA,t,e)})}),rA=Nc(qv,{Get:Ec(function(t,e){var o=Mv(t);if(o)return Dc({href:o},pA,t,e)}),Post:void 0}),nA=Nc(qv,{DCP:Lc(function(t,e){return Dc({},iA,t,e)})}),sA=Nc(qv,{Operation:function(t,e){var o=t.getAttribute("name");(t=Dc({},nA,t,e))&&(e[e.length-1][o]=t)}}),aA=Nc(qv,{Voice:Lc(mu),Facsimile:Lc(mu)}),pA=Nc(qv,{Constraint:Ec(function(t,e){var o=t.getAttribute("name");if(o)return Dc({name:o},eA,t,e)})}),hA=Nc(qv,{IndividualName:Lc(mu),PositionName:Lc(mu),ContactInfo:Lc(function(t,e){return Dc({},oA,t,e)})}),lA=Nc(qv,{Abstract:Lc(mu),AccessConstraints:Lc(mu),Fees:Lc(mu),Title:Lc(mu),ServiceTypeVersion:Lc(mu),ServiceType:Lc(mu)}),cA=Nc(qv,{ProviderName:Lc(mu),ProviderSite:Lc(Mv),ServiceContact:Lc(function(t,e){return Dc({},hA,t,e)})});function uA(){this.g=new Jv}function gA(t){var e=mu(t).split(" ");if(e&&2==e.length&&(t=+e[0],e=+e[1],!isNaN(t)&&!isNaN(e)))return[t,e]}s(uA,Sv),uA.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},uA.prototype.b=function(t){var e=t.getAttribute("version").trim(),o=this.g.b(t);return o?(o.version=e,(o=Dc(o,dA,t,[]))?o:null):null};var yA=[null,"http://www.opengis.net/wmts/1.0"],fA=[null,"http://www.opengis.net/ows/1.1"],dA=Nc(yA,{Contents:Lc(function(t,e){return Dc({},vA,t,e)})}),vA=Nc(yA,{Layer:Ec(function(t,e){return Dc({},AA,t,e)}),TileMatrixSet:Ec(function(t,e){return Dc({},SA,t,e)})}),AA=Nc(yA,{Style:Ec(function(t,e){if(e=Dc({},CA,t,e))return t="true"===t.getAttribute("isDefault"),e.isDefault=t,e}),Format:Ec(mu),TileMatrixSetLink:Ec(function(t,e){return Dc({},mA,t,e)}),Dimension:Ec(function(t,e){return Dc({},wA,t,e)}),ResourceURL:Ec(function(t){var e=t.getAttribute("format"),o=t.getAttribute("template");t=t.getAttribute("resourceType");var i={};return e&&(i.format=e),o&&(i.template=o),t&&(i.resourceType=t),i})},Nc(fA,{Title:Lc(mu),Abstract:Lc(mu),WGS84BoundingBox:Lc(function(t,e){if(2==(t=Dc([],MA,t,e)).length)return b(t)}),Identifier:Lc(mu)})),CA=Nc(yA,{LegendURL:Ec(function(t){var e={};return e.format=t.getAttribute("format"),e.href=Mv(t),e})},Nc(fA,{Title:Lc(mu),Identifier:Lc(mu)})),mA=Nc(yA,{TileMatrixSet:Lc(mu),TileMatrixSetLimits:Lc(function(t,e){return Dc([],IA,t,e)})}),IA=Nc(yA,{TileMatrixLimits:xc(function(t,e){return Dc({},bA,t,e)})}),bA=Nc(yA,{TileMatrix:Lc(mu),MinTileRow:Lc(Au),MaxTileRow:Lc(Au),MinTileCol:Lc(Au),MaxTileCol:Lc(Au)}),wA=Nc(yA,{Default:Lc(mu),Value:Ec(mu)},Nc(fA,{Identifier:Lc(mu)})),MA=Nc(fA,{LowerCorner:xc(gA),UpperCorner:xc(gA)}),SA=Nc(yA,{WellKnownScaleSet:Lc(mu),TileMatrix:Ec(function(t,e){return Dc({},xA,t,e)})},Nc(fA,{SupportedCRS:Lc(mu),Identifier:Lc(mu)})),xA=Nc(yA,{TopLeftCorner:Lc(gA),ScaleDenominator:Lc(du),TileWidth:Lc(Au),TileHeight:Lc(Au),MatrixWidth:Lc(Au),MatrixHeight:Lc(Au)},Nc(fA,{Identifier:Lc(mu)}));function PA(t,e,o){wi.call(this),this.hh(t,e||0,o)}function EA(t){var e=t.A[t.a]-t.A[0];return t=t.A[t.a+1]-t.A[1],e*e+t*t}function LA(t){t=t||{},Zr.call(this,{handleEvent:ai}),this.j=t.formatConstructors?t.formatConstructors:[],this.s=t.projection?Ft(t.projection):null,this.a=null,this.f=t.source||null,this.target=t.target?t.target:null}function TA(t){var e;t=t.dataTransfer.files;var o=0;for(e=t.length;o<e;++o){var i=t.item(o),r=new FileReader;r.addEventListener("load",this.l.bind(this,i)),r.readAsText(i)}}function jA(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}function FA(t){var e=t.v;e&&(e=t.target?t.target:e.a,t.a=[ve(e,"drop",TA,t),ve(e,"dragenter",jA,t),ve(e,"dragover",jA,t),ve(e,"drop",jA,t)])}function RA(t){t.a&&(t.a.forEach(me),t.a=null)}s(PA,wi),(t=PA.prototype).clone=function(){var t=new PA(null);return Si(t,this.ja,this.A.slice()),t.u(),t},t.Nb=function(t,e,o,i){var r=this.A;t-=r[0];var n=e-r[1];if((e=t*t+n*n)<i){if(0===e)for(i=0;i<this.a;++i)o[i]=r[i];else for(i=this.Bd()/Math.sqrt(e),o[0]=r[0]+i*t,o[1]=r[1]+i*n,i=2;i<this.a;++i)o[i]=r[i];return o.length=this.a,e}return i},t.Zc=function(t,e){var o=this.A;return t-=o[0],e-=o[1],t*t+e*e<=EA(this)},t.xa=function(){return this.A.slice(0,this.a)},t.Ae=function(t){var e=this.A,o=e[this.a]-e[0];return z(e[0]-o,e[1]-o,e[0]+o,e[1]+o,t)},t.Bd=function(){return Math.sqrt(EA(this))},t.S=function(){return"Circle"},t.$a=function(t){var e=this.G();return!!te(t,e)&&(e=this.xa(),t[0]<=e[0]&&t[2]>=e[0]||t[1]<=e[1]&&t[3]>=e[1]||F(t,this.Bb,this))},t.ub=function(t){var e,o=this.a,i=t.slice();for(i[o]=i[0]+(this.A[o]-this.A[0]),e=1;e<o;++e)i[o+e]=t[e];Si(this,this.ja,i),this.u()},t.hh=function(t,e,o){if(t){var i;for(xi(this,o,t,0),this.A||(this.A=[]),o=this.A,t=Oi(o,t),o[t++]=o[0]+e,e=1,i=this.a;e<i;++e)o[t++]=o[e];o.length=t}else Si(this,"XY",null);this.u()},t.W=function(){},t.na=function(){},t.fd=function(t){this.A[this.a]=this.A[0]+t,this.u()},s(LA,Zr),LA.prototype.l=function(t,e){e=e.target.result;var o=this.v,i=this.s;i||(i=o.aa().v),o=this.j;var r,n=[],s=0;for(r=o.length;s<r;++s){var a=new o[s],p={featureProjection:i};try{n=a.Qa(e,p)}catch(t){n=null}if(n&&0<n.length)break}this.f&&(this.f.clear(),this.f.Qc(n)),this.b(new NA(OA,t,n,i))},LA.prototype.Ha=function(t){Zr.prototype.Ha.call(this,t),t?FA(this):RA(this)},LA.prototype.setMap=function(t){RA(this),Zr.prototype.setMap.call(this,t),this.c()&&FA(this)};var OA="addfeatures";function NA(t,e,o,i){Me.call(this,t),this.features=o,this.file=e,this.projection=i}function kA(t){t=t||{},sn.call(this,{handleDownEvent:GA,handleDragEvent:DA,handleUpEvent:_A}),this.s=t.condition?t.condition:en,this.a=this.f=void 0,this.j=0,this.o=void 0!==t.duration?t.duration:400}function DA(t){if(rn(t)){var e=t.map,o=e.Cb(),i=t.pixel;t=i[0]-o[0]/2,i=o[1]/2-i[1],o=Math.atan2(i,t),t=Math.sqrt(t*t+i*i),(e=e.aa()).l.rotation!==zo&&void 0!==this.f&&(i=o-this.f,Vr(e,e.Sa()-i)),this.f=o,void 0!==this.a&&(o=this.a*(e.Pa()/t),Wr(e,o)),void 0!==this.a&&(this.j=this.a/t),this.a=t}}function _A(t){if(!rn(t))return!0;yr(t=t.map.aa(),1,-1);var e=this.j-1,o=t.Sa();o=t.constrainRotation(o,0),Vr(t,o,void 0,void 0),o=t.Pa();var i=this.o;return o=t.constrainResolution(o,0,e),Wr(t,o,void 0,i),this.j=0,!1}function GA(t){return!(!rn(t)||!this.s(t)||(yr(t.map.aa(),1,1),this.a=this.f=void 0,0))}function BA(t){var e=tt({},t=t||{});delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,Fr.call(this,e),this.D=void 0!==t.declutter&&t.declutter,this.f=void 0!==t.renderBuffer?t.renderBuffer:100,this.C=null,this.V=void 0,this.j(t.style),this.ca=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.ra=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting,this.l=t.renderMode||"vector",this.type="VECTOR"}s(NA,Me),s(kA,sn),s(BA,Fr),BA.prototype.B=function(){return this.C},BA.prototype.ib=function(){return this.V},BA.prototype.j=function(t){this.C=void 0!==t?t:ap,this.V=null===t?void 0:np(this.C),this.u()};var UA="renderOrder";function zA(){return[[-1/0,-1/0,1/0,1/0]]}function ZA(t){Le.call(this),this.c=Ft(t.projection),this.v=null,this.C=VA(this,t.attributions),this.T=t.logo,this.ra=void 0!==t.state?t.state:"ready",this.D=void 0!==t.wrapX&&t.wrapX}function VA(t,e){if(!e)return null;if(e instanceof ue)return t.v=[e],function(){return[e.og]};if(Array.isArray(e)){if(e[0]instanceof ue){var o=(t.v=e).map(function(t){return t.og});return function(){return o}}return t.v=e.map(function(t){return new ue({html:t})}),function(){return e}}return"function"==typeof e?e:(t.v=[new ue({html:e})],function(){return[e]})}function HA(t,e){t.ra=e,t.u()}function WA(t){ZA.call(this,{attributions:(t=t||{}).attributions,logo:t.logo,projection:void 0,state:"ready",wrapX:void 0===t.wrapX||t.wrapX}),this.o=A,this.O=t.format,this.$=null==t.overlaps||t.overlaps,this.V=t.url,void 0!==t.loader?this.o=t.loader:void 0!==this.V&&(N(this.O,7),this.o=Uc(this.V,this.O)),this.ca=void 0!==t.strategy?t.strategy:zA;var e,o,i,r=void 0===t.useSpatialIndex||t.useSpatialIndex;if(this.a=r?new Dh:null,this.B=new Dh,this.f={},this.j={},this.l={},this.s={},this.i=null,t.features instanceof Oe)var n=t.features,s=n.a;else Array.isArray(t.features)&&(s=t.features);r||void 0!==n||(n=new Oe(s)),void 0!==s&&KA(this,s),void 0!==n&&(o=n,i=!1,ve(e=this,"addfeature",function(t){i||(i=!0,o.push(t.feature),i=!1)}),ve(e,"removefeature",function(t){i||(i=!0,o.remove(t.feature),i=!1)}),ve(o,"add",function(t){i||(i=!0,this.Gb(t.element),i=!1)},e),ve(o,"remove",function(t){i||(i=!0,this.Lb(t.element),i=!1)},e),e.i=o)}function XA(t,e,o){t.s[e]=[ve(o,"change",t.gj,t),ve(o,"propertychange",t.gj,t)]}function YA(t,e,o){var i=!0,r=o.c;return void 0!==r?r.toString()in t.j?i=!1:t.j[r.toString()]=o:(N(!(e in t.l),30),t.l[e]=o),i}function KA(t,e){var o,i=[],r=[],n=[],s=0;for(o=e.length;s<o;s++){var a=e[s],p=Qt(a).toString();YA(t,p,a)&&r.push(a)}for(s=0,o=r.length;s<o;s++)a=r[s],p=Qt(a).toString(),XA(t,p,a),(e=a.U())?(p=e.G(),i.push(p),n.push(a)):t.f[p]=a;for(t.a&&t.a.load(i,n),s=0,o=r.length;s<o;s++)t.b(new qA("addfeature",r[s]))}function JA(t,e){for(var o in t.j)if(t.j[o]===e){delete t.j[o];break}}function qA(t,e){Me.call(this,t),this.feature=e}function QA(t){var e,o;sn.call(this,{handleDownEvent:tC,handleEvent:$A,handleUpEvent:eC}),this.V=!1,this.ca=null,this.o=!1,this.ob=t.source?t.source:null,this.La=t.features?t.features:null,this.Xk=t.snapTolerance?t.snapTolerance:12,this.O=t.type,this.f=("Point"===(e=this.O)||"MultiPoint"===e?o=pC:"LineString"===e||"MultiLineString"===e?o=hC:"Polygon"===e||"MultiPolygon"===e?o=lC:"Circle"===e&&(o=cC),o),this.$k=!!t.stopClick,this.Ea=t.minPoints?t.minPoints:this.f===lC?3:2,this.ua=t.maxPoints?t.maxPoints:1/0,this.Md=t.finishCondition?t.finishCondition:ai;var i,r=t.geometryFunction;if(!r)if("Circle"===this.O)r=function(t,e){return(e=e||new PA([NaN,NaN])).hh(t[0],Math.sqrt($o(t[0],t[1]))),e};else{var n,s=this.f;s===pC?n=Vi:s===hC?n=yp:s===lC&&(n=or),r=function(t,e){return e?s===lC?t[0].length?e.na([t[0].concat([t[0][0]])]):e.na([]):e.na(t):e=new n(t),e}}this.cb=r,this.T=this.C=this.a=this.B=this.j=this.s=null,this.sc=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.ra=new BA({source:new WA({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:(i=pp(),function(t){return i[t.U().S()]})}),this.bb=t.geometryName,this.Wk=t.condition?t.condition:tn,this.If=t.freehand?ai:t.freehandCondition?t.freehandCondition:en,ve(this,je("active"),this.Ki,this)}function $A(t){this.o=this.f!==pC&&this.If(t);var e=!0;return this.o&&"pointerdrag"===t.type&&null!==this.j?(nC(this,t),e=!1):this.o&&"pointerdown"===t.type?e=!1:"pointermove"===t.type?e=oC(this,t):"dblclick"===t.type&&(e=!1),pn.call(this,t)&&e}function tC(t){return this.V=!this.o,this.o?(this.ca=t.pixel,this.s||rC(this,t),!0):!!this.Wk(t)&&(this.ca=t.pixel,!0)}function eC(t){var e=!0;oC(this,t);var o=this.f===cC;return this.V?(this.s?this.o||o?this.Pd():iC(this,t)?this.Md(t)&&this.Pd():nC(this,t):(rC(this,t),this.f===pC&&this.Pd()),e=!1):this.o&&(this.s=null,sC(this)),!e&&this.$k&&t.stopPropagation(),e}function oC(t,e){if(t.ca&&(!t.o&&t.V||t.o&&!t.V)){var o=t.ca,i=e.pixel,r=o[0]-i[0];o=o[1]-i[1],r=r*r+o*o,t.V=t.o?r>t.sc:r<=t.sc}return t.s?(r=e.coordinate,o=t.j.U(),t.f===pC?i=t.a:t.f===lC?(i=(i=t.a[0])[i.length-1],iC(t,e)&&(r=t.s.slice())):i=(i=t.a)[i.length-1],i[0]=r[0],i[1]=r[1],t.cb(t.a,o),t.B&&t.B.U().na(r),o instanceof or&&t.f!==lC?(t.C||(t.C=new lp(new yp(null))),r=o.Wh(0),(e=t.C.U()).ba(r.ja,r.da())):t.T&&(e=t.C.U()).na(t.T),aC(t)):(e=e.coordinate.slice(),t.B?t.B.U().na(e):(t.B=new lp(new Vi(e)),aC(t))),!0}function iC(t,e){var o=!1;if(t.j){var i=!1,r=[t.s];if(t.f===hC?i=t.a.length>t.Ea:t.f===lC&&(i=t.a[0].length>t.Ea,r=[t.a[0][0],t.a[0][t.a[0].length-2]]),i){i=e.map;for(var n=0,s=r.length;n<s;n++){var a=r[n],p=i.Ia(a),h=e.pixel;if(o=h[0]-p[0],p=h[1]-p[1],o=Math.sqrt(o*o+p*p)<=(t.o?1:t.Xk)){t.s=a;break}}}}return o}function rC(t,e){e=e.coordinate,t.s=e,t.f===pC?t.a=e.slice():t.f===lC?(t.a=[[e.slice(),e.slice()]],t.T=t.a[0]):(t.a=[e.slice(),e.slice()],t.f===cC&&(t.T=t.a)),t.T&&(t.C=new lp(new yp(t.T))),e=t.cb(t.a),t.j=new lp,t.bb&&t.j.Lc(t.bb),t.j.Va(e),aC(t),t.b(new uC("drawstart",t.j))}function nC(t,e){e=e.coordinate;var o,i=t.j.U();if(t.f===hC){t.s=e.slice();var r=t.a;r.length>=t.ua&&(t.o?r.pop():o=!0),r.push(e.slice()),t.cb(r,i)}else t.f===lC&&((r=t.a[0]).length>=t.ua&&(t.o?r.pop():o=!0),r.push(e.slice()),o&&(t.s=r[0]),t.cb(t.a,i));aC(t),o&&t.Pd()}function sC(t){t.s=null;var e=t.j;return e&&(t.j=null,t.B=null,t.C=null,t.ra.ha().clear(!0)),e}function aC(t){var e=[];t.j&&e.push(t.j),t.C&&e.push(t.C),t.B&&e.push(t.B),(t=t.ra.ha()).clear(!0),t.Qc(e)}s(ZA,Le),(t=ZA.prototype).wa=A,t.za=function(){return this.v},t.Aa=function(){return this.T},t.Da=function(){return this.c},t.getState=function(){return this.ra},t.sa=function(){this.u()},t.va=function(t){this.C=VA(this,t),this.u()},s(WA,ZA),(t=WA.prototype).Gb=function(t){var e=Qt(t).toString();if(YA(this,e,t)){XA(this,e,t);var o=t.U();o?(e=o.G(),this.a&&this.a.Ca(e,t)):this.f[e]=t,this.b(new qA("addfeature",t))}this.u()},t.Qc=function(t){KA(this,t),this.u()},t.clear=function(t){if(t){for(var e in this.s)this.s[e].forEach(me);this.i||(this.s={},this.j={},this.l={})}else if(this.a)for(var o in this.a.forEach(this.Yg,this),this.f)this.Yg(this.f[o]);this.i&&this.i.clear(),this.a&&this.a.clear(),this.B.clear(),this.f={},this.b(new qA("clear")),this.u()},t.Lh=function(t,e){return this.a?this.a.forEach(t,e):this.i?this.i.forEach(t,e):void 0},t.ec=function(t,e,o){return this.a?Uh(this.a,t,e,o):this.i?this.i.forEach(e,o):void 0},t.Mh=function(e,o,i){return this.ec(e,function(t){if(t.U().$a(e)&&(t=o.call(i,t)))return t})},t.Th=function(){return this.i},t.ee=function(){if(this.i)var t=this.i.a;else this.a&&(t=Gh(this.a),ee(this.f)||Vt(t,ot(this.f)));return t},t.Sh=function(t){var e,o,i=[];return e=t,o=function(t){i.push(t)},this.ec([e[0],e[1],e[0],e[1]],function(t){if(t.U().Bb(e))return o.call(void 0,t)}),i},t.Yf=function(t){return Bh(this.a,t)},t.Oh=function(t,e){var i=t[0],r=t[1],n=null,s=[NaN,NaN],a=1/0,p=[-1/0,-1/0,1/0,1/0],h=e||ai;return Uh(this.a,p,function(t){if(h(t)){var e=t.U(),o=a;(a=e.Nb(i,r,s,a))<o&&(n=t,t=Math.sqrt(a),p[0]=i-t,p[1]=r-t,p[2]=i+t,p[3]=r+t)}}),n},t.G=function(t){return this.a.G(t)},t.Rh=function(t){return void 0!==(t=this.j[t.toString()])?t:null},t.ej=function(){return this.O},t.fj=function(){return this.V},t.gj=function(t){var e=Qt(t=t.target).toString(),o=t.U();o?(o=o.G(),e in this.f?(delete this.f[e],this.a&&this.a.Ca(o,t)):this.a&&_h(this.a,o,t)):e in this.f||(this.a&&this.a.remove(t),this.f[e]=t),void 0!==(o=t.c)?(o=o.toString(),e in this.l?(delete this.l[e],this.j[o]=t):this.j[o]!==t&&(JA(this,t),this.j[o]=t)):e in this.l||(JA(this,t),this.l[e]=t),this.u(),this.b(new qA("changefeature",t))},t.ae=function(t,e,o){var i,r=this.B;t=this.ca(t,e);var n=0;for(i=t.length;n<i;++n){var s=t[n];Uh(r,s,function(t){return U(t.extent,s)})||(this.o.call(this,s,e,o),r.Ca(s,{extent:s.slice()}))}},t.Cj=function(e){var o,t=this.B;Uh(t,e,function(t){if(Z(t.extent,e))return o=t,!0}),o&&t.remove(o)},t.Lb=function(t){var e=Qt(t).toString();e in this.f?delete this.f[e]:this.a&&this.a.remove(t),this.Yg(t),this.u()},t.Yg=function(t){var e=Qt(t).toString();this.s[e].forEach(me),delete this.s[e];var o=t.c;void 0!==o?delete this.j[o.toString()]:delete this.l[e],this.b(new qA("removefeature",t))},t.hj=function(t){this.o=t},s(qA,Me),s(QA,sn),(t=QA.prototype).setMap=function(t){sn.prototype.setMap.call(this,t),this.Ki()},t.nq=function(){if(this.j){var t=this.j.U();if(this.f===hC){var e=this.a;e.splice(-2,1),this.cb(e,t),2<=e.length&&(this.s=e[e.length-2].slice())}else if(this.f===lC){(e=this.a[0]).splice(-2,1);var o=this.C.U();o.na(e),this.cb(this.a,t)}0===e.length&&(this.s=null),aC(this)}},t.Pd=function(){var t=sC(this),e=this.a,o=t.U();this.f===hC?(e.pop(),this.cb(e,o)):this.f===lC&&(e[0].pop(),this.cb(e,o),e=o.W()),"MultiPoint"===this.O?t.Va(new Jc([e])):"MultiLineString"===this.O?t.Va(new Yc([e])):"MultiPolygon"===this.O&&t.Va(new qc([e])),this.b(new uC("drawend",t)),this.La&&this.La.push(t),this.ob&&this.ob.Gb(t)},t.Zn=function(t){var e=t.U();this.j=t,this.a=e.W(),t=this.a[this.a.length-1],this.s=t.slice(),this.a.push(t.slice()),aC(this),this.b(new uC("drawstart",this.j))},t.jd=pi,t.Ki=function(){var t=this.v,e=this.c();t&&e||sC(this),this.ra.setMap(e?t:null)};var pC="Point",hC="LineString",lC="Polygon",cC="Circle";function uC(t,e){Me.call(this,t),this.feature=e}function gC(t){var e,o,i=t||{};this.a=this.j=null,this.C=void 0!==i.pixelTolerance?i.pixelTolerance:10,this.B=!1,this.T=this.s=null,t||(t={}),sn.call(this,{handleDownEvent:fC,handleDragEvent:dC,handleEvent:yC,handleUpEvent:vC}),this.o=new BA({source:new WA({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.boxStyle?t.boxStyle:(e=pp(),function(){return e.Polygon}),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.O=new BA({source:new WA({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.pointerStyle?t.pointerStyle:(o=pp(),function(){return o.Point}),updateWhileAnimating:!0,updateWhileInteracting:!0}),t.extent&&this.f(t.extent)}function yC(t){if(!(t instanceof po))return!0;if("pointermove"==t.type&&!this.D){var e=t.pixel,o=t.map,i=mC(this,e,o);i||(i=o.Ra(e)),IC(this,i)}return pn.call(this,t),!1}function fC(t){function e(t){var e=null,o=null;return t[0]==r[0]?e=r[2]:t[0]==r[2]&&(e=r[0]),t[1]==r[1]?o=r[3]:t[1]==r[3]&&(o=r[1]),null!==e&&null!==o?[e,o]:null}var o=t.pixel,i=t.map,r=this.G();return(t=mC(this,o,i))&&r?(o=t[0]==r[0]||t[0]==r[2]?t[0]:null,i=t[1]==r[1]||t[1]==r[3]?t[1]:null,null!==o&&null!==i?this.a=AC(e(t)):null!==o?this.a=CC(e([o,r[1]]),e([o,r[3]])):null!==i&&(this.a=CC(e([r[0],i]),e([r[2],i])))):(t=i.Ra(o),this.f([t[0],t[1],t[0],t[1]]),this.a=AC(t)),!0}function dC(t){return this.a&&(t=t.coordinate,this.f(this.a(t)),IC(this,t)),!0}function vC(){this.a=null;var t=this.G();return t&&0!==R(t)||this.f(null),!1}function AC(e){return function(t){return b([e,t])}}function CC(e,o){return e[0]==o[0]?function(t){return b([e,[t[0],o[1]]])}:e[1]==o[1]?function(t){return b([e,[o[0],t[1]]])}:null}function mC(t,e,o){var i=o.Ra(e),r=t.G();if(r){(r=[[[r[0],r[1]],[r[0],r[3]]],[[r[0],r[3]],[r[2],r[3]]],[[r[2],r[3]],[r[2],r[1]]],[[r[2],r[1]],[r[0],r[1]]]]).sort(function(t,e){return ei(i,t)-ei(i,e)}),r=r[0];var n=Xo(i,r),s=o.Ia(n);if(ti(e,s)<=t.C)return e=o.Ia(r[0]),o=o.Ia(r[1]),e=$o(s,e),o=$o(s,o),t.B=Math.sqrt(Math.min(e,o))<=t.C,t.B&&(n=o<e?r[1]:r[0]),n}return null}function IC(t,e){var o=t.T;o?o.U().na(e):(o=new lp(new Vi(e)),t.T=o,t.O.ha().Gb(o))}function bC(t){Me.call(this,"extentchanged"),this.extent=t}function wC(t){var e;if(sn.call(this,{handleDownEvent:EC,handleDragEvent:LC,handleEvent:jC,handleUpEvent:TC}),this.Md=t.condition?t.condition:nn,this.bb=function(t){return Kr(t)&&$r(t)},this.ob=t.deleteCondition?t.deleteCondition:this.bb,this.sc=t.insertVertexCondition?t.insertVertexCondition:ai,this.La=this.f=null,this.Ea=[0,0],this.C=this.T=!1,this.a=new Dh,this.ra=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.s=this.ua=!1,this.j=[],this.B=new BA({source:new WA({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:(e=pp(),function(){return e.Point}),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.ca={Point:this.io,LineString:this.Mi,LinearRing:this.Mi,Polygon:this.jo,MultiPoint:this.fo,MultiLineString:this.eo,MultiPolygon:this.ho,Circle:this.bo,GeometryCollection:this.co},this.V=null,t.source?(this.V=t.source,t=new Oe(this.V.ee()),ve(this.V,"addfeature",this.vm,this),ve(this.V,"removefeature",this.xm,this)):t=t.features,!t)throw Error("The modify interaction requires features or a source");this.o=t,this.o.forEach(this.xg,this),ve(this.o,"add",this.$n,this),ve(this.o,"remove",this.ao,this),this.O=null}function MC(t,e){t.C||(t.C=!0,t.b(new kC("modifystart",t.o,e)))}function SC(t,e){!function(t,e){t=t.a;var o=[];t.forEach(function(t){e===t.feature&&o.push(t)});for(var i=o.length-1;0<=i;--i)t.remove(o[i])}(t,e),t.f&&0===t.o.kc()&&(t.B.ha().Lb(t.f),t.f=null),Ce(e,"change",t.Li,t)}function xC(t,e){var o=t.f;o?o.U().na(e):(o=new lp(new Vi(e)),t.f=o,t.B.ha().Gb(o))}function PC(t,e){return t.index-e.index}function EC(t){if(!this.Md(t))return!1;FC(this,t.pixel,t.map);var e=t.map.Ra(t.pixel);this.j.length=0,this.C=!1;var o=this.f;if(o){var i=[],r=b([o=o.U().W()]);r=Bh(this.a,r);var n={};r.sort(PC);for(var s=0,a=r.length;s<a;++s){var p=r[s],h=p.ma,l=Qt(p.feature),c=p.depth;c&&(l+="-"+c.join("-")),n[l]||(n[l]=Array(2)),"Circle"===p.geometry.S()&&1===p.index?Jo(h=OC(e,p),o)&&!n[l][0]&&(this.j.push([p,0]),n[l][0]=p):Jo(h[0],o)&&!n[l][0]?(this.j.push([p,0]),n[l][0]=p):Jo(h[1],o)&&!n[l][1]?("LineString"!==p.geometry.S()&&"MultiLineString"!==p.geometry.S()||!n[l][0]||0!==n[l][0].index)&&(this.j.push([p,1]),n[l][1]=p):this.sc(t)&&Qt(h)in this.La&&!n[l][0]&&!n[l][1]&&i.push([p,o])}for(i.length&&MC(this,t),t=i.length-1;0<=t;--t)this.Em.apply(this,i[t])}return!!this.f}function LC(t){this.T=!1,MC(this,t),t=t.coordinate;for(var e=0,o=this.j.length;e<o;++e){var i=this.j[e],r=i[0],n=r.depth,s=r.geometry,a=r.ma;for(i=i[1];t.length<s.pa();)t.push(a[i][t.length]);switch(s.S()){case"Point":var p=t;a[0]=a[1]=t;break;case"MultiPoint":(p=s.W())[r.index]=t,a[0]=a[1]=t;break;case"LineString":(p=s.W())[r.index+i]=t,a[i]=t;break;case"MultiLineString":case"Polygon":(p=s.W())[n[0]][r.index+i]=t,a[i]=t;break;case"MultiPolygon":(p=s.W())[n[1]][n[0]][r.index+i]=t,a[i]=t;break;case"Circle":a[0]=a[1]=t,0===r.index?(this.s=!0,s.ub(t)):(this.s=!0,s.fd(ti(s.xa(),t))),this.s=!1}p&&(r=s,n=p,this.s=!0,r.na(n),this.s=!1)}xC(this,t)}function TC(t){for(var e,o,i=this.j.length-1;0<=i;--i)if(e=this.j[i][0],"Circle"===(o=e.geometry).S()){var r=o.xa(),n=e.Tf[0];e=e.Tf[1],n.ma[0]=n.ma[1]=r,e.ma[0]=e.ma[1]=r,_h(this.a,x(r),n),_h(this.a,o.G(),e)}else _h(this.a,b(e.ma),e);return this.C&&(this.b(new kC("modifyend",this.o,t)),this.C=!1),!1}function jC(t){return!(t instanceof po)||((this.O=t).map.aa().Vh()||"pointermove"!=t.type||this.D||(this.Ea=t.pixel,FC(this,t.pixel,t.map)),this.f&&this.ob(t)&&(e=!("singleclick"!=t.type||!this.T)||this.Dj()),"singleclick"==t.type&&(this.T=!1),pn.call(this,t)&&!e);var e}function FC(t,e,o){var i=o.Ra(e),r=B(x(i),o.aa().Pa()*t.ra);if(0<(r=Bh(t.a,r)).length){r.sort(function(t,e){return RC(i,t)-RC(i,e)});var n=r[0],s=n.ma,a=OC(i,n),p=o.Ia(a),h=ti(e,p);if(h<=t.ra){if(e={},"Circle"===n.geometry.S()&&1===n.index)t.ua=!0,xC(t,a);else for(h=o.Ia(s[0]),n=o.Ia(s[1]),o=$o(p,h),p=$o(p,n),h=Math.sqrt(Math.min(o,p)),t.ua=h<=t.ra,t.ua&&(a=p<o?s[1]:s[0]),xC(t,a),p=1,o=r.length;p<o&&(a=r[p].ma,Jo(s[0],a[0])&&Jo(s[1],a[1])||Jo(s[0],a[1])&&Jo(s[1],a[0]));++p)e[Qt(a)]=!0;return e[Qt(s)]=!0,void(t.La=e)}}t.f&&(t.B.ha().Lb(t.f),t.f=null)}function RC(t,e){var o=e.geometry;return"Circle"===o.S()&&1===e.index?(t=$o(o.xa(),t),(o=Math.sqrt(t)-o.Bd())*o):ei(t,e.ma)}function OC(t,e){var o=e.geometry;return"Circle"===o.S()&&1===e.index?o.Ib(t):Xo(t,e.ma)}function NC(t,e,o,i,r){Uh(t.a,e.G(),function(t){t.geometry===e&&(void 0===i||void 0===t.depth||oe(t.depth,i))&&t.index>o&&(t.index+=r)})}function kC(t,e,o){Me.call(this,t),this.features=e,this.mapBrowserEvent=o}function DC(t){var e;if(Zr.call(this,{handleEvent:_C}),t=t||{},this.C=t.condition?t.condition:$r,this.D=t.addCondition?t.addCondition:pi,this.B=t.removeCondition?t.removeCondition:pi,this.T=t.toggleCondition?t.toggleCondition:en,this.s=!!t.multi&&t.multi,this.l=t.filter?t.filter:ai,this.j=t.hitTolerance?t.hitTolerance:0,this.f=new BA({source:new WA({useSpatialIndex:!1,features:t.features,wrapX:t.wrapX}),style:t.style?t.style:(e=pp(),Vt(e.Polygon,e.LineString),Vt(e.GeometryCollection,e.LineString),function(t){return t.U()?e[t.U().S()]:null}),updateWhileAnimating:!0,updateWhileInteracting:!0}),t.layers)if("function"==typeof t.layers)t=t.layers;else{var o=t.layers;t=function(t){return zt(o,t)}}else t=ai;this.o=t,this.a={},ve(t=this.f.ha().i,"add",this.ko,this),ve(t,"remove",this.oo,this)}function _C(t){if(!this.C(t))return!0;var o=this.D(t),i=this.B(t),r=this.T(t),e=!o&&!i&&!r,n=t.map,s=this.f.ha().i,a=[],p=[];if(e){for(et(this.a),n.Tc(t.pixel,function(t,e){if(this.l(t,e))return p.push(t),t=Qt(t),this.a[t]=e,!this.s}.bind(this),{layerFilter:this.o,hitTolerance:this.j}),e=s.kc()-1;0<=e;--e){n=s.item(e);var h=p.indexOf(n);-1<h?p.splice(h,1):(s.remove(n),a.push(n))}0!==p.length&&s.qg(p)}else{for(n.Tc(t.pixel,function(t,e){if(this.l(t,e))return!o&&!r||zt(s.a,t)?(i||r)&&zt(s.a,t)&&(a.push(t),e=Qt(t),delete this.a[e]):(p.push(t),t=Qt(t),this.a[t]=e),!this.s}.bind(this),{layerFilter:this.o,hitTolerance:this.j}),e=a.length-1;0<=e;--e)s.remove(a[e]);s.qg(p)}return(0<p.length||0<a.length)&&this.b(new GC(BC,p,a,t)),Qr(t)}function GC(t,e,o,i){Me.call(this,t),this.selected=e,this.deselected=o,this.mapBrowserEvent=i}s(uC,Me),s(gC,sn),gC.prototype.setMap=function(t){this.o.setMap(t),this.O.setMap(t),sn.prototype.setMap.call(this,t)},gC.prototype.G=function(){return this.j},gC.prototype.f=function(t){this.j=t||null;var e=this.s;e?t?e.Va(rr(t)):e.Va(void 0):(this.s=e=new lp(t?rr(t):{}),this.o.ha().Gb(e)),this.b(new bC(this.j))},s(bC,Me),s(wC,sn),(t=wC.prototype).xg=function(t){var e=t.U();e&&e.S()in this.ca&&this.ca[e.S()].call(this,t,e),(e=this.v)&&e.c&&this.c()&&FC(this,this.Ea,e),ve(t,"change",this.Li,this)},t.Ha=function(t){this.f&&!t&&(this.B.ha().Lb(this.f),this.f=null),sn.prototype.Ha.call(this,t)},t.setMap=function(t){this.B.setMap(t),sn.prototype.setMap.call(this,t)},t.vm=function(t){t.feature&&this.o.push(t.feature)},t.xm=function(t){t.feature&&this.o.remove(t.feature)},t.$n=function(t){this.xg(t.element)},t.Li=function(t){this.s||(SC(this,t=t.target),this.xg(t))},t.ao=function(t){SC(this,t.element)},t.io=function(t,e){var o=e.W();t={feature:t,geometry:e,ma:[o,o]},this.a.Ca(e.G(),t)},t.fo=function(t,e){var o,i=e.W(),r=0;for(o=i.length;r<o;++r){var n=i[r];n={feature:t,geometry:e,depth:[r],index:r,ma:[n,n]},this.a.Ca(e.G(),n)}},t.Mi=function(t,e){var o,i=e.W(),r=0;for(o=i.length-1;r<o;++r){var n=i.slice(r,r+2),s={feature:t,geometry:e,index:r,ma:n};this.a.Ca(b(n),s)}},t.eo=function(t,e){var o,i,r=e.W(),n=0;for(i=r.length;n<i;++n){var s=r[n],a=0;for(o=s.length-1;a<o;++a){var p=s.slice(a,a+2),h={feature:t,geometry:e,depth:[n],index:a,ma:p};this.a.Ca(b(p),h)}}},t.jo=function(t,e){var o,i,r=e.W(),n=0;for(i=r.length;n<i;++n){var s=r[n],a=0;for(o=s.length-1;a<o;++a){var p=s.slice(a,a+2),h={feature:t,geometry:e,depth:[n],index:a,ma:p};this.a.Ca(b(p),h)}}},t.ho=function(t,e){var o,i,r,n=e.W(),s=0;for(r=n.length;s<r;++s){var a=n[s],p=0;for(i=a.length;p<i;++p){var h=a[p],l=0;for(o=h.length-1;l<o;++l){var c=h.slice(l,l+2),u={feature:t,geometry:e,depth:[p,s],index:l,ma:c};this.a.Ca(b(c),u)}}}},t.bo=function(t,e){var o=e.xa(),i={feature:t,geometry:e,index:0,ma:[o,o]};t={feature:t,geometry:e,index:1,ma:[o,o]},i.Tf=t.Tf=[i,t],this.a.Ca(x(o),i),this.a.Ca(e.G(),t)},t.co=function(t,e){var o=e.a;for(e=0;e<o.length;++e)this.ca[o[e].S()].call(this,t,o[e])},t.Em=function(t,e){for(var o,i=t.ma,r=t.feature,n=t.geometry,s=t.depth,a=t.index;e.length<n.pa();)e.push(0);switch(n.S()){case"MultiLineString":case"Polygon":(o=n.W())[s[0]].splice(a+1,0,e);break;case"MultiPolygon":(o=n.W())[s[1]][s[0]].splice(a+1,0,e);break;case"LineString":(o=n.W()).splice(a+1,0,e);break;default:return}this.s=!0,n.na(o),this.s=!1,(o=this.a).remove(t),NC(this,n,a,s,1),t={ma:[i[0],e],feature:r,geometry:n,depth:s,index:a},o.Ca(b(t.ma),t),this.j.push([t,1]),e={ma:[e,i[1]],feature:r,geometry:n,depth:s,index:a+1},o.Ca(b(e.ma),e),this.j.push([e,0]),this.T=!0},t.Dj=function(){if(this.O&&"pointerdrag"!=this.O.type){var t=this.O;MC(this,t);var e,o,i=this.j,r={};for(o=i.length-1;0<=o;--o){var n=i[o],s=n[0],a=Qt(s.feature);s.depth&&(a+="-"+s.depth.join("-")),a in r||(r[a]={}),0===n[1]?(r[a].right=s,r[a].index=s.index):1==n[1]&&(r[a].left=s,r[a].index=s.index+1)}for(a in r){var p=r[a].right,h=r[a].left,l=(o=r[a].index)-1;l<0&&(l=0),n=(s=void 0!==h?h:p).geometry;var c=e=n.W(),u=!1;switch(n.S()){case"MultiLineString":2<e[s.depth[0]].length&&(e[s.depth[0]].splice(o,1),u=!0);break;case"LineString":2<e.length&&(e.splice(o,1),u=!0);break;case"MultiPolygon":c=c[s.depth[1]];case"Polygon":4<(c=c[s.depth[0]]).length&&(o==c.length-1&&(o=0),c.splice(o,1),u=!0,0===o&&(c.pop(),c.push(c[0]),l=c.length-1))}u&&(u=n,this.s=!0,u.na(e),this.s=!1,e=[],void 0!==h&&(this.a.remove(h),e.push(h.ma[0])),void 0!==p&&(this.a.remove(p),e.push(p.ma[1])),void 0!==h&&void 0!==p&&(h={depth:s.depth,feature:s.feature,geometry:s.geometry,index:l,ma:e},this.a.Ca(b(h.ma),h)),NC(this,n,o,s.depth,-1),this.f&&(this.B.ha().Lb(this.f),this.f=null),i.length=0)}return this.b(new kC("modifyend",this.o,t)),this.C=!1,!0}return!1},s(kC,Me),s(DC,Zr),(t=DC.prototype).lo=function(){return this.f.ha().i},t.mo=function(){return this.j},t.no=function(t){return t=Qt(t),this.a[t]},t.po=function(t){this.j=t},t.setMap=function(t){var e=this.v,o=this.f.ha().i;e&&o.forEach(e.Zj,e),Zr.prototype.setMap.call(this,t),this.f.setMap(t),t&&o.forEach(t.Uj,t)},t.ko=function(t){var e=this.v;e&&e.Uj(t.element)},t.oo=function(t){var e=this.v;e&&e.Zj(t.element)},s(GC,Me);var BC="select";function UC(t){sn.call(this,{handleEvent:ZC,handleDownEvent:ai,handleUpEvent:VC}),t=t||{},this.s=t.source?t.source:null,this.O=void 0===t.vertex||t.vertex,this.C=void 0===t.edge||t.edge,this.j=t.features?t.features:null,this.ra=[],this.B={},this.V={},this.o={},this.T=null,this.f=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.ua=function(t,e){return ei(this.T,t.ma)-ei(this.T,e.ma)}.bind(this),this.a=new Dh,this.ca={Point:this.wo,LineString:this.Pi,LinearRing:this.Pi,Polygon:this.xo,MultiPoint:this.uo,MultiLineString:this.to,MultiPolygon:this.vo,GeometryCollection:this.so,Circle:this.ro}}function zC(t,e,o,i){var r=i.Ra([e[0]-t.f,e[1]+t.f]),n=i.Ra([e[0]+t.f,e[1]-t.f]);r=b([r,n]);var s=Bh(t.a,r);t.O&&!t.C&&(s=s.filter(function(t){return"Circle"!==t.feature.U().S()}));var a=!1;r=!1;var p=n=null;if(0<s.length){t.T=o,s.sort(t.ua);var h=s[0].ma;a="Circle"===s[0].feature.U().S(),t.O&&!t.C?(o=i.Ia(h[0]),a=i.Ia(h[1]),o=$o(e,o),e=$o(e,a),(a=(a=Math.sqrt(Math.min(o,e)))<=t.f)&&(r=!0,n=e<o?h[1]:h[0],p=i.Ia(n))):t.C&&(n=a?function(t,e){var o=e.Bd(),i=e.xa();e=i[0],i=i[1];var r=t[0]-e;t=t[1]-i,0===r&&0===t&&(r=1);var n=Math.sqrt(r*r+t*t);return[e+o*r/n,i+o*t/n]}(o,s[0].feature.U()):Xo(o,h),p=i.Ia(n),ti(e,p)<=t.f&&(r=!0,t.O&&!a&&(o=i.Ia(h[0]),a=i.Ia(h[1]),o=$o(p,o),e=$o(p,a),a=(a=Math.sqrt(Math.min(o,e)))<=t.f)))&&(n=e<o?h[1]:h[0],p=i.Ia(n)),r&&(p=[Math.round(p[0]),Math.round(p[1])])}return{Mq:r,vertex:n,Vq:p}}function ZC(t){var e=zC(this,t.pixel,t.coordinate,t.map);return e.Mq&&(t.coordinate=e.vertex.slice(0,2),t.pixel=e.Vq),pn.call(this,t)}function VC(){var t=ot(this.o);return t.length&&(t.forEach(this.$j,this),this.o={}),!1}function HC(t){if(sn.call(this,{handleDownEvent:WC,handleDragEvent:YC,handleMoveEvent:KC,handleUpEvent:XC}),t=t||{},this.a=null,this.j=void 0!==t.features?t.features:null,t.layers)if("function"==typeof t.layers)var e=t.layers;else{var o=t.layers;e=function(t){return zt(o,t)}}else e=ai;this.C=e,this.s=t.hitTolerance?t.hitTolerance:0,this.f=null,ve(this,je("active"),this.o,this)}function WC(t){if(this.f=JC(this,t.pixel,t.map),!this.a&&this.f){this.a=t.coordinate,KC.call(this,t);var e=this.j||new Oe([this.f]);return this.b(new QC("translatestart",e,t.coordinate)),!0}return!1}function XC(t){if(this.a){this.a=null,KC.call(this,t);var e=this.j||new Oe([this.f]);return this.b(new QC("translateend",e,t.coordinate)),!0}return!1}function YC(t){if(this.a){var o=(t=t.coordinate)[0]-this.a[0],i=t[1]-this.a[1],e=this.j||new Oe([this.f]);e.forEach(function(t){var e=t.U();e.translate(o,i),t.Va(e)}),this.a=t,this.b(new QC("translating",e,t))}}function KC(t){var e=t.map.a;JC(this,t.pixel,t.map)?(e.classList.remove(this.a?"ol-grab":"ol-grabbing"),e.classList.add(this.a?"ol-grabbing":"ol-grab")):e.classList.remove("ol-grab","ol-grabbing")}function JC(t,e,o){return o.Tc(e,function(t){if(!this.j||zt(this.j.a,t))return t}.bind(t),{layerFilter:t.C,hitTolerance:t.s})}function qC(t,e){var o=t.v;t=t.c(),o&&t||(o=o||e)&&o.a.classList.remove("ol-grab","ol-grabbing")}function QC(t,e,o){Me.call(this,t),this.features=e,this.coordinate=o}function $C(t){var e=tt({},t=t||{});delete e.gradient,delete e.radius,delete e.blur,delete e.shadow,delete e.weight,BA.call(this,e),this.c=null,this.$=void 0!==t.shadow?t.shadow:250,this.O=void 0,this.T=null,ve(this,je(om),this.cm,this),this.Lj(t.gradient?t.gradient:tm),this.Fj(void 0!==t.blur?t.blur:15),this.fd(void 0!==t.radius?t.radius:8),ve(this,je(em),this.mg,this),ve(this,je(im),this.mg,this),this.mg();var i,o=t.weight?t.weight:"weight";i="string"==typeof o?function(t){return t.get(o)}:o,this.j(function(t){var e=255*(t=void 0!==(t=i(t))?C(t,0,1):1)|0,o=this.T[e];return o||(o=[new rp({image:new ny({opacity:t,src:this.O})})],this.T[e]=o),o}.bind(this)),this.set(UA,null),ve(this,"render",this.tm,this)}s(UC,sn),(t=UC.prototype).Gb=function(t,e){e=void 0===e||e;var o=Qt(t),i=t.U();if(i){var r=this.ca[i.S()];r&&(this.V[o]=i.G(k()),r.call(this,t,i))}e&&(this.B[o]=ve(t,"change",this.qo,this))},t.bl=function(t){this.Gb(t)},t.cl=function(t){this.Lb(t)},t.Ni=function(t){if(t instanceof qA)var e=t.feature;else t instanceof _e&&(e=t.element);this.Gb(e)},t.Oi=function(t){if(t instanceof qA)var e=t.feature;else t instanceof _e&&(e=t.element);this.Lb(e)},t.qo=function(t){if(t=t.target,this.D){var e=Qt(t);e in this.o||(this.o[e]=t)}else this.$j(t)},t.Lb=function(e,t){t=void 0===t||t;var o=Qt(e),i=this.V[o];if(i){var r=this.a,n=[];for(Uh(r,i,function(t){e===t.feature&&n.push(t)}),i=n.length-1;0<=i;--i)r.remove(n[i])}t&&(me(this.B[o]),delete this.B[o])},t.setMap=function(t){var e,o=this.v,i=this.ra;this.j?e=this.j:this.s&&(e=this.s.ee()),o&&(i.forEach(me),i.length=0,e.forEach(this.cl,this)),sn.prototype.setMap.call(this,t),t&&(this.j?i.push(ve(this.j,"add",this.Ni,this),ve(this.j,"remove",this.Oi,this)):this.s&&i.push(ve(this.s,"addfeature",this.Ni,this),ve(this.s,"removefeature",this.Oi,this)),e.forEach(this.bl,this))},t.jd=pi,t.$j=function(t){this.Lb(t,!1),this.Gb(t,!1)},t.ro=function(t,e){var o;e=nr(e).W()[0];var i=0;for(o=e.length-1;i<o;++i){var r=e.slice(i,i+2),n={feature:t,ma:r};this.a.Ca(b(r),n)}},t.so=function(t,e){var o=e.a;for(e=0;e<o.length;++e){var i=this.ca[o[e].S()];i&&i.call(this,t,o[e])}},t.Pi=function(t,e){var o;e=e.W();var i=0;for(o=e.length-1;i<o;++i){var r=e.slice(i,i+2),n={feature:t,ma:r};this.a.Ca(b(r),n)}},t.to=function(t,e){var o,i;e=e.W();var r=0;for(i=e.length;r<i;++r){var n=e[r],s=0;for(o=n.length-1;s<o;++s){var a=n.slice(s,s+2),p={feature:t,ma:a};this.a.Ca(b(a),p)}}},t.uo=function(t,e){var o,i=e.W(),r=0;for(o=i.length;r<o;++r){var n=i[r];n={feature:t,ma:[n,n]},this.a.Ca(e.G(),n)}},t.vo=function(t,e){var o,i,r;e=e.W();var n=0;for(r=e.length;n<r;++n){var s=e[n],a=0;for(i=s.length;a<i;++a){var p=s[a],h=0;for(o=p.length-1;h<o;++h){var l=p.slice(h,h+2),c={feature:t,ma:l};this.a.Ca(b(l),c)}}}},t.wo=function(t,e){var o=e.W();t={feature:t,ma:[o,o]},this.a.Ca(e.G(),t)},t.xo=function(t,e){var o,i;e=e.W();var r=0;for(i=e.length;r<i;++r){var n=e[r],s=0;for(o=n.length-1;s<o;++s){var a=n.slice(s,s+2),p={feature:t,ma:a};this.a.Ca(b(a),p)}}},s(HC,sn),HC.prototype.B=function(){return this.s},HC.prototype.T=function(t){this.s=t},HC.prototype.setMap=function(t){var e=this.v;sn.prototype.setMap.call(this,t),qC(this,e)},HC.prototype.o=function(){qC(this,null)},s(QC,Me),s($C,BA);var tm=["#00f","#0ff","#0f0","#ff0","#f00"];(t=$C.prototype).Nh=function(){return this.get(em)},t.Uh=function(){return this.get(om)},t.Ri=function(){return this.get(im)},t.cm=function(){for(var t=this.Uh(),e=fr(1,256),o=e.createLinearGradient(0,0,1,256),i=1/(t.length-1),r=0,n=t.length;r<n;++r)o.addColorStop(r*i,t[r]);e.fillStyle=o,e.fillRect(0,0,1,256),this.c=e.getImageData(0,0,1,256).data},t.mg=function(){var t=this.Ri(),e=this.Nh(),o=t+e+1,i=2*o;(i=fr(i,i)).shadowOffsetX=i.shadowOffsetY=this.$,i.shadowBlur=e,i.shadowColor="#000",i.beginPath(),e=o-this.$,i.arc(e,e,t,0,2*Math.PI,!0),i.fill(),this.O=i.canvas.toDataURL(),this.T=Array(256),this.u()},t.tm=function(t){var e,o,i=(t=t.context).canvas,r=(i=t.getImageData(0,0,i.width,i.height)).data,n=0;for(e=r.length;n<e;n+=4)(o=4*r[n+3])&&(r[n]=this.c[o],r[n+1]=this.c[o+1],r[n+2]=this.c[o+2]);t.putImageData(i,0,0)},t.Fj=function(t){this.set(em,t)},t.Lj=function(t){this.set(om,t)},t.fd=function(t){this.set(im,t)};var em="blur",om="gradient",im="radius";function rm(t){Fr.call(this,t||{}),this.type="IMAGE"}function nm(t){var e=tt({},t=t||{});delete e.preload,delete e.useInterimTilesOnError,Fr.call(this,e),this.j(void 0!==t.preload?t.preload:0),this.C(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError),this.type="TILE"}function sm(t){var e=(t=t||{}).renderMode||"hybrid";N(null==e||"image"==e||"hybrid"==e||"vector"==e,28),t.declutter&&"image"==e&&(e="hybrid"),t.renderMode=e,delete(e=tt({},t)).preload,delete e.useInterimTilesOnError,BA.call(this,e),this.T(t.preload?t.preload:0),this.O(!t.useInterimTilesOnError||t.useInterimTilesOnError),this.type="VECTOR_TILE"}function am(t,o){var i=/\{z\}/g,r=/\{x\}/g,n=/\{y\}/g,s=/\{-y\}/g;return function(e){if(e)return t.replace(i,e[0].toString()).replace(r,e[1].toString()).replace(n,function(){return(-e[2]-1).toString()}).replace(s,function(){var t=o.a?o.a[e[0]]:null;return N(t,55),(t.ka-t.ea+1+e[2]).toString()})}}function pm(t,e){for(var o=t.length,i=Array(o),r=0;r<o;++r)i[r]=am(t[r],e);return hm(i)}function hm(i){return 1===i.length?i[0]:function(t,e,o){if(t)return i[v((t[1]<<t[0])+t[2],i.length)](t,e,o)}}function lm(){}function cm(t){var e=[],o=/\{([a-z])-([a-z])\}/.exec(t);if(o){var i,r=o[2].charCodeAt(0);for(i=o[1].charCodeAt(0);i<=r;++i)e.push(t.replace(o[0],String.fromCharCode(i)));return e}if(o=o=/\{(\d+)-(\d+)\}/.exec(t)){for(r=parseInt(o[2],10),i=parseInt(o[1],10);i<=r;i++)e.push(t.replace(o[0],i.toString()));return e}return e.push(t),e}function um(t,e,o,i){function r(){delete window[s],n.parentNode.removeChild(n)}var n=document.createElement("script"),s="olc_"+Qt(e);n.async=!0,n.src=t+(-1==t.indexOf("?")?"?":"&")+(i||"callback")+"="+s;var a=setTimeout(function(){r(),o&&o()},1e4);window[s]=function(t){clearTimeout(a),r(),e(t)},document.getElementsByTagName("head")[0].appendChild(n)}function gm(t){Jn.call(this,t)}function ym(t,e,o,i){var r=_t(o,e,t);return o=xt(e,i,o),void 0!==(e=e.Bc())&&(o*=e),void 0!==(e=t.Bc())&&(o/=e),(e=t.G())&&!w(e,r)||(t=xt(t,o,r)/o,isFinite(t)&&0<t&&(o/=t)),o}function fm(t,e,o,i){t=o-t,e=i-e;var r=Math.sqrt(t*t+e*e);return[Math.round(o+t/r),Math.round(i+e/r)]}function dm(t,e,f,d,o,v,i,r,n,s,a){var A=fr(Math.round(f*t),Math.round(f*e));if(0===n.length)return A.canvas;A.scale(f,f);var C=k();n.forEach(function(t){T(C,t.extent)});var m=fr(Math.round(f*J(C)/d),Math.round(f*W(C)/d)),p=f/d;n.forEach(function(t){m.drawImage(t.image,s,s,t.image.width-2*s,t.image.height-2*s,(t.extent[0]-C[0])*p,-(t.extent[3]-C[3])*p,J(t.extent)*p,W(t.extent)*p)});var I=Y(i);return r.c.forEach(function(t){var e=t.source,o=t.target,i=e[1][0],r=e[1][1],n=e[2][0],s=e[2][1];t=(o[0][0]-I[0])/v;var a=-(o[0][1]-I[1])/v,p=(o[1][0]-I[0])/v,h=-(o[1][1]-I[1])/v,l=(o[2][0]-I[0])/v,c=-(o[2][1]-I[1])/v;o=e[0][0],e=e[0][1];t:{for(r=(i=[[i-=o,r-=e,0,0,p-t],[n-=o,s-=e,0,0,l-t],[0,0,i,r,h-a],[0,0,n,s,c-a]]).length,n=0;n<r;n++){s=n;for(var u=Math.abs(i[n][n]),g=n+1;g<r;g++){var y=Math.abs(i[g][n]);u<y&&(u=y,s=g)}if(0===u){i=null;break t}for(u=i[s],i[s]=i[n],i[n]=u,s=n+1;s<r;s++)for(u=-i[s][n]/i[n][n],g=n;g<r+1;g++)i[s][g]=n==g?0:i[s][g]+u*i[n][g]}for(n=Array(r),s=r-1;0<=s;s--)for(n[s]=i[s][r]/i[s][s],u=s-1;0<=u;u--)i[u][r]-=i[u][s]*n[s];i=n}i&&(A.save(),A.beginPath(),r=fm(n=(t+p+l)/3,s=(a+h+c)/3,t,a),p=fm(n,s,p,h),l=fm(n,s,l,c),A.moveTo(p[0],p[1]),A.lineTo(r[0],r[1]),A.lineTo(l[0],l[1]),A.clip(),A.transform(i[0],i[2],i[1],i[3],t,a),A.translate(C[0]-o,C[3]-e),A.scale(d/f,-d/f),A.drawImage(m.canvas,0,0),A.restore())}),a&&(A.save(),A.strokeStyle="black",A.lineWidth=1,r.c.forEach(function(t){var e=t.target;t=(e[0][0]-I[0])/v;var o=-(e[0][1]-I[1])/v,i=(e[1][0]-I[0])/v,r=-(e[1][1]-I[1])/v,n=(e[2][0]-I[0])/v;e=-(e[2][1]-I[1])/v,A.beginPath(),A.moveTo(i,r),A.lineTo(t,o),A.lineTo(n,e),A.closePath(),A.stroke()}),A.restore()),A.canvas}function vm(t,e,o,i,r){this.g=t,this.i=e;var n={},s=Ot(this.i,this.g);this.a=function(t){var e=t[0]+"/"+t[1];return n[e]||(n[e]=s(t)),n[e]},this.f=i,this.v=r*r,this.c=[],this.l=!1,this.s=this.g.g&&!!i&&!!this.g.G()&&J(i)==J(this.g.G()),this.b=this.g.G()?J(this.g.G()):null,this.j=this.i.G()?J(this.i.G()):null,t=Y(o),e=K(o),i=_(o),o=D(o),r=this.a(t);var a=this.a(e),p=this.a(i),h=this.a(o);if(function t(e,o,i,r,n,s,a,p,h,l){var c=b([s,a,p,h]),u=e.b?J(c)/e.b:null,g=e.b,y=e.g.g&&.5<u&&u<1,f=!1;if(0<l){if(e.i.c&&e.j){var d=b([o,i,r,n]);f|=.25<J(d)/e.j}!y&&e.g.c&&u&&(f|=.25<u)}if(f||!e.f||te(c,e.f)){if(!(f||isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(p[0])&&isFinite(p[1])&&isFinite(h[0])&&isFinite(h[1]))){if(!(0<l))return;f=!0}if(0<l&&(f||(c=e.a([(o[0]+r[0])/2,(o[1]+r[1])/2]),g=y?(v(s[0],g)+v(p[0],g))/2-v(c[0],g):(s[0]+p[0])/2-c[0],c=(s[1]+p[1])/2-c[1],f=g*g+c*c>e.v),f))return void(Math.abs(o[0]-r[0])<=Math.abs(o[1]-r[1])?(y=[(i[0]+r[0])/2,(i[1]+r[1])/2],g=e.a(y),c=[(n[0]+o[0])/2,(n[1]+o[1])/2],u=e.a(c),t(e,o,i,y,c,s,a,g,u,l-1),t(e,c,y,r,n,u,g,p,h,l-1)):(y=[(o[0]+i[0])/2,(o[1]+i[1])/2],g=e.a(y),c=[(r[0]+n[0])/2,(r[1]+n[1])/2],u=e.a(c),t(e,o,y,c,n,s,g,u,h,l-1),t(e,y,i,r,c,g,a,p,u,l-1)));if(y){if(!e.s)return;e.l=!0}e.c.push({source:[s,p,h],target:[o,r,n]}),e.c.push({source:[s,a,p],target:[o,i,r]})}}(this,t,e,i,o,r,a,p,h,10),this.l){var l=1/0;this.c.forEach(function(t){l=Math.min(l,t.source[0][0],t.source[1][0],t.source[2][0])}),this.c.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-l>this.b/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-l>this.b/2&&(e[0][0]-=this.b),e[1][0]-l>this.b/2&&(e[1][0]-=this.b),e[2][0]-l>this.b/2&&(e[2][0]-=this.b),Math.max(e[0][0],e[1][0],e[2][0])-Math.min(e[0][0],e[1][0],e[2][0])<this.b/2&&(t.source=e)}},this)}n={}}function Am(t){var e=k();return t.c.forEach(function(t){t=t.source,j(e,t[0]),j(e,t[1]),j(e,t[2])}),e}function Cm(t,e,o,i,r,n,s,a,p,h,l){if(wp.call(this,r,0),this.B=void 0!==l&&l,this.C=s,this.D=a,this.N=null,this.c=e,this.l=i,this.v=n||r,this.a=[],this.Id=null,this.f=0,n=i.Ma(this.v),a=this.l.G(),r=this.c.G(),0===R(n=a?X(n,a):n))this.state=4;else if((a=t.G())&&(r=r?X(r,a):a),i=ym(t,o,V(n),i.Ta(this.v[0])),!isFinite(i)||i<=0)this.state=4;else if(this.o=new vm(t,o,n,r,i*(void 0!==h?h:.5)),0===this.o.c.length)this.state=4;else if(this.f=e.Dc(i),o=Am(this.o),r&&(t.g?(o[1]=C(o[1],r[1],r[3]),o[3]=C(o[3],r[1],r[3])):o=X(o,r)),R(o)){for(t=re(e,o,this.f),e=t.fa;e<=t.la;e++)for(o=t.ea;o<=t.ka;o++)(h=p(this.f,e,o,s))&&this.a.push(h);0===this.a.length&&(this.state=4)}else this.state=4}function mm(t){ZA.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state,wrapX:t.wrapX}),this.bb=void 0!==t.opaque&&t.opaque,this.sc=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null,this.a=new gm(t.cacheSize),this.j=[0,0],this.jc="",this.Ea={transition:t.transition}}function Im(t,e,o,i,r){if(!(t=t.Yd(e)))return!1;e=!0;for(var n,s,a=i.fa;a<=i.la;++a)for(var p=i.ea;p<=i.ka;++p)n=o+"/"+a+"/"+p,s=!1,t.a.hasOwnProperty(n)&&(n=t.get(n),(s=2===n.getState())&&(s=!1!==r(n))),s||(e=!1);return e}function bm(t,e){t.jc!==e&&(t.jc=e,t.u())}function wm(t,e,o){var i=void 0!==o?o:t.c;if(o=t.eb(i),t.D&&i.c){var r=e;e=r[0],t=ne(o,r),w(i=ce(i),t)?e=r:(r=J(i),t[0]+=r*Math.ceil((i[0]-t[0])/r),e=o.jg(t,e))}if(r=e[0],i=e[1],t=e[2],o.minZoom>r||r>o.maxZoom)o=!1;else{var n=o.G();o=!(o=n?re(o,n,r):o.a?o.a[r]:null)||l(o,i,t)}return o?e:null}function Mm(t,e){Me.call(this,t),this.tile=e}function Sm(t){mm.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition}),this.tileLoadFunction=t.tileLoadFunction,this.tileUrlFunction=this.dc?this.dc.bind(this):lm,this.urls=null,t.urls?this.vb(t.urls):t.url&&this.rb(t.url),t.tileUrlFunction&&this.hb(t.tileUrlFunction),this.V={}}function xm(t){Sm.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:Lm,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:Ep,this.f={},this.s={},this.ob=t.reprojectionErrorThreshold,this.O=!1}function Pm(t,e,o,i,r,n,s){return r=(o=wm(t,e=[e,o,i],n))?t.tileUrlFunction(o,r,n):void 0,(r=new t.tileClass(e,void 0!==r?0:4,void 0!==r?r:"",t.crossOrigin,t.tileLoadFunction,t.Ea)).key=s,ve(r,"change",t.dj,t),r}function Em(t,e,o,i,r,n){var s=e+"/"+o+"/"+i,a=t.jc;if(t.a.a.hasOwnProperty(s)){var p=t.a.get(s);if(p.key!=a){var h=p;p=Pm(t,e,o,i,r,n,a),0==h.getState()?p.g=h.g:p.g=h,Sp(p),t.a.replace(s,p)}}else p=Pm(t,e,o,i,r,n,a),t.a.set(s,p);return p}function Lm(t,e){t.Y().src=e}function Tm(t){this.i=void 0!==t.hidpi&&t.hidpi,xm.call(this,{cacheSize:t.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:Ft("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,tilePixelRatio:this.i?2:1,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),this.o=void 0!==t.culture?t.culture:"en-us",this.$=void 0!==t.maxZoom?t.maxZoom:-1,this.l=t.key,this.B=t.imagerySet,um("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.B+"?uriScheme=https&include=ImageryProviders&key="+this.l+"&c="+this.o,this.La.bind(this),void 0,"jsonp")}function jm(t){var e=void 0!==(t=t||{}).projection?t.projection:"EPSG:3857",o=void 0!==t.tileGrid?t.tileGrid:pe({extent:ce(e),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});xm.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:t.opaque,projection:e,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition})}function Fm(t){this.o=t.account,this.B=t.map||"",this.i=t.config||{},this.l={},jm.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,maxZoom:void 0!==t.maxZoom?t.maxZoom:18,minZoom:t.minZoom,projection:t.projection,state:"loading",wrapX:t.wrapX}),Rm(this)}function Rm(t){var e=JSON.stringify(t.i);if(t.l[e])Om(t,t.l[e]);else{var o="https://"+t.o+".carto.com/api/v1/map";t.B&&(o+="/named/"+t.B);var i=new XMLHttpRequest;i.addEventListener("load",t.em.bind(t,e)),i.addEventListener("error",t.dm.bind(t)),i.open("POST",o),i.setRequestHeader("Content-type","application/json"),i.send(JSON.stringify(t.i))}}function Om(t,e){t.rb("https://"+e.cdn_url.https+"/"+t.o+"/api/v1/map/"+e.layergroupid+"/{z}/{x}/{y}.png")}function Nm(t){WA.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,wrapX:t.wrapX}),this.resolution=void 0,this.distance=void 0!==t.distance?t.distance:20,this.features=[],this.geometryFunction=t.geometryFunction||function(t){return N((t=t.U())instanceof Vi,10),t},this.source=t.source,this.source.I("change",Nm.prototype.sa,this)}function km(t){if(void 0!==t.resolution){t.features.length=0;for(var e=k(),o=t.distance*t.resolution,i=t.source.ee(),r={},n=0,s=i.length;n<s;n++){var a=i[n];Qt(a).toString()in r||!(a=t.geometryFunction(a))||(x(a=a.W(),e),B(e,o,e),a=(a=t.source.Yf(e)).filter(function(t){return!((t=Qt(t).toString())in r)&&(r[t]=!0)}),t.features.push(Dm(t,a)))}}}function Dm(t,e){for(var o=[0,0],i=e.length-1;0<=i;--i){var r=t.geometryFunction(e[i]);r?Wo(o,r.W()):e.splice(i,1)}return Qo(o,1/e.length),(t=new lp(new Vi(o))).set("features",e),t}function _m(t,e,o,i,r,n){this.s=e,this.l=t.G();var s=e.G(),a=s?X(o,s):o;s=ym(t,e,V(a),i),this.f=new vm(t,e,a,this.l,.5*s),this.c=i,this.g=o,t=Am(this.f),this.j=(this.Tb=n(t,s,r))?this.Tb.a:1,this.je=this.i=null,r=2,this.Tb&&(r=0),Xn.call(this,o,i,this.j,r)}function Gm(t){ZA.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state}),this.o=void 0!==t.resolutions?t.resolutions:null,this.i=null,this.ua=0}function Bm(t,e){return t.o&&(e=t.o[Zt(t.o,e,0)]),e}function Um(t,e){t.Y().src=e}function zm(t,e){Me.call(this,t),this.image=e}s(rm,Fr),s(nm,Fr),nm.prototype.c=function(){return this.get("preload")},nm.prototype.j=function(t){this.set("preload",t)},nm.prototype.i=function(){return this.get("useInterimTilesOnError")},nm.prototype.C=function(t){this.set("useInterimTilesOnError",t)},s(sm,BA),sm.prototype.c=function(){return this.get("preload")},sm.prototype.i=function(){return this.get("useInterimTilesOnError")},sm.prototype.T=function(t){this.set("preload",t)},sm.prototype.O=function(t){this.set("useInterimTilesOnError",t)},s(gm,Jn),gm.prototype.sd=function(t){for(var e,o;qn(this);){var i;if(e=this.g.Pc,o=e.ya[0].toString(),(i=o in t)&&(e=e.ya,i=l(t[o],e[1],e[2])),i)break;we(this.pop())}},s(Cm,wp),Cm.prototype.ia=function(){1==this.state&&(this.Id.forEach(me),this.Id=null),wp.prototype.ia.call(this)},Cm.prototype.Y=function(){return this.N},Cm.prototype.he=function(){var e=[];if(this.a.forEach(function(t){t&&2==t.getState()&&e.push({extent:this.c.Ma(t.ya),image:t.Y()})},this),(this.a.length=0)===e.length)this.state=3;else{var t=this.v[0],o=this.l.Za(t),i="number"==typeof o?o:o[0];o="number"==typeof o?o:o[1],t=this.l.Ta(t);var r=this.c.Ta(this.f),n=this.l.Ma(this.v);this.N=dm(i,o,this.C,r,this.c.G(),t,n,this.o,e,this.D,this.B),this.state=2}this.u()},Cm.prototype.load=function(){if(0==this.state){this.state=1,this.u();var i=0;this.Id=[],this.a.forEach(function(e){var t=e.getState();if(0==t||1==t){i++;var o=ve(e,"change",function(){var t=e.getState();2!=t&&3!=t&&4!=t||(me(o),0==--i&&(this.Id.forEach(me),this.Id=null,this.he()))},this);this.Id.push(o)}},this),this.a.forEach(function(t){0==t.getState()&&t.load()}),0===i&&setTimeout(this.he.bind(this),0)}},s(mm,ZA),(t=mm.prototype).cj=function(){return qn(this.a)},t.sd=function(t,e){(t=this.Yd(t))&&t.sd(e)},t.Zf=function(){return 0},t.eg=function(){return this.bb},t.jb=function(){return this.tileGrid},t.eb=function(t){return this.tileGrid?this.tileGrid:ae(t)},t.Yd=function(t){var e=this.c;return e&&!Rt(e,t)?null:this.a},t.Xc=function(){return this.sc},t.Zd=function(t,e,o){return o=this.eb(o),e=this.Xc(e),t=G(o.Za(t),this.j),1==e?t:g(t,e,this.j)},t.sa=function(){this.a.clear(),this.u()},t.kh=A,s(Mm,Me),s(Sm,mm),(t=Sm.prototype).yb=function(){return this.tileLoadFunction},t.zb=function(){return this.tileUrlFunction},t.Ab=function(){return this.urls},t.dj=function(t){var e=Qt(t=t.target),o=t.getState();if(1==o){this.V[e]=!0;var i="tileloadstart"}else e in this.V&&(delete this.V[e],i=3==o?"tileloaderror":2==o||5==o?"tileloadend":void 0);null!=i&&this.b(new Mm(i,t))},t.Fb=function(t){this.a.clear(),this.tileLoadFunction=t,this.u()},t.hb=function(t,e){this.tileUrlFunction=t,function(t){if(0!==t.i){var o=t.c.jc.split("/").map(Number)[0];t.forEach(function(t){if(t.ya[0]!==o){var e=t.ya;this.remove(e[0]+"/"+e[1]+"/"+e[2]),we(t)}},t)}}(this.a),void 0!==e?bm(this,e):this.u()},t.rb=function(t){var e=this.urls=cm(t);this.hb(this.dc?this.dc.bind(this):pm(e,this.tileGrid),t)},t.vb=function(t){var e=(this.urls=t).join("\n");this.hb(this.dc?this.dc.bind(this):pm(t,this.tileGrid),e)},t.kh=function(t,e,o){t=t+"/"+e+"/"+o,this.a.a.hasOwnProperty(t)&&this.a.get(t)},s(xm,Sm),(t=xm.prototype).cj=function(){if(qn(this.a))return!0;for(var t in this.f)if(qn(this.f[t]))return!0;return!1},t.sd=function(t,e){for(var o in t=this.Yd(t),this.a.sd(this.a==t?e:{}),this.f){var i=this.f[o];i.sd(i==t?e:{})}},t.Zf=function(t){return this.c&&t&&!Rt(this.c,t)?0:this.$f()},t.$f=function(){return 0},t.eg=function(t){return!(this.c&&t&&!Rt(this.c,t))&&Sm.prototype.eg.call(this,t)},t.eb=function(t){var e=this.c;return!this.tileGrid||e&&!Rt(e,t)?((e=Qt(t).toString())in this.s||(this.s[e]=ae(t)),this.s[e]):this.tileGrid},t.Yd=function(t){var e=this.c;return!e||Rt(e,t)?this.a:((t=Qt(t).toString())in this.f||(this.f[t]=new gm(this.a.highWaterMark)),this.f[t])},t.ad=function(t,e,o,i,r){var n=this.c;if(n&&r&&!Rt(n,r)){var s,a=this.Yd(r);if(t=(o=[t,e,o])[0]+"/"+o[1]+"/"+o[2],a.a.hasOwnProperty(t)&&(s=a.get(t)),e=this.jc,s&&s.key==e)return s;var p=this.eb(n),h=this.eb(r),l=wm(this,o,r);return(i=new Cm(n,p,r,h,o,l,this.Xc(i),this.$f(),function(t,e,o,i){return Em(this,t,e,o,i,n)}.bind(this),this.ob,this.O)).key=e,s?(i.g=s,Sp(i),a.replace(t,i)):a.set(t,i),i}return Em(this,t,e,o,i,n||r)},t.Qb=function(t){if(this.O!=t){for(var e in this.O=t,this.f)this.f[e].clear();this.u()}},t.Rb=function(t,e){(t=Ft(t))&&((t=Qt(t).toString())in this.s||(this.s[t]=e))},s(Tm,xm),Tm.prototype.ca=function(){return this.l},Tm.prototype.ua=function(){return this.B},Tm.prototype.La=function(t){if(200!=t.statusCode||"OK"!=t.statusDescription||"ValidCredentials"!=t.authenticationResultCode||1!=t.resourceSets.length||1!=t.resourceSets[0].resources.length)HA(this,"error");else{var e=t.brandLogoUri;-1==e.indexOf("https")&&(e=e.replace("http","https"));var i=t.resourceSets[0].resources[0];t=-1==this.$?i.zoomMax:this.$;var o=ce(this.c);this.tileGrid=pe({extent:o,minZoom:i.zoomMin,maxZoom:t,tileSize:(i.imageWidth==i.imageHeight?i.imageWidth:[i.imageWidth,i.imageHeight])/(this.i?2:1)});var r=this.o,n=this.i;if(this.tileUrlFunction=hm(i.imageUrlSubdomains.map(function(t){var e=[0,0,0],o=i.imageUrl.replace("{subdomain}",t).replace("{culture}",r);return function(t){if(t)return Yt(t[0],t[1],-t[2]-1,e),t=o,n&&(t+="&dpi=d1&device=mobile"),t.replace("{quadkey}",function(t){var e,o=t[0],i=Array(o),r=1<<o-1;for(e=0;e<o;++e){var n=48;t[1]&r&&(n+=1),t[2]&r&&(n+=2),i[e]=String.fromCharCode(n),r>>=1}return i.join("")}(e))}})),i.imageryProviders){var h=Nt(Ft("EPSG:4326"),this.c);this.va(function(s){var a=[],p=s.viewState.zoom;return i.imageryProviders.map(function(t){for(var e=!1,o=t.coverageAreas,i=0,r=o.length;i<r;++i){var n=o[i];if(p>=n.zoomMin&&p<=n.zoomMax&&te(n=$([(n=n.bbox)[1],n[0],n[3],n[2]],h),s.extent)){e=!0;break}}e&&a.push(t.attribution)}),a.push('<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'),a})}this.T=e,HA(this,"ready")}},s(jm,xm),s(Fm,jm),(t=Fm.prototype).nl=function(){return this.i},t.Sq=function(t){tt(this.i,t),Rm(this)},t.uq=function(t){this.i=t||{},Rm(this)},t.em=function(t,e){if(!(e=e.target).status||200<=e.status&&e.status<300){try{var o=JSON.parse(e.responseText)}catch(t){return void HA(this,"error")}Om(this,o),this.l[t]=o,HA(this,"ready")}else HA(this,"error")},t.dm=function(){HA(this,"error")},s(Nm,WA),(t=Nm.prototype).Eo=function(){return this.distance},t.Fo=function(){return this.source},t.ae=function(t,e,o){this.source.ae(t,e,o),e!==this.resolution&&(this.clear(),this.resolution=e,km(this),this.Qc(this.features))},t.vq=function(t){this.distance=t,this.sa()},t.sa=function(){this.clear(),km(this),this.Qc(this.features),WA.prototype.sa.call(this)},s(_m,Xn),_m.prototype.ia=function(){1==this.state&&(me(this.je),this.je=null),Xn.prototype.ia.call(this)},_m.prototype.Y=function(){return this.i},_m.prototype.he=function(){var t=this.Tb.getState();2==t&&(this.i=dm(J(this.g)/this.c,W(this.g)/this.c,this.j,this.Tb.resolution,0,this.c,this.g,this.f,[{extent:this.Tb.G(),image:this.Tb.Y()}],0)),this.state=t,this.u()},_m.prototype.load=function(){if(0==this.state){this.state=1,this.u();var t=this.Tb.getState();2==t||3==t?this.he():(this.je=ve(this.Tb,"change",function(){var t=this.Tb.getState();2!=t&&3!=t||(me(this.je),this.je=null,this.he())},this),this.Tb.load())}},s(Gm,ZA),Gm.prototype.Y=function(t,e,o,i){var r=this.c;if(r&&i&&!Rt(r,i)){if(this.i){if(this.ua==this.g&&Rt(this.i.s,i)&&this.i.resolution==e&&Z(this.i.G(),t))return this.i;we(this.i),this.i=null}return this.i=new _m(r,i,t,e,o,function(t,e,o){return this.Wc(t,e,o,r)}.bind(this)),this.ua=this.g,this.i}return r&&(i=r),this.Wc(t,e,o,i)},Gm.prototype.j=function(t){switch((t=t.target).getState()){case 1:this.b(new zm(Zm,t));break;case 2:this.b(new zm(Vm,t));break;case 3:this.b(new zm(Hm,t))}},s(zm,Me);var Zm="imageloadstart",Vm="imageloadend",Hm="imageloaderror";function Wm(t,e){var o=[];Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]&&o.push(t+"="+encodeURIComponent(e[t]))});var i=o.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+i}function Xm(t){Gm.call(this,{attributions:(t=t||{}).attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions}),this.V=void 0!==t.crossOrigin?t.crossOrigin:null,this.$=void 0===t.hidpi||t.hidpi,this.a=t.url,this.f=void 0!==t.imageLoadFunction?t.imageLoadFunction:Um,this.s=t.params||{},this.M=null,this.l=[0,0],this.O=0,this.B=void 0!==t.ratio?t.ratio:1.5}function Ym(t){Gm.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions,state:t.state}),this.Ea=t.canvasFunction,this.V=null,this.$=0,this.La=void 0!==t.ratio?t.ratio:1.5}function Km(t){Gm.call(this,{projection:t.projection,resolutions:t.resolutions}),this.V=void 0!==t.crossOrigin?t.crossOrigin:null,this.l=void 0!==t.displayDpi?t.displayDpi:96,this.f=t.params||{},this.O=t.url,this.a=void 0!==t.imageLoadFunction?t.imageLoadFunction:Um,this.$=void 0===t.hidpi||t.hidpi,this.ca=void 0!==t.metersPerUnit?t.metersPerUnit:1,this.s=void 0!==t.ratio?t.ratio:1,this.Ea=void 0!==t.useOverlay&&t.useOverlay,this.M=null,this.B=0}function Jm(t){var e=t.imageExtent,o=void 0!==t.crossOrigin?t.crossOrigin:null,i=void 0!==t.imageLoadFunction?t.imageLoadFunction:Um;Gm.call(this,{attributions:t.attributions,logo:t.logo,projection:Ft(t.projection)}),this.M=new bp(e,void 0,1,t.url,o,i),this.a=t.imageSize?t.imageSize:null,ve(this.M,"change",this.j,this)}function qm(t){this.a=t.source,this.ob=[1,0,0,1,0,0],this.f=fr(),this.l=[0,0],this.ca=ra.Jc(9),this.bb=null==t.renderBuffer?100:t.renderBuffer,this.B=null,Ym.call(this,{attributions:t.attributions,canvasFunction:this.Mk.bind(this),logo:t.logo,projection:t.projection,ratio:t.ratio,resolutions:t.resolutions,state:this.a.getState()}),this.O=null,this.s=void 0,this.aj(t.style),ve(this.a,"change",this.To,this)}function Qm(t){Gm.call(this,{attributions:(t=t||{}).attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions}),this.ca=void 0!==t.crossOrigin?t.crossOrigin:null,this.f=t.url,this.s=void 0!==t.imageLoadFunction?t.imageLoadFunction:Um,this.a=t.params||{},this.l=!0,eI(this),this.$=t.serverType,this.Ea=void 0===t.hidpi||t.hidpi,this.M=null,this.B=[0,0],this.V=0,this.O=void 0!==t.ratio?t.ratio:1.5}s(Xm,Gm),(t=Xm.prototype).Ho=function(){return this.s},t.Wc=function(t,e,o,i){if(void 0===this.a)return null;e=Bm(this,e),o=this.$?o:1;var r=this.M;if(r&&this.O==this.g&&r.resolution==e&&r.a==o&&U(r.G(),t))return r;tt(r={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},this.s);var n=((t=t.slice())[0]+t[2])/2,s=(t[1]+t[3])/2;if(1!=this.B){var a=this.B*J(t)/2,p=this.B*W(t)/2;t[0]=n-a,t[1]=s-p,t[2]=n+a,t[3]=s+p}a=e/o,p=Math.ceil(J(t)/a);var h=Math.ceil(W(t)/a);return t[0]=n-a*p/2,t[2]=n+a*p/2,t[1]=s-a*h/2,t[3]=s+a*h/2,this.l[0]=p,this.l[1]=h,n=t,s=this.l,a=o,i=i.wb.split(":").pop(),r.SIZE=s[0]+","+s[1],r.BBOX=n.join(","),r.BBOXSR=i,r.IMAGESR=i,r.DPI=Math.round(90*a),i=this.a,(n=i.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"))==i&&N(!1,50),r=Wm(n,r),this.M=new bp(t,e,o,r,this.V,this.f),this.O=this.g,ve(this.M,"change",this.j,this),this.M},t.Go=function(){return this.f},t.Io=function(){return this.a},t.Jo=function(t){this.M=null,this.f=t,this.u()},t.Ko=function(t){t!=this.a&&(this.a=t,this.M=null,this.u())},t.Lo=function(t){tt(this.s,t),this.M=null,this.u()},s(Ym,Gm),Ym.prototype.Wc=function(t,e,o,i){e=Bm(this,e);var r=this.V;return r&&this.$==this.g&&r.resolution==e&&r.a==o&&U(r.G(),t)||(Q(t=t.slice(),this.La),(i=this.Ea(t,e,o,[J(t)/e*o,W(t)/e*o],i))&&(r=new Yn(t,e,o,i)),this.V=r,this.$=this.g),r},s(Km,Gm),(t=Km.prototype).No=function(){return this.f},t.Wc=function(t,e,o){e=Bm(this,e),o=this.$?o:1;var i=this.M;if(i&&this.B==this.g&&i.resolution==e&&i.a==o&&U(i.G(),t))return i;1!=this.s&&Q(t=t.slice(),this.s);var r=[J(t)/e*o,W(t)/e*o];if(void 0!==this.O){i=this.O;var n=V(t),s=this.ca,a=J(t),p=W(t),h=r[0],l=r[1],c=.0254/this.l;r={OPERATION:this.Ea?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol.source.ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.l,SETDISPLAYWIDTH:Math.round(r[0]),SETDISPLAYHEIGHT:Math.round(r[1]),SETVIEWSCALE:h*p<l*a?a*s/(h*c):p*s/(l*c),SETVIEWCENTERX:n[0],SETVIEWCENTERY:n[1]},tt(r,this.f),i=Wm(i,r),ve(i=new bp(t,e,o,i,this.V,this.a),"change",this.j,this)}else i=null;return this.M=i,this.B=this.g,i},t.Mo=function(){return this.a},t.Po=function(t){tt(this.f,t),this.u()},t.Oo=function(t){this.M=null,this.a=t,this.u()},s(Jm,Gm),Jm.prototype.Wc=function(t){return te(t,this.M.G())?this.M:null},Jm.prototype.j=function(t){if(2==this.M.getState()){var e=this.M.G(),o=this.M.Y();if(this.a)var i=this.a[0],r=this.a[1];else i=o.width,r=o.height;if((e=Math.ceil(J(e)/(W(e)/r)))!=i){var n=(e=fr(e,r)).canvas;e.drawImage(o,0,0,i,r,0,0,n.width,n.height),this.M.ih(n)}}Gm.prototype.j.call(this,t)},s(qm,Ym),(t=qm.prototype).Mk=function(t,n,s,e,o){var a=new ja(.5*n/s,t,n,s,this.a.$,this.ca,this.bb);this.a.ae(t,n,o);var i,r,p,h,l=!1;return this.a.ec(t,function(t){var e,o;if(!(e=l))if((e=t.ib())?o=e.call(t,n):this.s&&(o=this.s(t,n)),o){var i,r=!1;for(Array.isArray(o)||(o=[o]),e=0,i=o.length;e<i;++e)r=Ga(a,t,o[e],_a(n,s),this.So,this)||r;e=r}else e=!1;l=e},this),Oa(a),l?null:(this.l[0]!=e[0]||this.l[1]!=e[1]?(this.f.canvas.width=e[0],this.f.canvas.height=e[1],this.l[0]=e[0],this.l[1]=e[1]):this.f.clearRect(0,0,e[0],e[1]),this.ca.clear(),i=this,r=V(t),h=e,p=s/(p=n),t=mi(i.ob,h[0]/2,h[1]/2,p,-p,0,-r[0],-r[1]),a.Na(this.f,t,0,{}),this.B=a,this.f.canvas)},t.wa=function(t,e,o,i,r,n){if(this.B){var s={};return this.B.wa(t,e,0,i,r,function(t){var e=Qt(t).toString();if(!(e in s))return s[e]=!0,n(t)},null)}},t.Qo=function(){return this.a},t.Ro=function(){return this.O},t.ib=function(){return this.s},t.So=function(){this.u()},t.To=function(){HA(this,this.a.getState())},t.aj=function(t){this.O=void 0!==t?t:ap,this.s=t?np(this.O):void 0,this.u()},s(Qm,Gm);var $m=[101,101];function tI(t,e,o,i,r,n){if(N(void 0!==t.f,9),n[t.l?"CRS":"SRS"]=r.wb,"STYLES"in t.a||(n.STYLES=""),1!=i)switch(t.$){case"geoserver":i=90*i+.5|0,n.FORMAT_OPTIONS="FORMAT_OPTIONS"in n?n.FORMAT_OPTIONS+";dpi:"+i:"dpi:"+i;break;case"mapserver":n.MAP_RESOLUTION=90*i;break;case"carmentaserver":case"qgis":n.DPI=90*i;break;default:N(!1,8)}var s;return n.WIDTH=o[0],n.HEIGHT=o[1],o=r.b,s=t.l&&"ne"==o.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,n.BBOX=s.join(","),Wm(t.f,n)}function eI(t){t.l=0<=Ho(t.a.VERSION||"1.3.0")}function oI(t){var e;e=void 0!==(t=t||{}).attributions?t.attributions:['&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'],jm.call(this,{attributions:e,cacheSize:t.cacheSize,crossOrigin:void 0!==t.crossOrigin?t.crossOrigin:"anonymous",opaque:void 0===t.opaque||t.opaque,maxZoom:void 0!==t.maxZoom?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:t.wrapX})}function iI(t){this.B=null,this.Ea=void 0!==t.operationType?t.operationType:"pixel",this.La=void 0!==t.threads?t.threads:1,this.f=function(t){for(var e=t.length,o=Array(e),i=0;i<e;++i){var r=i,n=t[i],s=null;n instanceof mm?(n=new nm({source:n}),s=new oa(n)):n instanceof Gm&&(n=new rm({source:n}),s=new Zs(n)),o[r]=s}return o}(t.sources);for(var e=0,o=this.f.length;e<o;++e)ve(this.f[e],"change",this.u,this);var i;this.$=new Go(function(){return 1},this.u.bind(this)),i=this.f,e=i.map(function(t){return Cr(t.a)}),o={};for(var r=0,n=e.length;r<n;++r)o[Qt(e[r].layer)]=e[r];this.a=null,this.O={animate:!1,coordinateToPixelTransform:[1,0,0,1,0,0],extent:null,focus:null,index:0,layerStates:o,layerStatesArray:e,logos:{},pixelRatio:1,pixelToCoordinateTransform:[1,0,0,1,0,0],postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.$,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}},Gm.call(this,{}),void 0!==t.operation&&this.s(t.operation,t.lib)}(t=Qm.prototype).Uo=function(t,e,o,i){if(void 0!==this.f){o=Ft(o);var r=this.c;r&&r!==o&&(e=ym(r,o,t,e),t=_t(t,o,r));var n=H(t,e,0,$m),s={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.a.LAYERS};return tt(s,this.a,i),i=Math.floor((n[3]-t[1])/e),s[this.l?"I":"X"]=Math.floor((t[0]-n[0])/e),s[this.l?"J":"Y"]=i,tI(this,n,$m,1,r||o,s)}},t.Wo=function(){return this.a},t.Wc=function(t,e,o,i){if(void 0===this.f)return null;e=Bm(this,e),1==o||this.Ea&&void 0!==this.$||(o=1);var r=e/o,n=V(t),s=H(n,r,0,[Math.ceil(J(t)/r),Math.ceil(W(t)/r)]);return t=H(n,r,0,[Math.ceil(this.O*J(t)/r),Math.ceil(this.O*W(t)/r)]),(n=this.M)&&this.V==this.g&&n.resolution==e&&n.a==o&&U(n.G(),s)?n:(tt(s={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},this.a),this.B[0]=Math.round(J(t)/r),this.B[1]=Math.round(W(t)/r),i=tI(this,t,this.B,o,i,s),this.M=new bp(t,e,o,i,this.ca,this.s),this.V=this.g,ve(this.M,"change",this.j,this),this.M)},t.Vo=function(){return this.s},t.Xo=function(){return this.f},t.Yo=function(t){this.M=null,this.s=t,this.u()},t.Zo=function(t){t!=this.f&&(this.f=t,this.M=null,this.u())},t.$o=function(t){tt(this.a,t),eI(this),this.M=null,this.u()},s(oI,jm),ra.nf={},ra.nf.Hf=function(){},function(t){function a(c){var u=!0;try{new ImageData(10,10)}catch(t){u=!1}return function(t){var e=t.buffers,o=t.meta,i=t.width,r=t.height,n=e.length,s=e[0].byteLength;if(t.imageOps){for(s=Array(n),t=0;t<n;++t){var a=t,p=new Uint8ClampedArray(e[t]),h=i,l=r;p=u?new ImageData(p,h,l):{data:p,width:h,height:l},s[a]=p}i=c(s,o).data}else{for(i=new Uint8ClampedArray(s),r=Array(n),a=Array(n),t=0;t<n;++t)r[t]=new Uint8ClampedArray(e[t]),a[t]=[0,0,0,0];for(e=0;e<s;e+=4){for(t=0;t<n;++t)p=r[t],a[t][0]=p[e],a[t][1]=p[e+1],a[t][2]=p[e+2],a[t][3]=p[e+3];t=c(a,o),i[e]=t[0],i[e+1]=t[1],i[e+2]=t[2],i[e+3]=t[3]}}return i.buffer}}function p(e,t){var o=Object.keys(e.lib||{}).map(function(t){return"var "+t+" = "+e.lib[t].toString()+";"}).concat(["var __minion__ = ("+a.toString()+")(",e.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]);return o=URL.createObjectURL(new Blob(o,{type:"text/javascript"})),(o=new Worker(o)).addEventListener("message",t),o}function e(t){var e;this.Jf=!!t.Cm,e=0===t.threads?0:this.Jf?1:t.threads||1;var o,i,r,n=[];if(e)for(var s=0;s<e;++s)n[s]=p(t,this.xh.bind(this,s));else n[0]=(o=t,i=this.xh.bind(this,0),r=a(o.operation),{postMessage:function(t){setTimeout(function(){i({data:{buffer:r(t),meta:t.meta}})},0)}});this.we=n,this.Nd=[],this.Bk=t.Sp||1/0,this.ve=0,this.od={},this.Kf=null}var l=!0;try{new ImageData(10,10)}catch(t){l=!1}var c=document.createElement("canvas").getContext("2d");e.prototype.Rp=function(t,e,o){this.zk({inputs:t,ii:e,callback:o}),this.uh()},e.prototype.zk=function(t){for(this.Nd.push(t);this.Nd.length>this.Bk;)this.Nd.shift().callback(null,null)},e.prototype.uh=function(){if(0===this.ve&&0<this.Nd.length){var t=this.Kf=this.Nd.shift(),e=t.inputs[0].width,o=t.inputs[0].height,i=t.inputs.map(function(t){return t.data.buffer}),r=this.we.length;if(1===(this.ve=r))this.we[0].postMessage({buffers:i,meta:t.ii,imageOps:this.Jf,width:e,height:o},i);else for(var n=4*Math.ceil(t.inputs[0].data.length/4/r),s=0;s<r;++s){for(var a=s*n,p=[],h=0,l=i.length;h<l;++h)p.push(i[s].slice(a,a+n));this.we[s].postMessage({buffers:p,meta:t.ii,imageOps:this.Jf,width:e,height:o},p)}}},e.prototype.xh=function(t,e){this.hr||(this.od[t]=e.data,--this.ve,0===this.ve&&this.Ck())},e.prototype.Ck=function(){var t,e,o,i=this.Kf,r=this.we.length;if(1===r)var n=new Uint8ClampedArray(this.od[0].buffer),s=this.od[0].meta;else{var a=i.inputs[0].data.length;n=new Uint8ClampedArray(a),s=Array(a),a=4*Math.ceil(a/4/r);for(var p=0;p<r;++p){var h=p*a;n.set(new Uint8ClampedArray(this.od[p].buffer),h),s[p]=this.od[p].meta}}this.Kf=null,this.od={},i.callback(null,(t=n,e=i.inputs[0].width,o=i.inputs[0].height,l?new ImageData(t,e,o):((e=c.createImageData(e,o)).data.set(t),e)),s),this.uh()},t.default={Hf:e},t.Hf=e}(ra.nf=ra.nf||{}),s(iI,Gm),iI.prototype.s=function(t,e){this.B=new ra.nf.Hf({operation:t,Cm:"image"===this.Ea,Sp:1,lib:e,threads:this.La}),this.u()},iI.prototype.Y=function(t,e,o,i){o=!0;for(var r,n=0,s=this.f.length;n<s;++n)if("ready"!==(r=this.f[n].a.ha()).getState()){o=!1;break}if(!o)return null;if((o=tt({},this.O)).viewState=tt({},o.viewState),r=V(t),o.extent=t.slice(),o.focus=r,o.size[0]=Math.round(J(t)/e),o.size[1]=Math.round(W(t)/e),o.time=Date.now(),o.animate=!1,(n=o.viewState).center=r,n.projection=i,n.resolution=e,this.l=o,this.a&&(i=this.a.resolution,r=this.a.G(),e===i&&Z(t,r)||(this.a=null)),!this.a||this.g!==this.V)t:{for(t=this.l,i=this.f.length,e=Array(i),r=0;r<i;++r){n=this.f[r];var a=(s=t).layerStatesArray[r];if(n.$c(s,a)){var p=s.size[0],h=s.size[1];if(rI){var l=rI.canvas;l.width!==p||l.height!==h?rI=fr(p,h):rI.clearRect(0,0,p,h)}else rI=fr(p,h);n.df(s,a,rI),n=rI.getImageData(0,0,p,h)}else n=null;if(!n)break t;e[r]=n}i={},this.b(new nI(sI,t,i)),this.B.Rp(e,i,this.ca.bind(this,t))}return Bo(o.tileQueue,16,16),o.animate&&requestAnimationFrame(this.u.bind(this)),this.a},iI.prototype.ca=function(t,e,o,i){if(!e&&o){e=t.extent;var r=t.viewState.resolution;if(r===this.l.viewState.resolution&&Z(e,this.l.extent)){if(this.a)var n=this.a.Y().getContext("2d");else n=fr(Math.round(J(e)/r),Math.round(W(e)/r)),this.a=new Yn(e,r,1,n.canvas);n.putImageData(o,0,0),this.u(),this.V=this.g,this.b(new nI(aI,t,i))}}};var rI=null;function nI(t,e,o){Me.call(this,t),this.extent=e.extent,this.resolution=e.viewState.resolution/e.pixelRatio,this.data=o}s(nI,Me),iI.prototype.Wc=function(){return null};var sI="beforeoperations",aI="afteroperations";function pI(t){var e=t.layer.indexOf("-");e=cI[-1==e?t.layer:t.layer.slice(0,e)];var o=lI[t.layer];jm.call(this,{attributions:hI,cacheSize:t.cacheSize,crossOrigin:"anonymous",maxZoom:null!=t.maxZoom?t.maxZoom:e.maxZoom,minZoom:null!=t.minZoom?t.minZoom:e.minZoom,opaque:o.opaque,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+t.layer+"/{z}/{x}/{y}."+o.Ob,wrapX:t.wrapX})}s(pI,jm);var hI=['Map tiles by <a href="https://stamen.com/">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.','&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'],lI={terrain:{Ob:"jpg",opaque:!0},"terrain-background":{Ob:"jpg",opaque:!0},"terrain-labels":{Ob:"png",opaque:!1},"terrain-lines":{Ob:"png",opaque:!1},"toner-background":{Ob:"png",opaque:!0},toner:{Ob:"png",opaque:!0},"toner-hybrid":{Ob:"png",opaque:!1},"toner-labels":{Ob:"png",opaque:!1},"toner-lines":{Ob:"png",opaque:!1},"toner-lite":{Ob:"png",opaque:!0},watercolor:{Ob:"jpg",opaque:!0}},cI={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}};function uI(t){xm.call(this,{attributions:(t=t||{}).attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),this.i=t.params||{},this.l=k(),bm(this,gI(this))}function gI(t){var e,o=0,i=[];for(e in t.i)i[o++]=e+"-"+t.i[e];return i.join("/")}function yI(t){mm.call(this,{opaque:!1,projection:t.projection,tileGrid:t.tileGrid,wrapX:void 0===t.wrapX||t.wrapX})}function fI(t,e,o){wp.call(this,t,2),this.c=e,this.ta=o,this.a=null}function dI(t){if(this.i=null,xm.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,projection:Ft("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),t.url)if(t.jsonp)um(t.url,this.Cg.bind(this),this.ef.bind(this));else{var e=new XMLHttpRequest;e.addEventListener("load",this.bp.bind(this)),e.addEventListener("error",this.ap.bind(this)),e.open("GET",t.url),e.send()}else t.tileJSON?this.Cg(t.tileJSON):N(!1,51)}function vI(t){if(mm.call(this,{projection:Ft("EPSG:3857"),state:"loading"}),this.s=void 0===t.preemptive||t.preemptive,this.l=lm,this.f=void 0,this.i=t.jsonp||!1,t.url)if(this.i)um(t.url,this.Dg.bind(this),this.ff.bind(this));else{var e=new XMLHttpRequest;e.addEventListener("load",this.gp.bind(this)),e.addEventListener("error",this.fp.bind(this)),e.open("GET",t.url),e.send()}else t.tileJSON?this.Dg(t.tileJSON):N(!1,51)}function AI(t,e,o,i,r,n){wp.call(this,t,e),this.v=o,this.a=i,this.N=r,this.c=this.l=this.f=null,this.o=n}function CI(t){if(0==t.state)if(t.state=1,t.o)um(t.v,t.bj.bind(t),t.Ne.bind(t));else{var e=new XMLHttpRequest;e.addEventListener("load",t.ep.bind(t)),e.addEventListener("error",t.cp.bind(t)),e.open("GET",t.v),e.send()}}function mI(t){var e=(t=t||{}).params||{};xm.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:!(!("TRANSPARENT"in e)||e.TRANSPARENT),projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),this.o=void 0!==t.gutter?t.gutter:0,this.i=e,this.l=!0,this.B=t.serverType,this.$=void 0===t.hidpi||t.hidpi,this.ca=k(),wI(this),bm(this,bI(this))}function II(t,e,o,i,r,n,s){var a=t.urls;if(a){if(s.WIDTH=o[0],s.HEIGHT=o[1],s[t.l?"CRS":"SRS"]=n.wb,"STYLES"in t.i||(s.STYLES=""),1!=r)switch(t.B){case"geoserver":o=90*r+.5|0,s.FORMAT_OPTIONS="FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+";dpi:"+o:"dpi:"+o;break;case"mapserver":s.MAP_RESOLUTION=90*r;break;case"carmentaserver":case"qgis":s.DPI=90*r;break;default:N(!1,52)}return n=n.b,t.l&&"ne"==n.substr(0,2)&&(t=i[0],i[0]=i[1],i[1]=t,t=i[2],i[2]=i[3],i[3]=t),s.BBOX=i.join(","),Wm(1==a.length?a[0]:a[v((e[1]<<e[0])+e[2],a.length)],s)}}function bI(t){var e,o=0,i=[];for(e in t.i)i[o++]=e+"-"+t.i[e];return i.join("/")}function wI(t){t.l=0<=Ho(t.i.VERSION||"1.3.0")}function MI(t,e,o,i,r,n,s,a,p,h,l,c,u,g,y){if(wp.call(this,t,e,y),this.v={},this.o={},this.c=h,this.a=[],this.D=o,this.l=n,this.f=[],this.N=[],n){var f=p.Ma(n),d=p.Ta(t[0]);a.Vf(f,a.Dc(d),function(t){var e=X(f,a.Ma(t)),o=a.G();o&&(e=X(e,o)),.5<=J(e)/d&&.5<=W(e)/d&&(e=t.toString(),(o=h[e])||(o=s(t,l,c),o=h[e]=new u(t,null==o?4:0,null==o?"":o,i,r),this.N.push(ve(o,"change",g))),o.c++,this.a.push(e))}.bind(this))}}function SI(t,e){return(e=Qt(e).toString())in t.v||(t.v[e]=fr()),t.v[e]}function xI(t,e){return(e=Qt(e).toString())in t.o||(t.o[e]={Be:!1,eh:null,wf:-1,fh:-1}),t.o[e]}function PI(t,e){t.ug(Bc(e,t.v,t.Cp.bind(t),t.Bp.bind(t)))}function EI(t){var e=t.projection||"EPSG:3857",o=t.extent||ce(e),i=t.tileGrid||pe({extent:o,maxZoom:t.maxZoom||22,minZoom:t.minZoom,tileSize:t.tileSize||512});Sm.call(this,{attributions:t.attributions,cacheSize:void 0!==t.cacheSize?t.cacheSize:128,extent:o,logo:t.logo,opaque:!1,projection:e,state:t.state,tileGrid:i,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:PI,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),this.l=t.format?t.format:null,this.i={},this.s=null==t.overlaps||t.overlaps,this.tileClass=t.tileClass?t.tileClass:Zl,this.f={}}function LI(t){this.s=t.matrixIds,Kt.call(this,{extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes})}function TI(t,e,o){var r=[],n=[],s=[],a=[],p=[],h=void 0!==o?o:[],l=(o=Ft((o=t.SupportedCRS).replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Ft(o)).Bc(),c="ne"==o.b.substr(0,2);return t.TileMatrix.sort(function(t,e){return e.ScaleDenominator-t.ScaleDenominator}),t.TileMatrix.forEach(function(e){var t;if(t=!(0<h.length)||Ht(h,function(t){return e.Identifier==t.TileMatrix})){n.push(e.Identifier),t=28e-5*e.ScaleDenominator/l;var o=e.TileWidth,i=e.TileHeight;c?s.push([e.TopLeftCorner[1],e.TopLeftCorner[0]]):s.push(e.TopLeftCorner),r.push(t),a.push(o==i?o:[o,i]),p.push([e.MatrixWidth,-e.MatrixHeight])}}),new LI({extent:e,origins:s,resolutions:r,matrixIds:n,tileSizes:a,sizes:p})}function jI(t){this.La=void 0!==t.version?t.version:"1.0.0",this.B=void 0!==t.format?t.format:"image/jpeg",this.i=void 0!==t.dimensions?t.dimensions:{},this.$=t.layer,this.o=t.matrixSet,this.ca=t.style;var e=t.urls;void 0===e&&void 0!==t.url&&(e=cm(t.url));var i=this.ua=void 0!==t.requestEncoding?t.requestEncoding:"KVP",r=t.tileGrid,o={layer:this.$,style:this.ca,tilematrixset:this.o};"KVP"==i&&tt(o,{Service:"WMTS",Request:"GetTile",Version:this.La,Format:this.B});var n=this.i;this.l=function(e){return e="KVP"==i?Wm(e,o):e.replace(/\{(\w+?)\}/g,function(t,e){return e.toLowerCase()in o?o[e.toLowerCase()]:t}),function(t){if(t){var o={TileMatrix:r.s[t[0]],TileCol:t[1],TileRow:-t[2]-1};return tt(o,n),t=e,t="KVP"==i?Wm(t,o):t.replace(/\{(\w+?)\}/g,function(t,e){return o[e]})}}};var s=e&&0<e.length?hm(e.map(this.l)):lm;xm.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:r,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:s,urls:e,wrapX:void 0!==t.wrapX&&t.wrapX,transition:t.transition}),bm(this,FI(this))}function FI(t){var e,o=0,i=[];for(e in t.i)i[o++]=e+"-"+t.i[e];return i.join("/")}function RI(t){var e=(t=t||{}).size,o=e[0],i=e[1];e=t.extent||[0,-e[1],e[0],0];var s=[],r=t.tileSize||256,n=r;switch(void 0!==t.tierSizeCalculation?t.tierSizeCalculation:NI){case NI:for(;n<o||n<i;)s.push([Math.ceil(o/n),Math.ceil(i/n)]),n+=n;break;case kI:for(;n<o||n<i;)s.push([Math.ceil(o/n),Math.ceil(i/n)]),o>>=1,i>>=1;break;default:N(!1,53)}s.push([1,1]),s.reverse(),i=[1];var a=[0];for(n=1,o=s.length;n<o;n++)i.push(1<<n),a.push(s[n-1][0]*s[n-1][1]+a[n-1]);i.reverse();var p=new Kt({tileSize:r,extent:e,origin:Y(e),resolutions:i});(e=t.url)&&-1==e.indexOf("{TileGroup}")&&-1==e.indexOf("{tileIndex}")&&(e+="{TileGroup}/{z}-{x}-{y}.jpg"),e=hm((e=cm(e)).map(function(n){return function(t){if(t){var e=t[0],o=t[1];t=-t[2]-1;var i=o+t*s[e][0],r={z:e,x:o,y:t,tileIndex:i,TileGroup:"TileGroup"+((i+a[e])/p.Za(e)|0)};return n.replace(/\{(\w+?)\}/g,function(t,e){return r[e]})}}})),xm.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:OI.bind(null,p),tileGrid:p,tileUrlFunction:e,transition:t.transition})}function OI(t,e,o,i,r,n,s){Ep.call(this,e,o,i,r,n,s),this.a=null,this.o=G(t.Za(e[0]))}s(uI,xm),uI.prototype.o=function(){return this.i},uI.prototype.Xc=function(t){return t},uI.prototype.dc=function(t,e,o){var i=this.tileGrid;if(i||(i=this.eb(o)),!(i.b.length<=t[0])){var r=i.Ma(t,this.l),n=G(i.Za(t[0]),this.j);1!=e&&(n=g(n,e,this.j)),tt(i={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},this.i);var s=this.urls;return s?(o=o.wb.split(":").pop(),i.SIZE=n[0]+","+n[1],i.BBOX=r.join(","),i.BBOXSR=o,i.IMAGESR=o,i.DPI=Math.round(i.DPI?i.DPI*e:90*e),t=Wm(t=(1==s.length?s[0]:s[v((t[1]<<t[0])+t[2],s.length)]).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),i)):t=void 0,t}},uI.prototype.B=function(t){tt(this.i,t),bm(this,gI(this))},s(yI,mm),yI.prototype.ad=function(t,e,o){var i=t+"/"+e+"/"+o;if(this.a.a.hasOwnProperty(i))return this.a.get(i);var r=G(this.tileGrid.Za(t));return e=(e=wm(this,t=[t,e,o]))?wm(this,e).toString():"",r=new fI(t,r,e),this.a.set(i,r),r},s(fI,wp),fI.prototype.Y=function(){if(this.a)return this.a;var t=this.c,e=fr(t[0],t[1]);return e.strokeStyle="black",e.strokeRect(.5,.5,t[0]+.5,t[1]+.5),e.fillStyle="black",e.textAlign="center",e.textBaseline="middle",e.font="24px sans-serif",e.fillText(this.ta,t[0]/2,t[1]/2),this.a=e.canvas},fI.prototype.load=function(){},s(dI,xm),(t=dI.prototype).bp=function(t){if(!(t=t.target).status||200<=t.status&&t.status<300){try{var e=JSON.parse(t.responseText)}catch(t){return void this.ef()}this.Cg(e)}else this.ef()},t.ap=function(){this.ef()},t.Sl=function(){return this.i},t.Cg=function(e){var t=Ft("EPSG:4326"),o=this.c;if(void 0!==e.bounds){var i=Nt(t,o);i=$(e.bounds,i)}var r=e.minzoom||0,n=e.maxzoom||22;if(this.tileGrid=o=pe({extent:ce(o),maxZoom:n,minZoom:r}),this.tileUrlFunction=pm(e.tiles,o),void 0!==e.attribution&&!this.C){var s=void 0!==i?i:t.G();this.va(function(t){return te(s,t.extent)?[e.attribution]:null})}this.i=e,HA(this,"ready")},t.ef=function(){HA(this,"error")},s(vI,mm),(t=vI.prototype).gp=function(t){if(!(t=t.target).status||200<=t.status&&t.status<300){try{var e=JSON.parse(t.responseText)}catch(t){return void this.ff()}this.Dg(e)}else this.ff()},t.fp=function(){this.ff()},t.Pl=function(){return this.f},t.al=function(t,e,o,i,r){var n,s,a,p,h;this.tileGrid?(e=this.tileGrid.Le(t,e),n=this.ad(e[0],e[1],e[2],1,this.c),s=t,a=o,p=i,h=r,0==n.state&&!0===h?(Ae(n,"change",function(){a.call(p,this.getData(s))},n),CI(n)):!0===h?setTimeout(function(){a.call(p,this.getData(s))}.bind(n),0):a.call(p,n.getData(s))):!0===r?setTimeout(function(){o.call(i,null)},0):o.call(i,null)},t.ff=function(){HA(this,"error")},t.Dg=function(e){var t=Ft("EPSG:4326"),o=this.c;if(void 0!==e.bounds){var i=Nt(t,o);i=$(e.bounds,i)}var r=e.minzoom||0,n=e.maxzoom||22;if(this.tileGrid=o=pe({extent:ce(o),maxZoom:n,minZoom:r}),this.f=e.template,r=e.grids){if(this.l=pm(r,o),void 0!==e.attribution){var s=void 0!==i?i:t.G();this.va(function(t){return te(s,t.extent)?[e.attribution]:null})}HA(this,"ready")}else HA(this,"error")},t.ad=function(t,e,o,i,r){var n=t+"/"+e+"/"+o;return this.a.a.hasOwnProperty(n)?this.a.get(n):(e=wm(this,t=[t,e,o],r),i=this.l(e,i,r),i=new AI(t,void 0!==i?0:4,void 0!==i?i:"",this.tileGrid.Ma(t),this.s,this.i),this.a.set(n,i),i)},t.kh=function(t,e,o){t=t+"/"+e+"/"+o,this.a.a.hasOwnProperty(t)&&this.a.get(t)},s(AI,wp),(t=AI.prototype).Y=function(){return null},t.getData=function(t){if(!this.f||!this.l)return null;var e=this.f[Math.floor((1-(t[1]-this.a[1])/(this.a[3]-this.a[1]))*this.f.length)];return"string"!=typeof e?null:(93<=(e=e.charCodeAt(Math.floor((t[0]-this.a[0])/(this.a[2]-this.a[0])*e.length)))&&e--,35<=e&&e--,t=null,(e-=32)in this.l&&(e=this.l[e],t=this.c&&e in this.c?this.c[e]:e),t)},t.lb=function(){return this.v},t.Ne=function(){this.state=3,this.u()},t.bj=function(t){this.f=t.grid,this.l=t.keys,this.c=t.data,this.state=4,this.u()},t.ep=function(t){if(!(t=t.target).status||200<=t.status&&t.status<300){try{var e=JSON.parse(t.responseText)}catch(t){return void this.Ne()}this.bj(e)}else this.Ne()},t.cp=function(){this.Ne()},t.load=function(){this.N&&CI(this)},s(mI,xm),(t=mI.prototype).hp=function(t,e,o,i){o=Ft(o);var r=this.c,n=this.tileGrid;if(n||(n=this.eb(o)),e=n.Le(t,e),!(n.b.length<=e[0])){var s=n.Ta(e[0]),a=n.Ma(e,this.ca);n=G(n.Za(e[0]),this.j);var p=this.o;return 0!==p&&(n=u(n,p,this.j),a=B(a,s*p,a)),r&&r!==o&&(s=ym(r,o,t,s),a=Gt(a,o,r),t=_t(t,o,r)),p={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.i.LAYERS},tt(p,this.i,i),i=Math.floor((a[3]-t[1])/s),p[this.l?"I":"X"]=Math.floor((t[0]-a[0])/s),p[this.l?"J":"Y"]=i,II(this,e,n,a,1,r||o,p)}},t.$f=function(){return this.o},t.ip=function(){return this.i},t.Xc=function(t){return this.$&&void 0!==this.B?t:1},t.dc=function(t,e,o){var i=this.tileGrid;if(i||(i=this.eb(o)),!(i.b.length<=t[0])){1==e||this.$&&void 0!==this.B||(e=1);var r=i.Ta(t[0]),n=i.Ma(t,this.ca);i=G(i.Za(t[0]),this.j);var s=this.o;return 0!==s&&(i=u(i,s,this.j),n=B(n,r*s,n)),1!=e&&(i=g(i,e,this.j)),tt(r={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},this.i),II(this,t,i,n,e,o,r)}},t.jp=function(t){tt(this.i,t),wI(this),bm(this,bI(this))},s(MI,wp),(t=MI.prototype).ia=function(){for(var t=0,e=this.a.length;t<e;++t){var o=this.a[t],i=this.c[o];i.c--,0==i.c&&(delete this.c[o],we(i))}this.a.length=0,this.c=null,this.f.forEach(me),this.f.length=0,this.g&&we(this.g),this.state=5,this.u(),this.N.forEach(me),this.N.length=0,wp.prototype.ia.call(this)},t.Y=function(t){return-1==xI(this,t).fh?null:SI(this,t).canvas},t.lb=function(){return this.a.join("/")+"-"+this.D},t.load=function(){var i=0,r={};0==this.state&&xp(this,1),1==this.state&&this.a.forEach(function(t){var o=this.c[t];0==o.state&&(o.ug(this.C),o.load()),1==o.state&&(t=ve(o,"change",function(){var t=o.getState();if(2==t||3==t){var e=Qt(o);3==t?r[e]=!0:(--i,delete r[e]),0==i-Object.keys(r).length&&this.Kh()}}.bind(this)),this.f.push(t),++i)}.bind(this)),0==i-Object.keys(r).length&&setTimeout(this.Kh.bind(this),0)},t.Kh=function(){for(var t=this.a.length,e=0,o=t-1;0<=o;--o){var i=this.c[this.a[o]].getState();2!=i&&--t,4==i&&++e}t==this.a.length?(this.f.forEach(me),this.f.length=0,xp(this,2)):xp(this,e==this.a.length?4:3)},s(EI,Sm),(t=EI.prototype).clear=function(){this.a.clear(),this.i={}},t.ad=function(t,e,o,i,r){var n=t+"/"+e+"/"+o;return this.a.a.hasOwnProperty(n)?this.a.get(n):(e=wm(this,t=[t,e,o],r),i=new MI(t,null!==e?0:4,this.g,this.l,this.tileLoadFunction,e,this.tileUrlFunction,this.tileGrid,this.eb(r),this.i,i,r,this.tileClass,this.dj.bind(this),this.Ea),this.a.set(n,i),i)},t.eb=function(t){var e=t.wb,o=this.f[e];return o||(o=this.tileGrid,o=this.f[e]=le(t,void 0,o?o.Za(o.minZoom):void 0)),o},t.Xc=function(t){return t},t.Zd=function(t,e,o){return t=G(this.eb(o).Za(t)),[Math.round(t[0]*e),Math.round(t[1]*e)]},s(LI,Kt),LI.prototype.v=function(){return this.s},s(jI,xm),(t=jI.prototype).vb=function(t){var e=(this.urls=t).join("\n");this.hb(this.dc?this.dc.bind(this):hm(t.map(this.l.bind(this))),e)},t.ol=function(){return this.i},t.kp=function(){return this.B},t.lp=function(){return this.$},t.Al=function(){return this.o},t.Nl=function(){return this.ua},t.mp=function(){return this.ca},t.Ul=function(){return this.La},t.Tq=function(t){tt(this.i,t),bm(this,FI(this))},s(RI,xm),s(OI,Ep),OI.prototype.Y=function(){if(this.a)return this.a;var t=Ep.prototype.Y.call(this);if(2==this.state){var e=this.o;return t.width==e[0]&&t.height==e[1]?this.a=t:((e=fr(e[0],e[1])).drawImage(t,0,0),this.a=e.canvas)}return t};var NI="default",kI="truncated";return p.prototype.code=p.prototype.code,i("ol.Attribution",ue),ue.prototype.getHTML=ue.prototype.b,i("ol.CanvasMap",Ha),i("ol.Collection",Oe),Oe.prototype.clear=Oe.prototype.clear,Oe.prototype.extend=Oe.prototype.qg,Oe.prototype.forEach=Oe.prototype.forEach,Oe.prototype.getArray=Oe.prototype.Xm,Oe.prototype.item=Oe.prototype.item,Oe.prototype.getLength=Oe.prototype.kc,Oe.prototype.insertAt=Oe.prototype.Re,Oe.prototype.pop=Oe.prototype.pop,Oe.prototype.push=Oe.prototype.push,Oe.prototype.remove=Oe.prototype.remove,Oe.prototype.removeAt=Oe.prototype.Wg,Oe.prototype.setAt=Oe.prototype.rq,_e.prototype.element=_e.prototype.element,i("ol.color.asArray",ds),i("ol.color.asString",vs),i("ol.colorlike.asColorLike",bs),i("ol.control.defaults",Br),i("ol.coordinate.add",Wo),i("ol.coordinate.createStringXY",function(e){return function(t){return oi(t,e)}}),i("ol.coordinate.format",Ko),i("ol.coordinate.rotate",qo),i("ol.coordinate.toStringHDMS",function(t,e){return t?Yo("NS",t[1],e)+" "+Yo("EW",t[0],e):""}),i("ol.coordinate.toStringXY",oi),i("ol.DeviceOrientation",Wa),Wa.prototype.getAlpha=Wa.prototype.Ym,Wa.prototype.getBeta=Wa.prototype.ll,Wa.prototype.getGamma=Wa.prototype.ql,Wa.prototype.getHeading=Wa.prototype.Zm,Wa.prototype.getTracking=Wa.prototype.li,Wa.prototype.setTracking=Wa.prototype.rg,i("ol.easing.easeIn",ii),i("ol.easing.easeOut",ri),i("ol.easing.inAndOut",ni),i("ol.easing.linear",si),i("ol.easing.upAndDown",function(t){return t<.5?ni(2*t):1-ni(2*(t-.5))}),i("ol.extent.boundingExtent",b),i("ol.extent.buffer",B),i("ol.extent.containsCoordinate",w),i("ol.extent.containsExtent",U),i("ol.extent.containsXY",M),i("ol.extent.createEmpty",k),i("ol.extent.equals",Z),i("ol.extent.extend",T),i("ol.extent.getArea",R),i("ol.extent.getBottomLeft",D),i("ol.extent.getBottomRight",_),i("ol.extent.getCenter",V),i("ol.extent.getHeight",W),i("ol.extent.getIntersection",X),i("ol.extent.getSize",function(t){return[t[2]-t[0],t[3]-t[1]]}),i("ol.extent.getTopLeft",Y),i("ol.extent.getTopRight",K),i("ol.extent.getWidth",J),i("ol.extent.intersects",te),i("ol.extent.isEmpty",q),i("ol.extent.applyTransform",$),i("ol.Feature",lp),lp.prototype.clone=lp.prototype.clone,lp.prototype.getGeometry=lp.prototype.U,lp.prototype.getId=lp.prototype.an,lp.prototype.getGeometryName=lp.prototype.sl,lp.prototype.getStyle=lp.prototype.bn,lp.prototype.getStyleFunction=lp.prototype.ib,lp.prototype.setGeometry=lp.prototype.Va,lp.prototype.setStyle=lp.prototype.sg,lp.prototype.setId=lp.prototype.qc,lp.prototype.setGeometryName=lp.prototype.Lc,i("ol.featureloader.xhr",Uc),i("ol.Geolocation",cp),cp.prototype.getAccuracy=cp.prototype.el,cp.prototype.getAccuracyGeometry=cp.prototype.fl,cp.prototype.getAltitude=cp.prototype.gl,cp.prototype.getAltitudeAccuracy=cp.prototype.hl,cp.prototype.getHeading=cp.prototype.cn,cp.prototype.getPosition=cp.prototype.dn,cp.prototype.getProjection=cp.prototype.mi,cp.prototype.getSpeed=cp.prototype.Ol,cp.prototype.getTracking=cp.prototype.ni,cp.prototype.getTrackingOptions=cp.prototype.ai,cp.prototype.setProjection=cp.prototype.oi,cp.prototype.setTracking=cp.prototype.Ue,cp.prototype.setTrackingOptions=cp.prototype.Rj,i("ol.Graticule",vp),vp.prototype.getMap=vp.prototype.gn,vp.prototype.getMeridians=vp.prototype.Cl,vp.prototype.getParallels=vp.prototype.Jl,vp.prototype.setMap=vp.prototype.setMap,i("ol.has.DEVICE_PIXEL_RATIO",Je),i("ol.has.CANVAS",Qe),i("ol.has.DEVICE_ORIENTATION",$e),i("ol.has.GEOLOCATION",to),i("ol.has.TOUCH",eo),i("ol.has.WEBGL",Ze),bp.prototype.getImage=bp.prototype.Y,bp.prototype.load=bp.prototype.load,Ep.prototype.getImage=Ep.prototype.Y,i("ol.inherits",s),i("ol.interaction.defaults",Wn),i("ol.Kinetic",Ur),i("ol.loadingstrategy.all",zA),i("ol.loadingstrategy.bbox",function(t){return[t]}),i("ol.loadingstrategy.tile",function(i){return function(t,e){e=i.Dc(e),t=re(i,t,e);var o=[];for((e=[e,0,0])[1]=t.fa;e[1]<=t.la;++e[1])for(e[2]=t.ea;e[2]<=t.ka;++e[2])o.push(i.Ma(e));return o}}),i("ol.Map",Rl),Be.prototype.originalEvent=Be.prototype.originalEvent,Be.prototype.pixel=Be.prototype.pixel,Be.prototype.coordinate=Be.prototype.coordinate,Be.prototype.dragging=Be.prototype.dragging,Ge.prototype.map=Ge.prototype.map,Ge.prototype.frameState=Ge.prototype.frameState,i("ol.Object",Le),Le.prototype.get=Le.prototype.get,Le.prototype.getKeys=Le.prototype.P,Le.prototype.getProperties=Le.prototype.L,Le.prototype.set=Le.prototype.set,Le.prototype.setProperties=Le.prototype.H,Le.prototype.unset=Le.prototype.R,Re.prototype.key=Re.prototype.key,Re.prototype.oldValue=Re.prototype.oldValue,i("ol.Observable",Ee),i("ol.Observable.unByKey",function(t){if(Array.isArray(t))for(var e=0,o=t.length;e<o;++e)me(t[e]);else me(t)}),Ee.prototype.changed=Ee.prototype.u,Ee.prototype.dispatchEvent=Ee.prototype.b,Ee.prototype.getRevision=Ee.prototype.K,Ee.prototype.on=Ee.prototype.I,Ee.prototype.once=Ee.prototype.once,Ee.prototype.un=Ee.prototype.J,i("ol.Overlay",Ol),Ol.prototype.getElement=Ol.prototype.Rd,Ol.prototype.getId=Ol.prototype.nn,Ol.prototype.getMap=Ol.prototype.Ve,Ol.prototype.getOffset=Ol.prototype.Xh,Ol.prototype.getPosition=Ol.prototype.pi,Ol.prototype.getPositioning=Ol.prototype.Yh,Ol.prototype.setElement=Ol.prototype.Hj,Ol.prototype.setMap=Ol.prototype.setMap,Ol.prototype.setOffset=Ol.prototype.Mj,Ol.prototype.setPosition=Ol.prototype.We,Ol.prototype.setPositioning=Ol.prototype.Pj,i("ol.PluggableMap",xr),xr.prototype.addControl=xr.prototype.Mf,xr.prototype.addInteraction=xr.prototype.Nf,xr.prototype.addLayer=xr.prototype.xe,xr.prototype.addOverlay=xr.prototype.ye,xr.prototype.forEachFeatureAtPixel=xr.prototype.Tc,xr.prototype.getFeaturesAtPixel=xr.prototype.Xf,xr.prototype.forEachLayerAtPixel=xr.prototype.tg,xr.prototype.hasFeatureAtPixel=xr.prototype.ng,xr.prototype.getEventCoordinate=xr.prototype.Sd,xr.prototype.getEventPixel=xr.prototype.ud,xr.prototype.getTarget=xr.prototype.Xd,xr.prototype.getTargetElement=xr.prototype.Cc,xr.prototype.getCoordinateFromPixel=xr.prototype.Ra,xr.prototype.getControls=xr.prototype.Wf,xr.prototype.getOverlays=xr.prototype.gg,xr.prototype.getOverlayById=xr.prototype.fg,xr.prototype.getInteractions=xr.prototype.bg,xr.prototype.getLayerGroup=xr.prototype.hc,xr.prototype.getLayers=xr.prototype.Xe,xr.prototype.getPixelFromCoordinate=xr.prototype.Ia,xr.prototype.getSize=xr.prototype.Cb,xr.prototype.getView=xr.prototype.aa,xr.prototype.getViewport=xr.prototype.kg,xr.prototype.renderSync=xr.prototype.dh,xr.prototype.render=xr.prototype.render,xr.prototype.removeControl=xr.prototype.Xg,xr.prototype.removeInteraction=xr.prototype.Zg,xr.prototype.removeLayer=xr.prototype.$g,xr.prototype.removeOverlay=xr.prototype.ah,xr.prototype.setLayerGroup=xr.prototype.zf,xr.prototype.setSize=xr.prototype.be,xr.prototype.setTarget=xr.prototype.Ad,xr.prototype.setView=xr.prototype.jh,xr.prototype.updateSize=xr.prototype.Oc,i("ol.proj.METERS_PER_UNIT",at),i("ol.proj.setProj4",function(t){pt=t}),i("ol.proj.getPointResolution",xt),i("ol.proj.addEquivalentProjections",Pt),i("ol.proj.addProjection",Et),i("ol.proj.addCoordinateTransforms",Tt),i("ol.proj.fromLonLat",function(t,e){return _t(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}),i("ol.proj.toLonLat",function(t,e){return((e=(t=_t(t,void 0!==e?e:"EPSG:3857","EPSG:4326"))[0])<-180||180<e)&&(t[0]=v(e+180,360)-180),t}),i("ol.proj.get",Ft),i("ol.proj.equivalent",Rt),i("ol.proj.getTransform",Ot),i("ol.proj.transform",_t),i("ol.proj.transformExtent",Gt),i("ol.render.toContext",function(t,e){var o=t.canvas,i=e||{};return e=i.pixelRatio||Je,(i=i.size)&&(o.width=i[0]*e,o.height=i[1]*e,o.style.width=i[0]+"px",o.style.height=i[1]+"px"),new Ms(t,e,o=[0,0,o.width,o.height],i=Ai([1,0,0,1,0,0],e,e),0)}),i("ol.size.toSize",G),i("ol.Sphere",it),it.prototype.geodesicArea=it.prototype.a,it.prototype.haversineDistance=it.prototype.b,i("ol.Sphere.getLength",function t(e,o){var i=o||{},r=i.radius||6371008.8;i=i.projection||"EPSG:3857";var n,s=(e=e.clone().mb(i,"EPSG:4326")).S();switch(i=0,s){case"Point":case"MultiPoint":break;case"LineString":case"LinearRing":o=e.W(),i=rt(o,r);break;case"MultiLineString":case"Polygon":for(o=e.W(),e=0,s=o.length;e<s;++e)i+=rt(o[e],r);break;case"MultiPolygon":for(o=e.W(),e=0,s=o.length;e<s;++e){var a=o[e],p=0;for(n=a.length;p<n;++p)i+=rt(a[p],r)}break;case"GeometryCollection":for(r=e.vd(),e=0,s=r.length;e<s;++e)i+=t(r[e],o);break;default:throw Error("Unsupported geometry type: "+s)}return i}),i("ol.Sphere.getArea",function t(e,o){var i=o||{},r=i.radius||6371008.8;i=i.projection||"EPSG:3857";var n,s=(e=e.clone().mb(i,"EPSG:4326")).S();switch(i=0,s){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":for(o=e.W(),i=Math.abs(st(o[0],r)),e=1,s=o.length;e<s;++e)i-=Math.abs(st(o[e],r));break;case"MultiPolygon":for(o=e.W(),e=0,s=o.length;e<s;++e){var a=o[e];i+=Math.abs(st(a[0],r));var p=1;for(n=a.length;p<n;++p)i-=Math.abs(st(a[p],r))}break;case"GeometryCollection":for(r=e.vd(),e=0,s=r.length;e<s;++e)i+=t(r[e],o);break;default:throw Error("Unsupported geometry type: "+s)}return i}),i("ol.style.iconImageCache",Ws),wp.prototype.getTileCoord=wp.prototype.i,wp.prototype.load=wp.prototype.load,i("ol.tilegrid.createXYZ",pe),Zl.prototype.getExtent=Zl.prototype.G,Zl.prototype.getFormat=Zl.prototype.qn,Zl.prototype.getFeatures=Zl.prototype.pn,Zl.prototype.getProjection=Zl.prototype.rn,Zl.prototype.setExtent=Zl.prototype.ri,Zl.prototype.setFeatures=Zl.prototype.Ij,Zl.prototype.setProjection=Zl.prototype.vg,Zl.prototype.setLoader=Zl.prototype.ug,i("ol.View",ar),ar.prototype.animate=ar.prototype.animate,ar.prototype.getAnimating=ar.prototype.Ac,ar.prototype.getInteracting=ar.prototype.Vh,ar.prototype.cancelAnimations=ar.prototype.rd,ar.prototype.constrainCenter=ar.prototype.Sc,ar.prototype.constrainResolution=ar.prototype.constrainResolution,ar.prototype.constrainRotation=ar.prototype.constrainRotation,ar.prototype.getCenter=ar.prototype.xa,ar.prototype.calculateExtent=ar.prototype.qd,ar.prototype.getMaxResolution=ar.prototype.sn,ar.prototype.getMinResolution=ar.prototype.vn,ar.prototype.getMaxZoom=ar.prototype.tn,ar.prototype.setMaxZoom=ar.prototype.Cq,ar.prototype.getMinZoom=ar.prototype.wn,ar.prototype.setMinZoom=ar.prototype.Dq,ar.prototype.getProjection=ar.prototype.xn,ar.prototype.getResolution=ar.prototype.Pa,ar.prototype.getResolutions=ar.prototype.yn,ar.prototype.getResolutionForExtent=ar.prototype.Je,ar.prototype.getRotation=ar.prototype.Sa,ar.prototype.getZoom=ar.prototype.lg,ar.prototype.getZoomForResolution=ar.prototype.Me,ar.prototype.getResolutionForZoom=ar.prototype.$h,ar.prototype.fit=ar.prototype.Uf,ar.prototype.centerOn=ar.prototype.Nk,ar.prototype.rotate=ar.prototype.rotate,ar.prototype.setCenter=ar.prototype.ub,ar.prototype.setResolution=ar.prototype.gd,ar.prototype.setRotation=ar.prototype.ce,ar.prototype.setZoom=ar.prototype.Tj,i("ol.xml.getAllTextContent",Ic),i("ol.xml.parse",Mc),Jp.prototype.getGL=Jp.prototype.yp,Jp.prototype.useProgram=Jp.prototype.cd,i("ol.tilegrid.TileGrid",Kt),Kt.prototype.forEachTileCoord=Kt.prototype.Vf,Kt.prototype.getMaxZoom=Kt.prototype.mj,Kt.prototype.getMinZoom=Kt.prototype.nj,Kt.prototype.getOrigin=Kt.prototype.Ic,Kt.prototype.getResolution=Kt.prototype.Ta,Kt.prototype.getResolutions=Kt.prototype.oj,Kt.prototype.getTileCoordExtent=Kt.prototype.Ma,Kt.prototype.getTileCoordForCoordAndResolution=Kt.prototype.Le,Kt.prototype.getTileCoordForCoordAndZ=Kt.prototype.jg,Kt.prototype.getTileSize=Kt.prototype.Za,Kt.prototype.getZForResolution=Kt.prototype.Dc,i("ol.tilegrid.WMTS",LI),LI.prototype.getMatrixIds=LI.prototype.v,i("ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet",TI),i("ol.style.AtlasManager",al),i("ol.style.Circle",ep),ep.prototype.setRadius=ep.prototype.fd,i("ol.style.Fill",op),op.prototype.clone=op.prototype.clone,op.prototype.getColor=op.prototype.g,op.prototype.setColor=op.prototype.c,i("ol.style.Icon",ny),ny.prototype.clone=ny.prototype.clone,ny.prototype.getAnchor=ny.prototype.Vc,ny.prototype.getColor=ny.prototype.np,ny.prototype.getImage=ny.prototype.Y,ny.prototype.getOrigin=ny.prototype.bd,ny.prototype.getSrc=ny.prototype.op,ny.prototype.getSize=ny.prototype.oc,ny.prototype.load=ny.prototype.load,Vs.prototype.setSize=Vs.prototype.c,i("ol.style.Image",Qa),Qa.prototype.getOpacity=Qa.prototype.hf,Qa.prototype.getRotateWithView=Qa.prototype.jf,Qa.prototype.getRotation=Qa.prototype.kf,Qa.prototype.getScale=Qa.prototype.lf,Qa.prototype.getSnapToPixel=Qa.prototype.Ke,Qa.prototype.setOpacity=Qa.prototype.Ed,Qa.prototype.setRotation=Qa.prototype.mf,Qa.prototype.setScale=Qa.prototype.Fd,i("ol.style.RegularShape",$a),$a.prototype.clone=$a.prototype.clone,$a.prototype.getAnchor=$a.prototype.Vc,$a.prototype.getAngle=$a.prototype.ij,$a.prototype.getFill=$a.prototype.Fa,$a.prototype.getImage=$a.prototype.Y,$a.prototype.getOrigin=$a.prototype.bd,$a.prototype.getPoints=$a.prototype.jj,$a.prototype.getRadius=$a.prototype.kj,$a.prototype.getRadius2=$a.prototype.Zh,$a.prototype.getSize=$a.prototype.oc,$a.prototype.getStroke=$a.prototype.Ga,i("ol.style.Stroke",ip),ip.prototype.clone=ip.prototype.clone,ip.prototype.getColor=ip.prototype.pp,ip.prototype.getLineCap=ip.prototype.vl,ip.prototype.getLineDash=ip.prototype.qp,ip.prototype.getLineDashOffset=ip.prototype.wl,ip.prototype.getLineJoin=ip.prototype.xl,ip.prototype.getMiterLimit=ip.prototype.Dl,ip.prototype.getWidth=ip.prototype.rp,ip.prototype.setColor=ip.prototype.sp,ip.prototype.setLineCap=ip.prototype.yq,ip.prototype.setLineDash=ip.prototype.setLineDash,ip.prototype.setLineDashOffset=ip.prototype.zq,ip.prototype.setLineJoin=ip.prototype.Aq,ip.prototype.setMiterLimit=ip.prototype.Eq,ip.prototype.setWidth=ip.prototype.Kq,i("ol.style.Style",rp),rp.prototype.clone=rp.prototype.clone,rp.prototype.getRenderer=rp.prototype.Ie,rp.prototype.setRenderer=rp.prototype.Iq,rp.prototype.getGeometry=rp.prototype.U,rp.prototype.getGeometryFunction=rp.prototype.rl,rp.prototype.getFill=rp.prototype.Fa,rp.prototype.setFill=rp.prototype.yf,rp.prototype.getImage=rp.prototype.Y,rp.prototype.setImage=rp.prototype.ih,rp.prototype.getStroke=rp.prototype.Ga,rp.prototype.setStroke=rp.prototype.Af,rp.prototype.getText=rp.prototype.Ka,rp.prototype.setText=rp.prototype.Hd,rp.prototype.getZIndex=rp.prototype.Ba,rp.prototype.setGeometry=rp.prototype.Va,rp.prototype.setZIndex=rp.prototype.$b,i("ol.style.Text",dp),dp.prototype.clone=dp.prototype.clone,dp.prototype.getOverflow=dp.prototype.Gl,dp.prototype.getFont=dp.prototype.pl,dp.prototype.getMaxAngle=dp.prototype.Bl,dp.prototype.getPlacement=dp.prototype.Kl,dp.prototype.getOffsetX=dp.prototype.El,dp.prototype.getOffsetY=dp.prototype.Fl,dp.prototype.getFill=dp.prototype.Fa,dp.prototype.getRotateWithView=dp.prototype.tp,dp.prototype.getRotation=dp.prototype.up,dp.prototype.getScale=dp.prototype.vp,dp.prototype.getStroke=dp.prototype.Ga,dp.prototype.getText=dp.prototype.Ka,dp.prototype.getTextAlign=dp.prototype.Ql,dp.prototype.getTextBaseline=dp.prototype.Rl,dp.prototype.getBackgroundFill=dp.prototype.jl,dp.prototype.getBackgroundStroke=dp.prototype.kl,dp.prototype.getPadding=dp.prototype.Il,dp.prototype.setOverflow=dp.prototype.Fq,dp.prototype.setFont=dp.prototype.Jj,dp.prototype.setMaxAngle=dp.prototype.Bq,dp.prototype.setOffsetX=dp.prototype.Nj,dp.prototype.setOffsetY=dp.prototype.Oj,dp.prototype.setPlacement=dp.prototype.Hq,dp.prototype.setFill=dp.prototype.yf,dp.prototype.setRotation=dp.prototype.wp,dp.prototype.setScale=dp.prototype.lj,dp.prototype.setStroke=dp.prototype.Af,dp.prototype.setText=dp.prototype.Hd,dp.prototype.setTextAlign=dp.prototype.Qj,dp.prototype.setTextBaseline=dp.prototype.Jq,dp.prototype.setBackgroundFill=dp.prototype.sq,dp.prototype.setBackgroundStroke=dp.prototype.tq,dp.prototype.setPadding=dp.prototype.Gq,i("ol.source.BingMaps",Tm),i("ol.source.BingMaps.TOS_ATTRIBUTION",'<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'),Tm.prototype.getApiKey=Tm.prototype.ca,Tm.prototype.getImagerySet=Tm.prototype.ua,i("ol.source.CartoDB",Fm),Fm.prototype.getConfig=Fm.prototype.nl,Fm.prototype.updateConfig=Fm.prototype.Sq,Fm.prototype.setConfig=Fm.prototype.uq,i("ol.source.Cluster",Nm),Nm.prototype.getDistance=Nm.prototype.Eo,Nm.prototype.getSource=Nm.prototype.Fo,Nm.prototype.setDistance=Nm.prototype.vq,i("ol.source.Image",Gm),zm.prototype.image=zm.prototype.image,i("ol.source.ImageArcGISRest",Xm),Xm.prototype.getParams=Xm.prototype.Ho,Xm.prototype.getImageLoadFunction=Xm.prototype.Go,Xm.prototype.getUrl=Xm.prototype.Io,Xm.prototype.setImageLoadFunction=Xm.prototype.Jo,Xm.prototype.setUrl=Xm.prototype.Ko,Xm.prototype.updateParams=Xm.prototype.Lo,i("ol.source.ImageCanvas",Ym),i("ol.source.ImageMapGuide",Km),Km.prototype.getParams=Km.prototype.No,Km.prototype.getImageLoadFunction=Km.prototype.Mo,Km.prototype.updateParams=Km.prototype.Po,Km.prototype.setImageLoadFunction=Km.prototype.Oo,i("ol.source.ImageStatic",Jm),i("ol.source.ImageVector",qm),qm.prototype.getSource=qm.prototype.Qo,qm.prototype.getStyle=qm.prototype.Ro,qm.prototype.getStyleFunction=qm.prototype.ib,qm.prototype.setStyle=qm.prototype.aj,i("ol.source.ImageWMS",Qm),Qm.prototype.getGetFeatureInfoUrl=Qm.prototype.Uo,Qm.prototype.getParams=Qm.prototype.Wo,Qm.prototype.getImageLoadFunction=Qm.prototype.Vo,Qm.prototype.getUrl=Qm.prototype.Xo,Qm.prototype.setImageLoadFunction=Qm.prototype.Yo,Qm.prototype.setUrl=Qm.prototype.Zo,Qm.prototype.updateParams=Qm.prototype.$o,i("ol.source.OSM",oI),i("ol.source.OSM.ATTRIBUTION",'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'),i("ol.source.Raster",iI),iI.prototype.setOperation=iI.prototype.s,nI.prototype.extent=nI.prototype.extent,nI.prototype.resolution=nI.prototype.resolution,nI.prototype.data=nI.prototype.data,i("ol.source.Source",ZA),ZA.prototype.getAttributions=ZA.prototype.za,ZA.prototype.getLogo=ZA.prototype.Aa,ZA.prototype.getProjection=ZA.prototype.Da,ZA.prototype.getState=ZA.prototype.getState,ZA.prototype.refresh=ZA.prototype.sa,ZA.prototype.setAttributions=ZA.prototype.va,i("ol.source.Stamen",pI),i("ol.source.Tile",mm),mm.prototype.getTileGrid=mm.prototype.jb,Mm.prototype.tile=Mm.prototype.tile,i("ol.source.TileArcGISRest",uI),uI.prototype.getParams=uI.prototype.o,uI.prototype.updateParams=uI.prototype.B,i("ol.source.TileDebug",yI),i("ol.source.TileImage",xm),xm.prototype.setRenderReprojectionEdges=xm.prototype.Qb,xm.prototype.setTileGridForProjection=xm.prototype.Rb,i("ol.source.TileJSON",dI),dI.prototype.getTileJSON=dI.prototype.Sl,i("ol.source.TileUTFGrid",vI),vI.prototype.getTemplate=vI.prototype.Pl,vI.prototype.forDataAtCoordinateAndResolution=vI.prototype.al,i("ol.source.TileWMS",mI),mI.prototype.getGetFeatureInfoUrl=mI.prototype.hp,mI.prototype.getParams=mI.prototype.ip,mI.prototype.updateParams=mI.prototype.jp,Sm.prototype.getTileLoadFunction=Sm.prototype.yb,Sm.prototype.getTileUrlFunction=Sm.prototype.zb,Sm.prototype.getUrls=Sm.prototype.Ab,Sm.prototype.setTileLoadFunction=Sm.prototype.Fb,Sm.prototype.setTileUrlFunction=Sm.prototype.hb,Sm.prototype.setUrl=Sm.prototype.rb,Sm.prototype.setUrls=Sm.prototype.vb,i("ol.source.Vector",WA),WA.prototype.addFeature=WA.prototype.Gb,WA.prototype.addFeatures=WA.prototype.Qc,WA.prototype.clear=WA.prototype.clear,WA.prototype.forEachFeature=WA.prototype.Lh,WA.prototype.forEachFeatureInExtent=WA.prototype.ec,WA.prototype.forEachFeatureIntersectingExtent=WA.prototype.Mh,WA.prototype.getFeaturesCollection=WA.prototype.Th,WA.prototype.getFeatures=WA.prototype.ee,WA.prototype.getFeaturesAtCoordinate=WA.prototype.Sh,WA.prototype.getFeaturesInExtent=WA.prototype.Yf,WA.prototype.getClosestFeatureToCoordinate=WA.prototype.Oh,WA.prototype.getExtent=WA.prototype.G,WA.prototype.getFeatureById=WA.prototype.Rh,WA.prototype.getFormat=WA.prototype.ej,WA.prototype.getUrl=WA.prototype.fj,WA.prototype.removeLoadedExtent=WA.prototype.Cj,WA.prototype.removeFeature=WA.prototype.Lb,WA.prototype.setLoader=WA.prototype.hj,qA.prototype.feature=qA.prototype.feature,i("ol.source.VectorTile",EI),EI.prototype.clear=EI.prototype.clear,i("ol.source.WMTS",jI),jI.prototype.getDimensions=jI.prototype.ol,jI.prototype.getFormat=jI.prototype.kp,jI.prototype.getLayer=jI.prototype.lp,jI.prototype.getMatrixSet=jI.prototype.Al,jI.prototype.getRequestEncoding=jI.prototype.Nl,jI.prototype.getStyle=jI.prototype.mp,jI.prototype.getVersion=jI.prototype.Ul,jI.prototype.updateDimensions=jI.prototype.Tq,i("ol.source.WMTS.optionsFromCapabilities",function(t,r){var e=Ht(t.Contents.Layer,function(t){return t.Identifier==r.layer});if(null===e)return null;var n=t.Contents.TileMatrixSet,o=1<e.TileMatrixSetLink.length?Xt(e.TileMatrixSetLink,"projection"in r?function(e){var t=Ht(n,function(t){return t.Identifier==e.TileMatrixSet}).SupportedCRS,o=Ft(t.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Ft(t),i=Ft(r.projection);return o&&i?Rt(o,i):t==r.projection}:function(t){return t.TileMatrixSet==r.matrixSet}):0;o<0&&(o=0);var i=e.TileMatrixSetLink[o].TileMatrixSet,s=e.TileMatrixSetLink[o].TileMatrixSetLimits,a=e.Format[0];"format"in r&&(a=r.format),(o=Xt(e.Style,function(t){return"style"in r?t.Title==r.style:t.isDefault}))<0&&(o=0),o=e.Style[o].Identifier;var p={};"Dimension"in e&&e.Dimension.forEach(function(t){var e=t.Identifier,o=t.Default;void 0===o&&(o=t.Value[0]),p[e]=o});var h,l=Ht(t.Contents.TileMatrixSet,function(t){return t.Identifier==i}),c=l.SupportedCRS;if(c&&(h=Ft(c.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Ft(c)),"projection"in r&&(!(c=Ft(r.projection))||h&&!Rt(c,h)||(h=c)),void 0!==(c=e.WGS84BoundingBox)){var u=Ft("EPSG:4326").G();u=c[0]==u[0]&&c[2]==u[2];var g=Gt(c,"EPSG:4326",h);(c=h.G())&&(U(c,g)||(g=void 0))}s=TI(l,g,s);var y=[];if(l=void 0!==(l=r.requestEncoding)?l:"","OperationsMetadata"in t&&"GetTile"in t.OperationsMetadata)for(g=0,c=(t=t.OperationsMetadata.GetTile.DCP.HTTP.Get).length;g<c;++g)if(t[g].Constraint){var f=Ht(t[g].Constraint,function(t){return"GetEncoding"==t.name}).AllowedValues.Value;if(""===l&&(l=f[0]),"KVP"!==l)break;zt(f,"KVP")&&y.push(t[g].href)}else t[g].href&&(l="KVP",y.push(t[g].href));return 0===y.length&&(l="REST",e.ResourceURL.forEach(function(t){"tile"===t.resourceType&&(a=t.format,y.push(t.template))})),{urls:y,layer:r.layer,matrixSet:i,format:a,projection:h,requestEncoding:l,tileGrid:s,style:o,dimensions:p,wrapX:u,crossOrigin:r.crossOrigin}}),i("ol.source.XYZ",jm),i("ol.source.Zoomify",RI),i("ol.renderer.webgl.ImageLayer",Ml),i("ol.renderer.webgl.Map",Sl),i("ol.renderer.webgl.TileLayer",jl),i("ol.renderer.webgl.VectorLayer",Fl),i("ol.renderer.canvas.ImageLayer",Zs),i("ol.renderer.canvas.Map",ta),i("ol.renderer.canvas.TileLayer",oa),i("ol.renderer.canvas.VectorLayer",Ua),i("ol.renderer.canvas.VectorTileLayer",za),Kn.prototype.vectorContext=Kn.prototype.vectorContext,Kn.prototype.frameState=Kn.prototype.frameState,Kn.prototype.context=Kn.prototype.context,Kn.prototype.glContext=Kn.prototype.glContext,Xf.prototype.get=Xf.prototype.get,Xf.prototype.getExtent=Xf.prototype.G,Xf.prototype.getId=Xf.prototype.Ao,Xf.prototype.getGeometry=Xf.prototype.U,Xf.prototype.getProperties=Xf.prototype.Bo,Xf.prototype.getType=Xf.prototype.S,i("ol.render.VectorContext",ws),Al.prototype.setStyle=Al.prototype.Dd,Al.prototype.drawGeometry=Al.prototype.Hb,Al.prototype.drawFeature=Al.prototype.Ce,Ms.prototype.drawCircle=Ms.prototype.cc,Ms.prototype.setStyle=Ms.prototype.Dd,Ms.prototype.drawGeometry=Ms.prototype.Hb,Ms.prototype.drawFeature=Ms.prototype.Ce,i("ol.proj.common.add",Bt),i("ol.proj.Projection",ht),ht.prototype.getCode=ht.prototype.ml,ht.prototype.getExtent=ht.prototype.G,ht.prototype.getUnits=ht.prototype.zo,ht.prototype.getMetersPerUnit=ht.prototype.Bc,ht.prototype.getWorldExtent=ht.prototype.Vl,ht.prototype.getAxisOrientation=ht.prototype.il,ht.prototype.isGlobal=ht.prototype.Gm,ht.prototype.setGlobal=ht.prototype.xq,ht.prototype.setExtent=ht.prototype.Si,ht.prototype.setWorldExtent=ht.prototype.Sj,ht.prototype.setGetPointResolution=ht.prototype.wq,i("ol.proj.Units.METERS_PER_UNIT",at),i("ol.layer.Base",Ar),Ar.prototype.getExtent=Ar.prototype.G,Ar.prototype.getMaxResolution=Ar.prototype.lc,Ar.prototype.getMinResolution=Ar.prototype.mc,Ar.prototype.getOpacity=Ar.prototype.nc,Ar.prototype.getVisible=Ar.prototype.Jb,Ar.prototype.getZIndex=Ar.prototype.Ba,Ar.prototype.setExtent=Ar.prototype.Fc,Ar.prototype.setMaxResolution=Ar.prototype.Mc,Ar.prototype.setMinResolution=Ar.prototype.Nc,Ar.prototype.setOpacity=Ar.prototype.Gc,Ar.prototype.setVisible=Ar.prototype.Hc,Ar.prototype.setZIndex=Ar.prototype.$b,i("ol.layer.Group",mr),mr.prototype.getLayers=mr.prototype.Cd,mr.prototype.setLayers=mr.prototype.Qi,i("ol.layer.Heatmap",$C),$C.prototype.getBlur=$C.prototype.Nh,$C.prototype.getGradient=$C.prototype.Uh,$C.prototype.getRadius=$C.prototype.Ri,$C.prototype.setBlur=$C.prototype.Fj,$C.prototype.setGradient=$C.prototype.Lj,$C.prototype.setRadius=$C.prototype.fd,i("ol.layer.Image",rm),rm.prototype.getSource=rm.prototype.ha,i("ol.layer.Layer",Fr),Fr.prototype.getSource=Fr.prototype.ha,Fr.prototype.setMap=Fr.prototype.setMap,Fr.prototype.setSource=Fr.prototype.hd,i("ol.layer.Tile",nm),nm.prototype.getPreload=nm.prototype.c,nm.prototype.getSource=nm.prototype.ha,nm.prototype.setPreload=nm.prototype.j,nm.prototype.getUseInterimTilesOnError=nm.prototype.i,nm.prototype.setUseInterimTilesOnError=nm.prototype.C,i("ol.layer.Vector",BA),BA.prototype.getSource=BA.prototype.ha,BA.prototype.getStyle=BA.prototype.B,BA.prototype.getStyleFunction=BA.prototype.ib,BA.prototype.setStyle=BA.prototype.j,i("ol.layer.VectorTile",sm),sm.prototype.getPreload=sm.prototype.c,sm.prototype.getUseInterimTilesOnError=sm.prototype.i,sm.prototype.setPreload=sm.prototype.T,sm.prototype.setUseInterimTilesOnError=sm.prototype.O,sm.prototype.getSource=sm.prototype.ha,i("ol.interaction.DoubleClickZoom",Xr),i("ol.interaction.DoubleClickZoom.handleEvent",Yr),i("ol.interaction.DragAndDrop",LA),i("ol.interaction.DragAndDrop.handleEvent",ai),NA.prototype.features=NA.prototype.features,NA.prototype.file=NA.prototype.file,NA.prototype.projection=NA.prototype.projection,i("ol.interaction.DragBox",mn),mn.prototype.getGeometry=mn.prototype.U,En.prototype.coordinate=En.prototype.coordinate,En.prototype.mapBrowserEvent=En.prototype.mapBrowserEvent,i("ol.interaction.DragPan",hn),i("ol.interaction.DragRotate",gn),i("ol.interaction.DragRotateAndZoom",kA),i("ol.interaction.DragZoom",Ln),i("ol.interaction.Draw",QA),i("ol.interaction.Draw.handleEvent",$A),QA.prototype.removeLastPoint=QA.prototype.nq,QA.prototype.finishDrawing=QA.prototype.Pd,QA.prototype.extend=QA.prototype.Zn,i("ol.interaction.Draw.createRegularPolygon",function(r,n){return function(t,e){var o=t[0];t=t[1];var i=Math.sqrt($o(o,t));return sr(e=e||nr(new PA(o),r),o,i,n||Math.atan((t[1]-o[1])/(t[0]-o[0]))),e}}),i("ol.interaction.Draw.createBox",function(){return function(t,e){return t=b(t),(e=e||new or(null)).na([[D(t),_(t),K(t),Y(t),D(t)]]),e}}),uC.prototype.feature=uC.prototype.feature,i("ol.interaction.Extent",gC),gC.prototype.getExtent=gC.prototype.G,gC.prototype.setExtent=gC.prototype.f,bC.prototype.extent=bC.prototype.extent,i("ol.interaction.Interaction",Zr),Zr.prototype.getActive=Zr.prototype.c,Zr.prototype.getMap=Zr.prototype.i,Zr.prototype.setActive=Zr.prototype.Ha,i("ol.interaction.KeyboardPan",Tn),i("ol.interaction.KeyboardPan.handleEvent",jn),i("ol.interaction.KeyboardZoom",Fn),i("ol.interaction.KeyboardZoom.handleEvent",Rn),i("ol.interaction.Modify",wC),i("ol.interaction.Modify.handleEvent",jC),wC.prototype.removePoint=wC.prototype.Dj,kC.prototype.features=kC.prototype.features,kC.prototype.mapBrowserEvent=kC.prototype.mapBrowserEvent,i("ol.interaction.MouseWheelZoom",On),i("ol.interaction.MouseWheelZoom.handleEvent",Nn),On.prototype.setMouseAnchor=On.prototype.V,i("ol.interaction.PinchRotate",_n),i("ol.interaction.PinchZoom",zn),i("ol.interaction.Pointer",sn),i("ol.interaction.Pointer.handleEvent",pn),i("ol.interaction.Select",DC),DC.prototype.getFeatures=DC.prototype.lo,DC.prototype.getHitTolerance=DC.prototype.mo,DC.prototype.getLayer=DC.prototype.no,i("ol.interaction.Select.handleEvent",_C),DC.prototype.setHitTolerance=DC.prototype.po,DC.prototype.setMap=DC.prototype.setMap,GC.prototype.selected=GC.prototype.selected,GC.prototype.deselected=GC.prototype.deselected,GC.prototype.mapBrowserEvent=GC.prototype.mapBrowserEvent,i("ol.interaction.Snap",UC),UC.prototype.addFeature=UC.prototype.Gb,UC.prototype.removeFeature=UC.prototype.Lb,i("ol.interaction.Translate",HC),HC.prototype.getHitTolerance=HC.prototype.B,HC.prototype.setHitTolerance=HC.prototype.T,QC.prototype.features=QC.prototype.features,QC.prototype.coordinate=QC.prototype.coordinate,i("ol.geom.Circle",PA),PA.prototype.clone=PA.prototype.clone,PA.prototype.getCenter=PA.prototype.xa,PA.prototype.getRadius=PA.prototype.Bd,PA.prototype.getType=PA.prototype.S,PA.prototype.intersectsExtent=PA.prototype.$a,PA.prototype.setCenter=PA.prototype.ub,PA.prototype.setCenterAndRadius=PA.prototype.hh,PA.prototype.setRadius=PA.prototype.fd,PA.prototype.transform=PA.prototype.mb,i("ol.geom.Geometry",bi),bi.prototype.getClosestPoint=bi.prototype.Ib,bi.prototype.intersectsCoordinate=bi.prototype.Bb,bi.prototype.getExtent=bi.prototype.G,bi.prototype.rotate=bi.prototype.rotate,bi.prototype.scale=bi.prototype.scale,bi.prototype.simplify=bi.prototype.Sb,bi.prototype.transform=bi.prototype.mb,i("ol.geom.GeometryCollection",xg),xg.prototype.clone=xg.prototype.clone,xg.prototype.getGeometries=xg.prototype.vd,xg.prototype.getType=xg.prototype.S,xg.prototype.intersectsExtent=xg.prototype.$a,xg.prototype.setGeometries=xg.prototype.Kj,xg.prototype.applyTransform=xg.prototype.Rc,xg.prototype.translate=xg.prototype.translate,i("ol.geom.LinearRing",zi),zi.prototype.clone=zi.prototype.clone,zi.prototype.getArea=zi.prototype.Vn,zi.prototype.getCoordinates=zi.prototype.W,zi.prototype.getType=zi.prototype.S,zi.prototype.setCoordinates=zi.prototype.na,i("ol.geom.LineString",yp),yp.prototype.appendCoordinate=yp.prototype.Fk,yp.prototype.clone=yp.prototype.clone,yp.prototype.forEachSegment=yp.prototype.dl,yp.prototype.getCoordinateAtM=yp.prototype.Tn,yp.prototype.getCoordinates=yp.prototype.W,yp.prototype.getCoordinateAt=yp.prototype.Ph,yp.prototype.getLength=yp.prototype.Un,yp.prototype.getType=yp.prototype.S,yp.prototype.intersectsExtent=yp.prototype.$a,yp.prototype.setCoordinates=yp.prototype.na,i("ol.geom.MultiLineString",Yc),Yc.prototype.appendLineString=Yc.prototype.Gk,Yc.prototype.clone=Yc.prototype.clone,Yc.prototype.getCoordinateAtM=Yc.prototype.Wn,Yc.prototype.getCoordinates=Yc.prototype.W,Yc.prototype.getLineString=Yc.prototype.yl,Yc.prototype.getLineStrings=Yc.prototype.wd,Yc.prototype.getType=Yc.prototype.S,Yc.prototype.intersectsExtent=Yc.prototype.$a,Yc.prototype.setCoordinates=Yc.prototype.na,i("ol.geom.MultiPoint",Jc),Jc.prototype.appendPoint=Jc.prototype.Ik,Jc.prototype.clone=Jc.prototype.clone,Jc.prototype.getCoordinates=Jc.prototype.W,Jc.prototype.getPoint=Jc.prototype.Ll,Jc.prototype.getPoints=Jc.prototype.de,Jc.prototype.getType=Jc.prototype.S,Jc.prototype.intersectsExtent=Jc.prototype.$a,Jc.prototype.setCoordinates=Jc.prototype.na,i("ol.geom.MultiPolygon",qc),qc.prototype.appendPolygon=qc.prototype.Jk,qc.prototype.clone=qc.prototype.clone,qc.prototype.getArea=qc.prototype.Xn,qc.prototype.getCoordinates=qc.prototype.W,qc.prototype.getInteriorPoints=qc.prototype.ul,qc.prototype.getPolygon=qc.prototype.Ml,qc.prototype.getPolygons=qc.prototype.Vd,qc.prototype.getType=qc.prototype.S,qc.prototype.intersectsExtent=qc.prototype.$a,qc.prototype.setCoordinates=qc.prototype.na,i("ol.geom.Point",Vi),Vi.prototype.clone=Vi.prototype.clone,Vi.prototype.getCoordinates=Vi.prototype.W,Vi.prototype.getType=Vi.prototype.S,Vi.prototype.intersectsExtent=Vi.prototype.$a,Vi.prototype.setCoordinates=Vi.prototype.na,i("ol.geom.Polygon",or),or.prototype.appendLinearRing=or.prototype.Hk,or.prototype.clone=or.prototype.clone,or.prototype.getArea=or.prototype.Yn,or.prototype.getCoordinates=or.prototype.W,or.prototype.getInteriorPoint=or.prototype.tl,or.prototype.getLinearRingCount=or.prototype.zl,or.prototype.getLinearRing=or.prototype.Wh,or.prototype.getLinearRings=or.prototype.Ud,or.prototype.getType=or.prototype.S,or.prototype.intersectsExtent=or.prototype.$a,or.prototype.setCoordinates=or.prototype.na,i("ol.geom.Polygon.circular",ir),i("ol.geom.Polygon.fromExtent",rr),i("ol.geom.Polygon.fromCircle",nr),i("ol.geom.SimpleGeometry",wi),wi.prototype.getFirstCoordinate=wi.prototype.fc,wi.prototype.getLastCoordinate=wi.prototype.gc,wi.prototype.getLayout=wi.prototype.ic,wi.prototype.applyTransform=wi.prototype.Rc,wi.prototype.translate=wi.prototype.translate,i("ol.format.EsriJSON",eu),eu.prototype.readFeature=eu.prototype.Yb,eu.prototype.readFeatures=eu.prototype.Qa,eu.prototype.readGeometry=eu.prototype.ed,eu.prototype.readProjection=eu.prototype.sb,eu.prototype.writeGeometry=eu.prototype.md,eu.prototype.writeGeometryObject=eu.prototype.se,eu.prototype.writeFeature=eu.prototype.Jd,eu.prototype.writeFeatureObject=eu.prototype.ld,eu.prototype.writeFeatures=eu.prototype.ac,eu.prototype.writeFeaturesObject=eu.prototype.qe,i("ol.format.Feature",zc),i("ol.format.filter.and",Gd),i("ol.format.filter.or",function(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(Dd,e))}),i("ol.format.filter.not",function(t){return new Nd(t)}),i("ol.format.filter.bbox",Bd),i("ol.format.filter.contains",function(t,e,o){return new bd(t,e,o)}),i("ol.format.filter.intersects",function(t,e,o){return new Ld(t,e,o)}),i("ol.format.filter.within",function(t,e,o){return new _d(t,e,o)}),i("ol.format.filter.equalTo",function(t,e,o){return new xd(t,e,o)}),i("ol.format.filter.notEqualTo",function(t,e,o){return new kd(t,e,o)}),i("ol.format.filter.lessThan",function(t,e){return new Rd(t,e)}),i("ol.format.filter.lessThanOrEqualTo",function(t,e){return new Od(t,e)}),i("ol.format.filter.greaterThan",function(t,e){return new Pd(t,e)}),i("ol.format.filter.greaterThanOrEqualTo",function(t,e){return new Ed(t,e)}),i("ol.format.filter.isNull",function(t){return new Fd(t)}),i("ol.format.filter.between",function(t,e,o){return new Td(t,e,o)}),i("ol.format.filter.like",function(t,e,o,i,r,n){return new jd(t,e,o,i,r,n)}),i("ol.format.filter.during",function(t,e,o){return new Md(t,e,o)}),i("ol.format.GeoJSON",Tg),Tg.prototype.readFeature=Tg.prototype.Yb,Tg.prototype.readFeatures=Tg.prototype.Qa,Tg.prototype.readGeometry=Tg.prototype.ed,Tg.prototype.readProjection=Tg.prototype.sb,Tg.prototype.writeFeature=Tg.prototype.Jd,Tg.prototype.writeFeatureObject=Tg.prototype.ld,Tg.prototype.writeFeatures=Tg.prototype.ac,Tg.prototype.writeFeaturesObject=Tg.prototype.qe,Tg.prototype.writeGeometry=Tg.prototype.md,Tg.prototype.writeGeometryObject=Tg.prototype.se,i("ol.format.GML",Su),Su.prototype.writeFeatures=Su.prototype.ac,Su.prototype.writeFeaturesNode=Su.prototype.bc,i("ol.format.GML2",Ou),i("ol.format.GML3",Su),Su.prototype.writeGeometryNode=Su.prototype.re,Su.prototype.writeFeatures=Su.prototype.ac,Su.prototype.writeFeaturesNode=Su.prototype.bc,cu.prototype.readFeatures=cu.prototype.Qa,i("ol.format.GPX",Hu),Hu.prototype.readFeature=Hu.prototype.Yb,Hu.prototype.readFeatures=Hu.prototype.Qa,Hu.prototype.readProjection=Hu.prototype.sb,Hu.prototype.writeFeatures=Hu.prototype.ac,Hu.prototype.writeFeaturesNode=Hu.prototype.bc,i("ol.format.IGC",Dg),Dg.prototype.readFeature=Dg.prototype.Yb,Dg.prototype.readFeatures=Dg.prototype.Qa,Dg.prototype.readProjection=Dg.prototype.sb,i("ol.format.KML",sy),sy.prototype.readFeature=sy.prototype.Yb,sy.prototype.readFeatures=sy.prototype.Qa,sy.prototype.readName=sy.prototype.cq,sy.prototype.readNetworkLinks=sy.prototype.eq,sy.prototype.readRegion=sy.prototype.hq,sy.prototype.readRegionFromNode=sy.prototype.vf,sy.prototype.readProjection=sy.prototype.sb,sy.prototype.writeFeatures=sy.prototype.ac,sy.prototype.writeFeaturesNode=sy.prototype.bc,i("ol.format.MVT",Yf),Yf.prototype.getLastExtent=Yf.prototype.cg,Yf.prototype.readFeatures=Yf.prototype.Qa,Yf.prototype.readProjection=Yf.prototype.sb,Yf.prototype.setLayers=Yf.prototype.Sn,i("ol.format.OSMXML",$f),$f.prototype.readFeatures=$f.prototype.Qa,$f.prototype.readProjection=$f.prototype.sb,i("ol.format.Polyline",sd),i("ol.format.Polyline.encodeDeltas",ad),i("ol.format.Polyline.decodeDeltas",pd),i("ol.format.Polyline.encodeFloats",hd),i("ol.format.Polyline.decodeFloats",ld),sd.prototype.readFeature=sd.prototype.Yb,sd.prototype.readFeatures=sd.prototype.Qa,sd.prototype.readGeometry=sd.prototype.ed,sd.prototype.readProjection=sd.prototype.sb,sd.prototype.writeGeometry=sd.prototype.md,i("ol.format.TopoJSON",cd),cd.prototype.readFeatures=cd.prototype.Qa,cd.prototype.readProjection=cd.prototype.sb,i("ol.format.WFS",Ud),Ud.prototype.readFeatures=Ud.prototype.Qa,Ud.prototype.readTransactionResponse=Ud.prototype.j,Ud.prototype.readFeatureCollectionMetadata=Ud.prototype.f,i("ol.format.WFS.writeFilter",function(t){var e=mc("http://www.opengis.net/ogc","Filter");return Gc({node:e},av,Fc(t.rc),[t],[]),e}),Ud.prototype.writeGetFeature=Ud.prototype.s,Ud.prototype.writeTransaction=Ud.prototype.v,Ud.prototype.readProjection=Ud.prototype.sb,i("ol.format.WKT",pv),pv.prototype.readFeature=pv.prototype.Yb,pv.prototype.readFeatures=pv.prototype.Qa,pv.prototype.readGeometry=pv.prototype.ed,pv.prototype.writeFeature=pv.prototype.Jd,pv.prototype.writeFeatures=pv.prototype.ac,pv.prototype.writeGeometry=pv.prototype.md,i("ol.format.WMSCapabilities",xv),xv.prototype.read=xv.prototype.read,i("ol.format.WMSGetFeatureInfo",Kv),Kv.prototype.readFeatures=Kv.prototype.Qa,i("ol.format.WMTSCapabilities",uA),uA.prototype.read=uA.prototype.read,i("ol.format.filter.And",Cd),i("ol.format.filter.Bbox",md),i("ol.format.filter.Comparison",wd),i("ol.format.filter.ComparisonBinary",Sd),i("ol.format.filter.Contains",bd),i("ol.format.filter.During",Md),i("ol.format.filter.EqualTo",xd),i("ol.format.filter.Filter",vd),i("ol.format.filter.GreaterThan",Pd),i("ol.format.filter.GreaterThanOrEqualTo",Ed),i("ol.format.filter.Intersects",Ld),i("ol.format.filter.IsBetween",Td),i("ol.format.filter.IsLike",jd),i("ol.format.filter.IsNull",Fd),i("ol.format.filter.LessThan",Rd),i("ol.format.filter.LessThanOrEqualTo",Od),i("ol.format.filter.Not",Nd),i("ol.format.filter.NotEqualTo",kd),i("ol.format.filter.Or",Dd),i("ol.format.filter.Spatial",Id),i("ol.format.filter.Within",_d),i("ol.events.condition.altKeyOnly",Kr),i("ol.events.condition.altShiftKeysOnly",Jr),i("ol.events.condition.always",ai),i("ol.events.condition.click",function(t){return"click"==t.type}),i("ol.events.condition.never",pi),i("ol.events.condition.pointerMove",Qr),i("ol.events.condition.singleClick",$r),i("ol.events.condition.doubleClick",function(t){return"dblclick"==t.type}),i("ol.events.condition.noModifierKeys",tn),i("ol.events.condition.platformModifierKeyOnly",function(t){return!(t=t.originalEvent).altKey&&(Ke?t.metaKey:t.ctrlKey)&&!t.shiftKey}),i("ol.events.condition.shiftKeyOnly",en),i("ol.events.condition.targetNotEditable",on),i("ol.events.condition.mouseOnly",rn),i("ol.events.condition.primaryAction",nn),Me.prototype.type=Me.prototype.type,Me.prototype.target=Me.prototype.target,Me.prototype.preventDefault=Me.prototype.preventDefault,Me.prototype.stopPropagation=Me.prototype.stopPropagation,i("ol.control.Attribution",Or),i("ol.control.Attribution.render",Nr),Or.prototype.getCollapsible=Or.prototype.An,Or.prototype.setCollapsible=Or.prototype.Dn,Or.prototype.setCollapsed=Or.prototype.Cn,Or.prototype.getCollapsed=Or.prototype.zn,i("ol.control.Control",Er),Er.prototype.getMap=Er.prototype.f,Er.prototype.setMap=Er.prototype.setMap,Er.prototype.setTarget=Er.prototype.i,i("ol.control.FullScreen",Wl),i("ol.control.MousePosition",Ql),i("ol.control.MousePosition.render",$l),Ql.prototype.getCoordinateFormat=Ql.prototype.Qh,Ql.prototype.getProjection=Ql.prototype.si,Ql.prototype.setCoordinateFormat=Ql.prototype.Gj,Ql.prototype.setProjection=Ql.prototype.ti,i("ol.control.OverviewMap",ic),i("ol.control.OverviewMap.render",rc),ic.prototype.getCollapsible=ic.prototype.Gn,ic.prototype.setCollapsible=ic.prototype.Jn,ic.prototype.setCollapsed=ic.prototype.In,ic.prototype.getCollapsed=ic.prototype.Fn,ic.prototype.getOverviewMap=ic.prototype.Hl,i("ol.control.Rotate",Dr),i("ol.control.Rotate.render",_r),i("ol.control.ScaleLine",pc),pc.prototype.getUnits=pc.prototype.C,i("ol.control.ScaleLine.render",lc),pc.prototype.setUnits=pc.prototype.O,i("ol.control.Zoom",Gr),i("ol.control.ZoomSlider",gc),i("ol.control.ZoomSlider.render",fc),i("ol.control.ZoomToExtent",Ac),Le.prototype.changed=Le.prototype.u,Le.prototype.dispatchEvent=Le.prototype.b,Le.prototype.getRevision=Le.prototype.K,Le.prototype.on=Le.prototype.I,Le.prototype.once=Le.prototype.once,Le.prototype.un=Le.prototype.J,xr.prototype.get=xr.prototype.get,xr.prototype.getKeys=xr.prototype.P,xr.prototype.getProperties=xr.prototype.L,xr.prototype.set=xr.prototype.set,xr.prototype.setProperties=xr.prototype.H,xr.prototype.unset=xr.prototype.R,xr.prototype.changed=xr.prototype.u,xr.prototype.dispatchEvent=xr.prototype.b,xr.prototype.getRevision=xr.prototype.K,xr.prototype.on=xr.prototype.I,xr.prototype.once=xr.prototype.once,xr.prototype.un=xr.prototype.J,Ha.prototype.addControl=Ha.prototype.Mf,Ha.prototype.addInteraction=Ha.prototype.Nf,Ha.prototype.addLayer=Ha.prototype.xe,Ha.prototype.addOverlay=Ha.prototype.ye,Ha.prototype.forEachFeatureAtPixel=Ha.prototype.Tc,Ha.prototype.getFeaturesAtPixel=Ha.prototype.Xf,Ha.prototype.forEachLayerAtPixel=Ha.prototype.tg,Ha.prototype.hasFeatureAtPixel=Ha.prototype.ng,Ha.prototype.getEventCoordinate=Ha.prototype.Sd,Ha.prototype.getEventPixel=Ha.prototype.ud,Ha.prototype.getTarget=Ha.prototype.Xd,Ha.prototype.getTargetElement=Ha.prototype.Cc,Ha.prototype.getCoordinateFromPixel=Ha.prototype.Ra,Ha.prototype.getControls=Ha.prototype.Wf,Ha.prototype.getOverlays=Ha.prototype.gg,Ha.prototype.getOverlayById=Ha.prototype.fg,Ha.prototype.getInteractions=Ha.prototype.bg,Ha.prototype.getLayerGroup=Ha.prototype.hc,Ha.prototype.getLayers=Ha.prototype.Xe,Ha.prototype.getPixelFromCoordinate=Ha.prototype.Ia,Ha.prototype.getSize=Ha.prototype.Cb,Ha.prototype.getView=Ha.prototype.aa,Ha.prototype.getViewport=Ha.prototype.kg,Ha.prototype.renderSync=Ha.prototype.dh,Ha.prototype.render=Ha.prototype.render,Ha.prototype.removeControl=Ha.prototype.Xg,Ha.prototype.removeInteraction=Ha.prototype.Zg,Ha.prototype.removeLayer=Ha.prototype.$g,Ha.prototype.removeOverlay=Ha.prototype.ah,Ha.prototype.setLayerGroup=Ha.prototype.zf,Ha.prototype.setSize=Ha.prototype.be,Ha.prototype.setTarget=Ha.prototype.Ad,Ha.prototype.setView=Ha.prototype.jh,Ha.prototype.updateSize=Ha.prototype.Oc,Ha.prototype.get=Ha.prototype.get,Ha.prototype.getKeys=Ha.prototype.P,Ha.prototype.getProperties=Ha.prototype.L,Ha.prototype.set=Ha.prototype.set,Ha.prototype.setProperties=Ha.prototype.H,Ha.prototype.unset=Ha.prototype.R,Ha.prototype.changed=Ha.prototype.u,Ha.prototype.dispatchEvent=Ha.prototype.b,Ha.prototype.getRevision=Ha.prototype.K,Ha.prototype.on=Ha.prototype.I,Ha.prototype.once=Ha.prototype.once,Ha.prototype.un=Ha.prototype.J,Oe.prototype.get=Oe.prototype.get,Oe.prototype.getKeys=Oe.prototype.P,Oe.prototype.getProperties=Oe.prototype.L,Oe.prototype.set=Oe.prototype.set,Oe.prototype.setProperties=Oe.prototype.H,Oe.prototype.unset=Oe.prototype.R,Oe.prototype.changed=Oe.prototype.u,Oe.prototype.dispatchEvent=Oe.prototype.b,Oe.prototype.getRevision=Oe.prototype.K,Oe.prototype.on=Oe.prototype.I,Oe.prototype.once=Oe.prototype.once,Oe.prototype.un=Oe.prototype.J,_e.prototype.type=_e.prototype.type,_e.prototype.target=_e.prototype.target,_e.prototype.preventDefault=_e.prototype.preventDefault,_e.prototype.stopPropagation=_e.prototype.stopPropagation,Wa.prototype.get=Wa.prototype.get,Wa.prototype.getKeys=Wa.prototype.P,Wa.prototype.getProperties=Wa.prototype.L,Wa.prototype.set=Wa.prototype.set,Wa.prototype.setProperties=Wa.prototype.H,Wa.prototype.unset=Wa.prototype.R,Wa.prototype.changed=Wa.prototype.u,Wa.prototype.dispatchEvent=Wa.prototype.b,Wa.prototype.getRevision=Wa.prototype.K,Wa.prototype.on=Wa.prototype.I,Wa.prototype.once=Wa.prototype.once,Wa.prototype.un=Wa.prototype.J,lp.prototype.get=lp.prototype.get,lp.prototype.getKeys=lp.prototype.P,lp.prototype.getProperties=lp.prototype.L,lp.prototype.set=lp.prototype.set,lp.prototype.setProperties=lp.prototype.H,lp.prototype.unset=lp.prototype.R,lp.prototype.changed=lp.prototype.u,lp.prototype.dispatchEvent=lp.prototype.b,lp.prototype.getRevision=lp.prototype.K,lp.prototype.on=lp.prototype.I,lp.prototype.once=lp.prototype.once,lp.prototype.un=lp.prototype.J,cp.prototype.get=cp.prototype.get,cp.prototype.getKeys=cp.prototype.P,cp.prototype.getProperties=cp.prototype.L,cp.prototype.set=cp.prototype.set,cp.prototype.setProperties=cp.prototype.H,cp.prototype.unset=cp.prototype.R,cp.prototype.changed=cp.prototype.u,cp.prototype.dispatchEvent=cp.prototype.b,cp.prototype.getRevision=cp.prototype.K,cp.prototype.on=cp.prototype.I,cp.prototype.once=cp.prototype.once,cp.prototype.un=cp.prototype.J,Ep.prototype.getTileCoord=Ep.prototype.i,Ep.prototype.load=Ep.prototype.load,Rl.prototype.addControl=Rl.prototype.Mf,Rl.prototype.addInteraction=Rl.prototype.Nf,Rl.prototype.addLayer=Rl.prototype.xe,Rl.prototype.addOverlay=Rl.prototype.ye,Rl.prototype.forEachFeatureAtPixel=Rl.prototype.Tc,Rl.prototype.getFeaturesAtPixel=Rl.prototype.Xf,Rl.prototype.forEachLayerAtPixel=Rl.prototype.tg,Rl.prototype.hasFeatureAtPixel=Rl.prototype.ng,Rl.prototype.getEventCoordinate=Rl.prototype.Sd,Rl.prototype.getEventPixel=Rl.prototype.ud,Rl.prototype.getTarget=Rl.prototype.Xd,Rl.prototype.getTargetElement=Rl.prototype.Cc,Rl.prototype.getCoordinateFromPixel=Rl.prototype.Ra,Rl.prototype.getControls=Rl.prototype.Wf,Rl.prototype.getOverlays=Rl.prototype.gg,Rl.prototype.getOverlayById=Rl.prototype.fg,Rl.prototype.getInteractions=Rl.prototype.bg,Rl.prototype.getLayerGroup=Rl.prototype.hc,Rl.prototype.getLayers=Rl.prototype.Xe,Rl.prototype.getPixelFromCoordinate=Rl.prototype.Ia,Rl.prototype.getSize=Rl.prototype.Cb,Rl.prototype.getView=Rl.prototype.aa,Rl.prototype.getViewport=Rl.prototype.kg,Rl.prototype.renderSync=Rl.prototype.dh,Rl.prototype.render=Rl.prototype.render,Rl.prototype.removeControl=Rl.prototype.Xg,Rl.prototype.removeInteraction=Rl.prototype.Zg,Rl.prototype.removeLayer=Rl.prototype.$g,Rl.prototype.removeOverlay=Rl.prototype.ah,Rl.prototype.setLayerGroup=Rl.prototype.zf,Rl.prototype.setSize=Rl.prototype.be,Rl.prototype.setTarget=Rl.prototype.Ad,Rl.prototype.setView=Rl.prototype.jh,Rl.prototype.updateSize=Rl.prototype.Oc,Rl.prototype.get=Rl.prototype.get,Rl.prototype.getKeys=Rl.prototype.P,Rl.prototype.getProperties=Rl.prototype.L,Rl.prototype.set=Rl.prototype.set,Rl.prototype.setProperties=Rl.prototype.H,Rl.prototype.unset=Rl.prototype.R,Rl.prototype.changed=Rl.prototype.u,Rl.prototype.dispatchEvent=Rl.prototype.b,Rl.prototype.getRevision=Rl.prototype.K,Rl.prototype.on=Rl.prototype.I,Rl.prototype.once=Rl.prototype.once,Rl.prototype.un=Rl.prototype.J,Ge.prototype.type=Ge.prototype.type,Ge.prototype.target=Ge.prototype.target,Ge.prototype.preventDefault=Ge.prototype.preventDefault,Ge.prototype.stopPropagation=Ge.prototype.stopPropagation,Be.prototype.map=Be.prototype.map,Be.prototype.frameState=Be.prototype.frameState,Be.prototype.type=Be.prototype.type,Be.prototype.target=Be.prototype.target,Be.prototype.preventDefault=Be.prototype.preventDefault,Be.prototype.stopPropagation=Be.prototype.stopPropagation,po.prototype.originalEvent=po.prototype.originalEvent,po.prototype.pixel=po.prototype.pixel,po.prototype.coordinate=po.prototype.coordinate,po.prototype.dragging=po.prototype.dragging,po.prototype.preventDefault=po.prototype.preventDefault,po.prototype.stopPropagation=po.prototype.stopPropagation,po.prototype.map=po.prototype.map,po.prototype.frameState=po.prototype.frameState,po.prototype.type=po.prototype.type,po.prototype.target=po.prototype.target,Re.prototype.type=Re.prototype.type,Re.prototype.target=Re.prototype.target,Re.prototype.preventDefault=Re.prototype.preventDefault,Re.prototype.stopPropagation=Re.prototype.stopPropagation,Ol.prototype.get=Ol.prototype.get,Ol.prototype.getKeys=Ol.prototype.P,Ol.prototype.getProperties=Ol.prototype.L,Ol.prototype.set=Ol.prototype.set,Ol.prototype.setProperties=Ol.prototype.H,Ol.prototype.unset=Ol.prototype.R,Ol.prototype.changed=Ol.prototype.u,Ol.prototype.dispatchEvent=Ol.prototype.b,Ol.prototype.getRevision=Ol.prototype.K,Ol.prototype.on=Ol.prototype.I,Ol.prototype.once=Ol.prototype.once,Ol.prototype.un=Ol.prototype.J,MI.prototype.getTileCoord=MI.prototype.i,MI.prototype.load=MI.prototype.load,Zl.prototype.getTileCoord=Zl.prototype.i,Zl.prototype.load=Zl.prototype.load,ar.prototype.get=ar.prototype.get,ar.prototype.getKeys=ar.prototype.P,ar.prototype.getProperties=ar.prototype.L,ar.prototype.set=ar.prototype.set,ar.prototype.setProperties=ar.prototype.H,ar.prototype.unset=ar.prototype.R,ar.prototype.changed=ar.prototype.u,ar.prototype.dispatchEvent=ar.prototype.b,ar.prototype.getRevision=ar.prototype.K,ar.prototype.on=ar.prototype.I,ar.prototype.once=ar.prototype.once,ar.prototype.un=ar.prototype.J,LI.prototype.forEachTileCoord=LI.prototype.Vf,LI.prototype.getMaxZoom=LI.prototype.mj,LI.prototype.getMinZoom=LI.prototype.nj,LI.prototype.getOrigin=LI.prototype.Ic,LI.prototype.getResolution=LI.prototype.Ta,LI.prototype.getResolutions=LI.prototype.oj,LI.prototype.getTileCoordExtent=LI.prototype.Ma,LI.prototype.getTileCoordForCoordAndResolution=LI.prototype.Le,LI.prototype.getTileCoordForCoordAndZ=LI.prototype.jg,LI.prototype.getTileSize=LI.prototype.Za,LI.prototype.getZForResolution=LI.prototype.Dc,$a.prototype.getOpacity=$a.prototype.hf,$a.prototype.getRotateWithView=$a.prototype.jf,$a.prototype.getRotation=$a.prototype.kf,$a.prototype.getScale=$a.prototype.lf,$a.prototype.getSnapToPixel=$a.prototype.Ke,$a.prototype.setOpacity=$a.prototype.Ed,$a.prototype.setRotation=$a.prototype.mf,$a.prototype.setScale=$a.prototype.Fd,ep.prototype.clone=ep.prototype.clone,ep.prototype.getAngle=ep.prototype.ij,ep.prototype.getFill=ep.prototype.Fa,ep.prototype.getPoints=ep.prototype.jj,ep.prototype.getRadius=ep.prototype.kj,ep.prototype.getRadius2=ep.prototype.Zh,ep.prototype.getStroke=ep.prototype.Ga,ep.prototype.getOpacity=ep.prototype.hf,ep.prototype.getRotateWithView=ep.prototype.jf,ep.prototype.getRotation=ep.prototype.kf,ep.prototype.getScale=ep.prototype.lf,ep.prototype.getSnapToPixel=ep.prototype.Ke,ep.prototype.setOpacity=ep.prototype.Ed,ep.prototype.setRotation=ep.prototype.mf,ep.prototype.setScale=ep.prototype.Fd,ny.prototype.getOpacity=ny.prototype.hf,ny.prototype.getRotateWithView=ny.prototype.jf,ny.prototype.getRotation=ny.prototype.kf,ny.prototype.getScale=ny.prototype.lf,ny.prototype.getSnapToPixel=ny.prototype.Ke,ny.prototype.setOpacity=ny.prototype.Ed,ny.prototype.setRotation=ny.prototype.mf,ny.prototype.setScale=ny.prototype.Fd,ZA.prototype.get=ZA.prototype.get,ZA.prototype.getKeys=ZA.prototype.P,ZA.prototype.getProperties=ZA.prototype.L,ZA.prototype.set=ZA.prototype.set,ZA.prototype.setProperties=ZA.prototype.H,ZA.prototype.unset=ZA.prototype.R,ZA.prototype.changed=ZA.prototype.u,ZA.prototype.dispatchEvent=ZA.prototype.b,ZA.prototype.getRevision=ZA.prototype.K,ZA.prototype.on=ZA.prototype.I,ZA.prototype.once=ZA.prototype.once,ZA.prototype.un=ZA.prototype.J,mm.prototype.getAttributions=mm.prototype.za,mm.prototype.getLogo=mm.prototype.Aa,mm.prototype.getProjection=mm.prototype.Da,mm.prototype.getState=mm.prototype.getState,mm.prototype.refresh=mm.prototype.sa,mm.prototype.setAttributions=mm.prototype.va,mm.prototype.get=mm.prototype.get,mm.prototype.getKeys=mm.prototype.P,mm.prototype.getProperties=mm.prototype.L,mm.prototype.set=mm.prototype.set,mm.prototype.setProperties=mm.prototype.H,mm.prototype.unset=mm.prototype.R,mm.prototype.changed=mm.prototype.u,mm.prototype.dispatchEvent=mm.prototype.b,mm.prototype.getRevision=mm.prototype.K,mm.prototype.on=mm.prototype.I,mm.prototype.once=mm.prototype.once,mm.prototype.un=mm.prototype.J,Sm.prototype.getTileGrid=Sm.prototype.jb,Sm.prototype.refresh=Sm.prototype.sa,Sm.prototype.getAttributions=Sm.prototype.za,Sm.prototype.getLogo=Sm.prototype.Aa,Sm.prototype.getProjection=Sm.prototype.Da,Sm.prototype.getState=Sm.prototype.getState,Sm.prototype.setAttributions=Sm.prototype.va,Sm.prototype.get=Sm.prototype.get,Sm.prototype.getKeys=Sm.prototype.P,Sm.prototype.getProperties=Sm.prototype.L,Sm.prototype.set=Sm.prototype.set,Sm.prototype.setProperties=Sm.prototype.H,Sm.prototype.unset=Sm.prototype.R,Sm.prototype.changed=Sm.prototype.u,Sm.prototype.dispatchEvent=Sm.prototype.b,Sm.prototype.getRevision=Sm.prototype.K,Sm.prototype.on=Sm.prototype.I,Sm.prototype.once=Sm.prototype.once,Sm.prototype.un=Sm.prototype.J,xm.prototype.getTileLoadFunction=xm.prototype.yb,xm.prototype.getTileUrlFunction=xm.prototype.zb,xm.prototype.getUrls=xm.prototype.Ab,xm.prototype.setTileLoadFunction=xm.prototype.Fb,xm.prototype.setTileUrlFunction=xm.prototype.hb,xm.prototype.setUrl=xm.prototype.rb,xm.prototype.setUrls=xm.prototype.vb,xm.prototype.getTileGrid=xm.prototype.jb,xm.prototype.refresh=xm.prototype.sa,xm.prototype.getAttributions=xm.prototype.za,xm.prototype.getLogo=xm.prototype.Aa,xm.prototype.getProjection=xm.prototype.Da,xm.prototype.getState=xm.prototype.getState,xm.prototype.setAttributions=xm.prototype.va,xm.prototype.get=xm.prototype.get,xm.prototype.getKeys=xm.prototype.P,xm.prototype.getProperties=xm.prototype.L,xm.prototype.set=xm.prototype.set,xm.prototype.setProperties=xm.prototype.H,xm.prototype.unset=xm.prototype.R,xm.prototype.changed=xm.prototype.u,xm.prototype.dispatchEvent=xm.prototype.b,xm.prototype.getRevision=xm.prototype.K,xm.prototype.on=xm.prototype.I,xm.prototype.once=xm.prototype.once,xm.prototype.un=xm.prototype.J,Tm.prototype.setRenderReprojectionEdges=Tm.prototype.Qb,Tm.prototype.setTileGridForProjection=Tm.prototype.Rb,Tm.prototype.getTileLoadFunction=Tm.prototype.yb,Tm.prototype.getTileUrlFunction=Tm.prototype.zb,Tm.prototype.getUrls=Tm.prototype.Ab,Tm.prototype.setTileLoadFunction=Tm.prototype.Fb,Tm.prototype.setTileUrlFunction=Tm.prototype.hb,Tm.prototype.setUrl=Tm.prototype.rb,Tm.prototype.setUrls=Tm.prototype.vb,Tm.prototype.getTileGrid=Tm.prototype.jb,Tm.prototype.refresh=Tm.prototype.sa,Tm.prototype.getAttributions=Tm.prototype.za,Tm.prototype.getLogo=Tm.prototype.Aa,Tm.prototype.getProjection=Tm.prototype.Da,Tm.prototype.getState=Tm.prototype.getState,Tm.prototype.setAttributions=Tm.prototype.va,Tm.prototype.get=Tm.prototype.get,Tm.prototype.getKeys=Tm.prototype.P,Tm.prototype.getProperties=Tm.prototype.L,Tm.prototype.set=Tm.prototype.set,Tm.prototype.setProperties=Tm.prototype.H,Tm.prototype.unset=Tm.prototype.R,Tm.prototype.changed=Tm.prototype.u,Tm.prototype.dispatchEvent=Tm.prototype.b,Tm.prototype.getRevision=Tm.prototype.K,Tm.prototype.on=Tm.prototype.I,Tm.prototype.once=Tm.prototype.once,Tm.prototype.un=Tm.prototype.J,jm.prototype.setRenderReprojectionEdges=jm.prototype.Qb,jm.prototype.setTileGridForProjection=jm.prototype.Rb,jm.prototype.getTileLoadFunction=jm.prototype.yb,jm.prototype.getTileUrlFunction=jm.prototype.zb,jm.prototype.getUrls=jm.prototype.Ab,jm.prototype.setTileLoadFunction=jm.prototype.Fb,jm.prototype.setTileUrlFunction=jm.prototype.hb,jm.prototype.setUrl=jm.prototype.rb,jm.prototype.setUrls=jm.prototype.vb,jm.prototype.getTileGrid=jm.prototype.jb,jm.prototype.refresh=jm.prototype.sa,jm.prototype.getAttributions=jm.prototype.za,jm.prototype.getLogo=jm.prototype.Aa,jm.prototype.getProjection=jm.prototype.Da,jm.prototype.getState=jm.prototype.getState,jm.prototype.setAttributions=jm.prototype.va,jm.prototype.get=jm.prototype.get,jm.prototype.getKeys=jm.prototype.P,jm.prototype.getProperties=jm.prototype.L,jm.prototype.set=jm.prototype.set,jm.prototype.setProperties=jm.prototype.H,jm.prototype.unset=jm.prototype.R,jm.prototype.changed=jm.prototype.u,jm.prototype.dispatchEvent=jm.prototype.b,jm.prototype.getRevision=jm.prototype.K,jm.prototype.on=jm.prototype.I,jm.prototype.once=jm.prototype.once,jm.prototype.un=jm.prototype.J,Fm.prototype.setRenderReprojectionEdges=Fm.prototype.Qb,Fm.prototype.setTileGridForProjection=Fm.prototype.Rb,Fm.prototype.getTileLoadFunction=Fm.prototype.yb,Fm.prototype.getTileUrlFunction=Fm.prototype.zb,Fm.prototype.getUrls=Fm.prototype.Ab,Fm.prototype.setTileLoadFunction=Fm.prototype.Fb,Fm.prototype.setTileUrlFunction=Fm.prototype.hb,Fm.prototype.setUrl=Fm.prototype.rb,Fm.prototype.setUrls=Fm.prototype.vb,Fm.prototype.getTileGrid=Fm.prototype.jb,Fm.prototype.refresh=Fm.prototype.sa,Fm.prototype.getAttributions=Fm.prototype.za,Fm.prototype.getLogo=Fm.prototype.Aa,Fm.prototype.getProjection=Fm.prototype.Da,Fm.prototype.getState=Fm.prototype.getState,Fm.prototype.setAttributions=Fm.prototype.va,Fm.prototype.get=Fm.prototype.get,Fm.prototype.getKeys=Fm.prototype.P,Fm.prototype.getProperties=Fm.prototype.L,Fm.prototype.set=Fm.prototype.set,Fm.prototype.setProperties=Fm.prototype.H,Fm.prototype.unset=Fm.prototype.R,Fm.prototype.changed=Fm.prototype.u,Fm.prototype.dispatchEvent=Fm.prototype.b,Fm.prototype.getRevision=Fm.prototype.K,Fm.prototype.on=Fm.prototype.I,Fm.prototype.once=Fm.prototype.once,Fm.prototype.un=Fm.prototype.J,WA.prototype.getAttributions=WA.prototype.za,WA.prototype.getLogo=WA.prototype.Aa,WA.prototype.getProjection=WA.prototype.Da,WA.prototype.getState=WA.prototype.getState,WA.prototype.refresh=WA.prototype.sa,WA.prototype.setAttributions=WA.prototype.va,WA.prototype.get=WA.prototype.get,WA.prototype.getKeys=WA.prototype.P,WA.prototype.getProperties=WA.prototype.L,WA.prototype.set=WA.prototype.set,WA.prototype.setProperties=WA.prototype.H,WA.prototype.unset=WA.prototype.R,WA.prototype.changed=WA.prototype.u,WA.prototype.dispatchEvent=WA.prototype.b,WA.prototype.getRevision=WA.prototype.K,WA.prototype.on=WA.prototype.I,WA.prototype.once=WA.prototype.once,WA.prototype.un=WA.prototype.J,Nm.prototype.addFeature=Nm.prototype.Gb,Nm.prototype.addFeatures=Nm.prototype.Qc,Nm.prototype.clear=Nm.prototype.clear,Nm.prototype.forEachFeature=Nm.prototype.Lh,Nm.prototype.forEachFeatureInExtent=Nm.prototype.ec,Nm.prototype.forEachFeatureIntersectingExtent=Nm.prototype.Mh,Nm.prototype.getFeaturesCollection=Nm.prototype.Th,Nm.prototype.getFeatures=Nm.prototype.ee,Nm.prototype.getFeaturesAtCoordinate=Nm.prototype.Sh,Nm.prototype.getFeaturesInExtent=Nm.prototype.Yf,Nm.prototype.getClosestFeatureToCoordinate=Nm.prototype.Oh,Nm.prototype.getExtent=Nm.prototype.G,Nm.prototype.getFeatureById=Nm.prototype.Rh,Nm.prototype.getFormat=Nm.prototype.ej,Nm.prototype.getUrl=Nm.prototype.fj,Nm.prototype.removeLoadedExtent=Nm.prototype.Cj,Nm.prototype.removeFeature=Nm.prototype.Lb,Nm.prototype.setLoader=Nm.prototype.hj,Nm.prototype.getAttributions=Nm.prototype.za,Nm.prototype.getLogo=Nm.prototype.Aa,Nm.prototype.getProjection=Nm.prototype.Da,Nm.prototype.getState=Nm.prototype.getState,Nm.prototype.refresh=Nm.prototype.sa,Nm.prototype.setAttributions=Nm.prototype.va,Nm.prototype.get=Nm.prototype.get,Nm.prototype.getKeys=Nm.prototype.P,Nm.prototype.getProperties=Nm.prototype.L,Nm.prototype.set=Nm.prototype.set,Nm.prototype.setProperties=Nm.prototype.H,Nm.prototype.unset=Nm.prototype.R,Nm.prototype.changed=Nm.prototype.u,Nm.prototype.dispatchEvent=Nm.prototype.b,Nm.prototype.getRevision=Nm.prototype.K,Nm.prototype.on=Nm.prototype.I,Nm.prototype.once=Nm.prototype.once,Nm.prototype.un=Nm.prototype.J,Gm.prototype.getAttributions=Gm.prototype.za,Gm.prototype.getLogo=Gm.prototype.Aa,Gm.prototype.getProjection=Gm.prototype.Da,Gm.prototype.getState=Gm.prototype.getState,Gm.prototype.refresh=Gm.prototype.sa,Gm.prototype.setAttributions=Gm.prototype.va,Gm.prototype.get=Gm.prototype.get,Gm.prototype.getKeys=Gm.prototype.P,Gm.prototype.getProperties=Gm.prototype.L,Gm.prototype.set=Gm.prototype.set,Gm.prototype.setProperties=Gm.prototype.H,Gm.prototype.unset=Gm.prototype.R,Gm.prototype.changed=Gm.prototype.u,Gm.prototype.dispatchEvent=Gm.prototype.b,Gm.prototype.getRevision=Gm.prototype.K,Gm.prototype.on=Gm.prototype.I,Gm.prototype.once=Gm.prototype.once,Gm.prototype.un=Gm.prototype.J,zm.prototype.type=zm.prototype.type,zm.prototype.target=zm.prototype.target,zm.prototype.preventDefault=zm.prototype.preventDefault,zm.prototype.stopPropagation=zm.prototype.stopPropagation,Xm.prototype.getAttributions=Xm.prototype.za,Xm.prototype.getLogo=Xm.prototype.Aa,Xm.prototype.getProjection=Xm.prototype.Da,Xm.prototype.getState=Xm.prototype.getState,Xm.prototype.refresh=Xm.prototype.sa,Xm.prototype.setAttributions=Xm.prototype.va,Xm.prototype.get=Xm.prototype.get,Xm.prototype.getKeys=Xm.prototype.P,Xm.prototype.getProperties=Xm.prototype.L,Xm.prototype.set=Xm.prototype.set,Xm.prototype.setProperties=Xm.prototype.H,Xm.prototype.unset=Xm.prototype.R,Xm.prototype.changed=Xm.prototype.u,Xm.prototype.dispatchEvent=Xm.prototype.b,Xm.prototype.getRevision=Xm.prototype.K,Xm.prototype.on=Xm.prototype.I,Xm.prototype.once=Xm.prototype.once,Xm.prototype.un=Xm.prototype.J,Ym.prototype.getAttributions=Ym.prototype.za,Ym.prototype.getLogo=Ym.prototype.Aa,Ym.prototype.getProjection=Ym.prototype.Da,Ym.prototype.getState=Ym.prototype.getState,Ym.prototype.refresh=Ym.prototype.sa,Ym.prototype.setAttributions=Ym.prototype.va,Ym.prototype.get=Ym.prototype.get,Ym.prototype.getKeys=Ym.prototype.P,Ym.prototype.getProperties=Ym.prototype.L,Ym.prototype.set=Ym.prototype.set,Ym.prototype.setProperties=Ym.prototype.H,Ym.prototype.unset=Ym.prototype.R,Ym.prototype.changed=Ym.prototype.u,Ym.prototype.dispatchEvent=Ym.prototype.b,Ym.prototype.getRevision=Ym.prototype.K,Ym.prototype.on=Ym.prototype.I,Ym.prototype.once=Ym.prototype.once,Ym.prototype.un=Ym.prototype.J,Km.prototype.getAttributions=Km.prototype.za,Km.prototype.getLogo=Km.prototype.Aa,Km.prototype.getProjection=Km.prototype.Da,Km.prototype.getState=Km.prototype.getState,Km.prototype.refresh=Km.prototype.sa,Km.prototype.setAttributions=Km.prototype.va,Km.prototype.get=Km.prototype.get,Km.prototype.getKeys=Km.prototype.P,Km.prototype.getProperties=Km.prototype.L,Km.prototype.set=Km.prototype.set,Km.prototype.setProperties=Km.prototype.H,Km.prototype.unset=Km.prototype.R,Km.prototype.changed=Km.prototype.u,Km.prototype.dispatchEvent=Km.prototype.b,Km.prototype.getRevision=Km.prototype.K,Km.prototype.on=Km.prototype.I,Km.prototype.once=Km.prototype.once,Km.prototype.un=Km.prototype.J,Jm.prototype.getAttributions=Jm.prototype.za,Jm.prototype.getLogo=Jm.prototype.Aa,Jm.prototype.getProjection=Jm.prototype.Da,Jm.prototype.getState=Jm.prototype.getState,Jm.prototype.refresh=Jm.prototype.sa,Jm.prototype.setAttributions=Jm.prototype.va,Jm.prototype.get=Jm.prototype.get,Jm.prototype.getKeys=Jm.prototype.P,Jm.prototype.getProperties=Jm.prototype.L,Jm.prototype.set=Jm.prototype.set,Jm.prototype.setProperties=Jm.prototype.H,Jm.prototype.unset=Jm.prototype.R,Jm.prototype.changed=Jm.prototype.u,Jm.prototype.dispatchEvent=Jm.prototype.b,Jm.prototype.getRevision=Jm.prototype.K,Jm.prototype.on=Jm.prototype.I,Jm.prototype.once=Jm.prototype.once,Jm.prototype.un=Jm.prototype.J,qm.prototype.getAttributions=qm.prototype.za,qm.prototype.getLogo=qm.prototype.Aa,qm.prototype.getProjection=qm.prototype.Da,qm.prototype.getState=qm.prototype.getState,qm.prototype.refresh=qm.prototype.sa,qm.prototype.setAttributions=qm.prototype.va,qm.prototype.get=qm.prototype.get,qm.prototype.getKeys=qm.prototype.P,qm.prototype.getProperties=qm.prototype.L,qm.prototype.set=qm.prototype.set,qm.prototype.setProperties=qm.prototype.H,qm.prototype.unset=qm.prototype.R,qm.prototype.changed=qm.prototype.u,qm.prototype.dispatchEvent=qm.prototype.b,qm.prototype.getRevision=qm.prototype.K,qm.prototype.on=qm.prototype.I,qm.prototype.once=qm.prototype.once,qm.prototype.un=qm.prototype.J,Qm.prototype.getAttributions=Qm.prototype.za,Qm.prototype.getLogo=Qm.prototype.Aa,Qm.prototype.getProjection=Qm.prototype.Da,Qm.prototype.getState=Qm.prototype.getState,Qm.prototype.refresh=Qm.prototype.sa,Qm.prototype.setAttributions=Qm.prototype.va,Qm.prototype.get=Qm.prototype.get,Qm.prototype.getKeys=Qm.prototype.P,Qm.prototype.getProperties=Qm.prototype.L,Qm.prototype.set=Qm.prototype.set,Qm.prototype.setProperties=Qm.prototype.H,Qm.prototype.unset=Qm.prototype.R,Qm.prototype.changed=Qm.prototype.u,Qm.prototype.dispatchEvent=Qm.prototype.b,Qm.prototype.getRevision=Qm.prototype.K,Qm.prototype.on=Qm.prototype.I,Qm.prototype.once=Qm.prototype.once,Qm.prototype.un=Qm.prototype.J,oI.prototype.setRenderReprojectionEdges=oI.prototype.Qb,oI.prototype.setTileGridForProjection=oI.prototype.Rb,oI.prototype.getTileLoadFunction=oI.prototype.yb,oI.prototype.getTileUrlFunction=oI.prototype.zb,oI.prototype.getUrls=oI.prototype.Ab,oI.prototype.setTileLoadFunction=oI.prototype.Fb,oI.prototype.setTileUrlFunction=oI.prototype.hb,oI.prototype.setUrl=oI.prototype.rb,oI.prototype.setUrls=oI.prototype.vb,oI.prototype.getTileGrid=oI.prototype.jb,oI.prototype.refresh=oI.prototype.sa,oI.prototype.getAttributions=oI.prototype.za,oI.prototype.getLogo=oI.prototype.Aa,oI.prototype.getProjection=oI.prototype.Da,oI.prototype.getState=oI.prototype.getState,oI.prototype.setAttributions=oI.prototype.va,oI.prototype.get=oI.prototype.get,oI.prototype.getKeys=oI.prototype.P,oI.prototype.getProperties=oI.prototype.L,oI.prototype.set=oI.prototype.set,oI.prototype.setProperties=oI.prototype.H,oI.prototype.unset=oI.prototype.R,oI.prototype.changed=oI.prototype.u,oI.prototype.dispatchEvent=oI.prototype.b,oI.prototype.getRevision=oI.prototype.K,oI.prototype.on=oI.prototype.I,oI.prototype.once=oI.prototype.once,oI.prototype.un=oI.prototype.J,iI.prototype.getAttributions=iI.prototype.za,iI.prototype.getLogo=iI.prototype.Aa,iI.prototype.getProjection=iI.prototype.Da,iI.prototype.getState=iI.prototype.getState,iI.prototype.refresh=iI.prototype.sa,iI.prototype.setAttributions=iI.prototype.va,iI.prototype.get=iI.prototype.get,iI.prototype.getKeys=iI.prototype.P,iI.prototype.getProperties=iI.prototype.L,iI.prototype.set=iI.prototype.set,iI.prototype.setProperties=iI.prototype.H,iI.prototype.unset=iI.prototype.R,iI.prototype.changed=iI.prototype.u,iI.prototype.dispatchEvent=iI.prototype.b,iI.prototype.getRevision=iI.prototype.K,iI.prototype.on=iI.prototype.I,iI.prototype.once=iI.prototype.once,iI.prototype.un=iI.prototype.J,nI.prototype.type=nI.prototype.type,nI.prototype.target=nI.prototype.target,nI.prototype.preventDefault=nI.prototype.preventDefault,nI.prototype.stopPropagation=nI.prototype.stopPropagation,pI.prototype.setRenderReprojectionEdges=pI.prototype.Qb,pI.prototype.setTileGridForProjection=pI.prototype.Rb,pI.prototype.getTileLoadFunction=pI.prototype.yb,pI.prototype.getTileUrlFunction=pI.prototype.zb,pI.prototype.getUrls=pI.prototype.Ab,pI.prototype.setTileLoadFunction=pI.prototype.Fb,pI.prototype.setTileUrlFunction=pI.prototype.hb,pI.prototype.setUrl=pI.prototype.rb,pI.prototype.setUrls=pI.prototype.vb,pI.prototype.getTileGrid=pI.prototype.jb,pI.prototype.refresh=pI.prototype.sa,pI.prototype.getAttributions=pI.prototype.za,pI.prototype.getLogo=pI.prototype.Aa,pI.prototype.getProjection=pI.prototype.Da,pI.prototype.getState=pI.prototype.getState,pI.prototype.setAttributions=pI.prototype.va,pI.prototype.get=pI.prototype.get,pI.prototype.getKeys=pI.prototype.P,pI.prototype.getProperties=pI.prototype.L,pI.prototype.set=pI.prototype.set,pI.prototype.setProperties=pI.prototype.H,pI.prototype.unset=pI.prototype.R,pI.prototype.changed=pI.prototype.u,pI.prototype.dispatchEvent=pI.prototype.b,pI.prototype.getRevision=pI.prototype.K,pI.prototype.on=pI.prototype.I,pI.prototype.once=pI.prototype.once,pI.prototype.un=pI.prototype.J,Mm.prototype.type=Mm.prototype.type,Mm.prototype.target=Mm.prototype.target,Mm.prototype.preventDefault=Mm.prototype.preventDefault,Mm.prototype.stopPropagation=Mm.prototype.stopPropagation,uI.prototype.setRenderReprojectionEdges=uI.prototype.Qb,uI.prototype.setTileGridForProjection=uI.prototype.Rb,uI.prototype.getTileLoadFunction=uI.prototype.yb,uI.prototype.getTileUrlFunction=uI.prototype.zb,uI.prototype.getUrls=uI.prototype.Ab,uI.prototype.setTileLoadFunction=uI.prototype.Fb,uI.prototype.setTileUrlFunction=uI.prototype.hb,uI.prototype.setUrl=uI.prototype.rb,uI.prototype.setUrls=uI.prototype.vb,uI.prototype.getTileGrid=uI.prototype.jb,uI.prototype.refresh=uI.prototype.sa,uI.prototype.getAttributions=uI.prototype.za,uI.prototype.getLogo=uI.prototype.Aa,uI.prototype.getProjection=uI.prototype.Da,uI.prototype.getState=uI.prototype.getState,uI.prototype.setAttributions=uI.prototype.va,uI.prototype.get=uI.prototype.get,uI.prototype.getKeys=uI.prototype.P,uI.prototype.getProperties=uI.prototype.L,uI.prototype.set=uI.prototype.set,uI.prototype.setProperties=uI.prototype.H,uI.prototype.unset=uI.prototype.R,uI.prototype.changed=uI.prototype.u,uI.prototype.dispatchEvent=uI.prototype.b,uI.prototype.getRevision=uI.prototype.K,uI.prototype.on=uI.prototype.I,uI.prototype.once=uI.prototype.once,uI.prototype.un=uI.prototype.J,yI.prototype.getTileGrid=yI.prototype.jb,yI.prototype.refresh=yI.prototype.sa,yI.prototype.getAttributions=yI.prototype.za,yI.prototype.getLogo=yI.prototype.Aa,yI.prototype.getProjection=yI.prototype.Da,yI.prototype.getState=yI.prototype.getState,yI.prototype.setAttributions=yI.prototype.va,yI.prototype.get=yI.prototype.get,yI.prototype.getKeys=yI.prototype.P,yI.prototype.getProperties=yI.prototype.L,yI.prototype.set=yI.prototype.set,yI.prototype.setProperties=yI.prototype.H,yI.prototype.unset=yI.prototype.R,yI.prototype.changed=yI.prototype.u,yI.prototype.dispatchEvent=yI.prototype.b,yI.prototype.getRevision=yI.prototype.K,yI.prototype.on=yI.prototype.I,yI.prototype.once=yI.prototype.once,yI.prototype.un=yI.prototype.J,dI.prototype.setRenderReprojectionEdges=dI.prototype.Qb,dI.prototype.setTileGridForProjection=dI.prototype.Rb,dI.prototype.getTileLoadFunction=dI.prototype.yb,dI.prototype.getTileUrlFunction=dI.prototype.zb,dI.prototype.getUrls=dI.prototype.Ab,dI.prototype.setTileLoadFunction=dI.prototype.Fb,dI.prototype.setTileUrlFunction=dI.prototype.hb,dI.prototype.setUrl=dI.prototype.rb,dI.prototype.setUrls=dI.prototype.vb,dI.prototype.getTileGrid=dI.prototype.jb,dI.prototype.refresh=dI.prototype.sa,dI.prototype.getAttributions=dI.prototype.za,dI.prototype.getLogo=dI.prototype.Aa,dI.prototype.getProjection=dI.prototype.Da,dI.prototype.getState=dI.prototype.getState,dI.prototype.setAttributions=dI.prototype.va,dI.prototype.get=dI.prototype.get,dI.prototype.getKeys=dI.prototype.P,dI.prototype.getProperties=dI.prototype.L,dI.prototype.set=dI.prototype.set,dI.prototype.setProperties=dI.prototype.H,dI.prototype.unset=dI.prototype.R,dI.prototype.changed=dI.prototype.u,dI.prototype.dispatchEvent=dI.prototype.b,dI.prototype.getRevision=dI.prototype.K,dI.prototype.on=dI.prototype.I,dI.prototype.once=dI.prototype.once,dI.prototype.un=dI.prototype.J,vI.prototype.getTileGrid=vI.prototype.jb,vI.prototype.refresh=vI.prototype.sa,vI.prototype.getAttributions=vI.prototype.za,vI.prototype.getLogo=vI.prototype.Aa,vI.prototype.getProjection=vI.prototype.Da,vI.prototype.getState=vI.prototype.getState,vI.prototype.setAttributions=vI.prototype.va,vI.prototype.get=vI.prototype.get,vI.prototype.getKeys=vI.prototype.P,vI.prototype.getProperties=vI.prototype.L,vI.prototype.set=vI.prototype.set,vI.prototype.setProperties=vI.prototype.H,vI.prototype.unset=vI.prototype.R,vI.prototype.changed=vI.prototype.u,vI.prototype.dispatchEvent=vI.prototype.b,vI.prototype.getRevision=vI.prototype.K,vI.prototype.on=vI.prototype.I,vI.prototype.once=vI.prototype.once,vI.prototype.un=vI.prototype.J,mI.prototype.setRenderReprojectionEdges=mI.prototype.Qb,mI.prototype.setTileGridForProjection=mI.prototype.Rb,mI.prototype.getTileLoadFunction=mI.prototype.yb,mI.prototype.getTileUrlFunction=mI.prototype.zb,mI.prototype.getUrls=mI.prototype.Ab,mI.prototype.setTileLoadFunction=mI.prototype.Fb,mI.prototype.setTileUrlFunction=mI.prototype.hb,mI.prototype.setUrl=mI.prototype.rb,mI.prototype.setUrls=mI.prototype.vb,mI.prototype.getTileGrid=mI.prototype.jb,mI.prototype.refresh=mI.prototype.sa,mI.prototype.getAttributions=mI.prototype.za,mI.prototype.getLogo=mI.prototype.Aa,mI.prototype.getProjection=mI.prototype.Da,mI.prototype.getState=mI.prototype.getState,mI.prototype.setAttributions=mI.prototype.va,mI.prototype.get=mI.prototype.get,mI.prototype.getKeys=mI.prototype.P,mI.prototype.getProperties=mI.prototype.L,mI.prototype.set=mI.prototype.set,mI.prototype.setProperties=mI.prototype.H,mI.prototype.unset=mI.prototype.R,mI.prototype.changed=mI.prototype.u,mI.prototype.dispatchEvent=mI.prototype.b,mI.prototype.getRevision=mI.prototype.K,mI.prototype.on=mI.prototype.I,mI.prototype.once=mI.prototype.once,mI.prototype.un=mI.prototype.J,qA.prototype.type=qA.prototype.type,qA.prototype.target=qA.prototype.target,qA.prototype.preventDefault=qA.prototype.preventDefault,qA.prototype.stopPropagation=qA.prototype.stopPropagation,EI.prototype.getTileLoadFunction=EI.prototype.yb,EI.prototype.getTileUrlFunction=EI.prototype.zb,EI.prototype.getUrls=EI.prototype.Ab,EI.prototype.setTileLoadFunction=EI.prototype.Fb,EI.prototype.setTileUrlFunction=EI.prototype.hb,EI.prototype.setUrl=EI.prototype.rb,EI.prototype.setUrls=EI.prototype.vb,EI.prototype.getTileGrid=EI.prototype.jb,EI.prototype.refresh=EI.prototype.sa,EI.prototype.getAttributions=EI.prototype.za,EI.prototype.getLogo=EI.prototype.Aa,EI.prototype.getProjection=EI.prototype.Da,EI.prototype.getState=EI.prototype.getState,EI.prototype.setAttributions=EI.prototype.va,EI.prototype.get=EI.prototype.get,EI.prototype.getKeys=EI.prototype.P,EI.prototype.getProperties=EI.prototype.L,EI.prototype.set=EI.prototype.set,EI.prototype.setProperties=EI.prototype.H,EI.prototype.unset=EI.prototype.R,EI.prototype.changed=EI.prototype.u,EI.prototype.dispatchEvent=EI.prototype.b,EI.prototype.getRevision=EI.prototype.K,EI.prototype.on=EI.prototype.I,EI.prototype.once=EI.prototype.once,EI.prototype.un=EI.prototype.J,jI.prototype.setRenderReprojectionEdges=jI.prototype.Qb,jI.prototype.setTileGridForProjection=jI.prototype.Rb,jI.prototype.getTileLoadFunction=jI.prototype.yb,jI.prototype.getTileUrlFunction=jI.prototype.zb,jI.prototype.getUrls=jI.prototype.Ab,jI.prototype.setTileLoadFunction=jI.prototype.Fb,jI.prototype.setTileUrlFunction=jI.prototype.hb,jI.prototype.setUrl=jI.prototype.rb,jI.prototype.setUrls=jI.prototype.vb,jI.prototype.getTileGrid=jI.prototype.jb,jI.prototype.refresh=jI.prototype.sa,jI.prototype.getAttributions=jI.prototype.za,jI.prototype.getLogo=jI.prototype.Aa,jI.prototype.getProjection=jI.prototype.Da,jI.prototype.getState=jI.prototype.getState,jI.prototype.setAttributions=jI.prototype.va,jI.prototype.get=jI.prototype.get,jI.prototype.getKeys=jI.prototype.P,jI.prototype.getProperties=jI.prototype.L,jI.prototype.set=jI.prototype.set,jI.prototype.setProperties=jI.prototype.H,jI.prototype.unset=jI.prototype.R,jI.prototype.changed=jI.prototype.u,jI.prototype.dispatchEvent=jI.prototype.b,jI.prototype.getRevision=jI.prototype.K,jI.prototype.on=jI.prototype.I,jI.prototype.once=jI.prototype.once,jI.prototype.un=jI.prototype.J,RI.prototype.setRenderReprojectionEdges=RI.prototype.Qb,RI.prototype.setTileGridForProjection=RI.prototype.Rb,RI.prototype.getTileLoadFunction=RI.prototype.yb,RI.prototype.getTileUrlFunction=RI.prototype.zb,RI.prototype.getUrls=RI.prototype.Ab,RI.prototype.setTileLoadFunction=RI.prototype.Fb,RI.prototype.setTileUrlFunction=RI.prototype.hb,RI.prototype.setUrl=RI.prototype.rb,RI.prototype.setUrls=RI.prototype.vb,RI.prototype.getTileGrid=RI.prototype.jb,RI.prototype.refresh=RI.prototype.sa,RI.prototype.getAttributions=RI.prototype.za,RI.prototype.getLogo=RI.prototype.Aa,RI.prototype.getProjection=RI.prototype.Da,RI.prototype.getState=RI.prototype.getState,RI.prototype.setAttributions=RI.prototype.va,RI.prototype.get=RI.prototype.get,RI.prototype.getKeys=RI.prototype.P,RI.prototype.getProperties=RI.prototype.L,RI.prototype.set=RI.prototype.set,RI.prototype.setProperties=RI.prototype.H,RI.prototype.unset=RI.prototype.R,RI.prototype.changed=RI.prototype.u,RI.prototype.dispatchEvent=RI.prototype.b,RI.prototype.getRevision=RI.prototype.K,RI.prototype.on=RI.prototype.I,RI.prototype.once=RI.prototype.once,RI.prototype.un=RI.prototype.J,Cm.prototype.getTileCoord=Cm.prototype.i,Cm.prototype.load=Cm.prototype.load,js.prototype.changed=js.prototype.u,js.prototype.dispatchEvent=js.prototype.b,js.prototype.getRevision=js.prototype.K,js.prototype.on=js.prototype.I,js.prototype.once=js.prototype.once,js.prototype.un=js.prototype.J,bl.prototype.changed=bl.prototype.u,bl.prototype.dispatchEvent=bl.prototype.b,bl.prototype.getRevision=bl.prototype.K,bl.prototype.on=bl.prototype.I,bl.prototype.once=bl.prototype.once,bl.prototype.un=bl.prototype.J,Ml.prototype.changed=Ml.prototype.u,Ml.prototype.dispatchEvent=Ml.prototype.b,Ml.prototype.getRevision=Ml.prototype.K,Ml.prototype.on=Ml.prototype.I,Ml.prototype.once=Ml.prototype.once,Ml.prototype.un=Ml.prototype.J,jl.prototype.changed=jl.prototype.u,jl.prototype.dispatchEvent=jl.prototype.b,jl.prototype.getRevision=jl.prototype.K,jl.prototype.on=jl.prototype.I,jl.prototype.once=jl.prototype.once,jl.prototype.un=jl.prototype.J,Fl.prototype.changed=Fl.prototype.u,Fl.prototype.dispatchEvent=Fl.prototype.b,Fl.prototype.getRevision=Fl.prototype.K,Fl.prototype.on=Fl.prototype.I,Fl.prototype.once=Fl.prototype.once,Fl.prototype.un=Fl.prototype.J,_s.prototype.changed=_s.prototype.u,_s.prototype.dispatchEvent=_s.prototype.b,_s.prototype.getRevision=_s.prototype.K,_s.prototype.on=_s.prototype.I,_s.prototype.once=_s.prototype.once,_s.prototype.un=_s.prototype.J,zs.prototype.changed=zs.prototype.u,zs.prototype.dispatchEvent=zs.prototype.b,zs.prototype.getRevision=zs.prototype.K,zs.prototype.on=zs.prototype.I,zs.prototype.once=zs.prototype.once,zs.prototype.un=zs.prototype.J,Zs.prototype.changed=Zs.prototype.u,Zs.prototype.dispatchEvent=Zs.prototype.b,Zs.prototype.getRevision=Zs.prototype.K,Zs.prototype.on=Zs.prototype.I,Zs.prototype.once=Zs.prototype.once,Zs.prototype.un=Zs.prototype.J,oa.prototype.changed=oa.prototype.u,oa.prototype.dispatchEvent=oa.prototype.b,oa.prototype.getRevision=oa.prototype.K,oa.prototype.on=oa.prototype.I,oa.prototype.once=oa.prototype.once,oa.prototype.un=oa.prototype.J,Ua.prototype.changed=Ua.prototype.u,Ua.prototype.dispatchEvent=Ua.prototype.b,Ua.prototype.getRevision=Ua.prototype.K,Ua.prototype.on=Ua.prototype.I,Ua.prototype.once=Ua.prototype.once,Ua.prototype.un=Ua.prototype.J,za.prototype.changed=za.prototype.u,za.prototype.dispatchEvent=za.prototype.b,za.prototype.getRevision=za.prototype.K,za.prototype.on=za.prototype.I,za.prototype.once=za.prototype.once,za.prototype.un=za.prototype.J,Kn.prototype.type=Kn.prototype.type,Kn.prototype.target=Kn.prototype.target,Kn.prototype.preventDefault=Kn.prototype.preventDefault,Kn.prototype.stopPropagation=Kn.prototype.stopPropagation,vo.prototype.type=vo.prototype.type,vo.prototype.target=vo.prototype.target,vo.prototype.preventDefault=vo.prototype.preventDefault,vo.prototype.stopPropagation=vo.prototype.stopPropagation,Ar.prototype.get=Ar.prototype.get,Ar.prototype.getKeys=Ar.prototype.P,Ar.prototype.getProperties=Ar.prototype.L,Ar.prototype.set=Ar.prototype.set,Ar.prototype.setProperties=Ar.prototype.H,Ar.prototype.unset=Ar.prototype.R,Ar.prototype.changed=Ar.prototype.u,Ar.prototype.dispatchEvent=Ar.prototype.b,Ar.prototype.getRevision=Ar.prototype.K,Ar.prototype.on=Ar.prototype.I,Ar.prototype.once=Ar.prototype.once,Ar.prototype.un=Ar.prototype.J,mr.prototype.getExtent=mr.prototype.G,mr.prototype.getMaxResolution=mr.prototype.lc,mr.prototype.getMinResolution=mr.prototype.mc,mr.prototype.getOpacity=mr.prototype.nc,mr.prototype.getVisible=mr.prototype.Jb,mr.prototype.getZIndex=mr.prototype.Ba,mr.prototype.setExtent=mr.prototype.Fc,mr.prototype.setMaxResolution=mr.prototype.Mc,mr.prototype.setMinResolution=mr.prototype.Nc,mr.prototype.setOpacity=mr.prototype.Gc,mr.prototype.setVisible=mr.prototype.Hc,mr.prototype.setZIndex=mr.prototype.$b,mr.prototype.get=mr.prototype.get,mr.prototype.getKeys=mr.prototype.P,mr.prototype.getProperties=mr.prototype.L,mr.prototype.set=mr.prototype.set,mr.prototype.setProperties=mr.prototype.H,mr.prototype.unset=mr.prototype.R,mr.prototype.changed=mr.prototype.u,mr.prototype.dispatchEvent=mr.prototype.b,mr.prototype.getRevision=mr.prototype.K,mr.prototype.on=mr.prototype.I,mr.prototype.once=mr.prototype.once,mr.prototype.un=mr.prototype.J,Fr.prototype.getExtent=Fr.prototype.G,Fr.prototype.getMaxResolution=Fr.prototype.lc,Fr.prototype.getMinResolution=Fr.prototype.mc,Fr.prototype.getOpacity=Fr.prototype.nc,Fr.prototype.getVisible=Fr.prototype.Jb,Fr.prototype.getZIndex=Fr.prototype.Ba,Fr.prototype.setExtent=Fr.prototype.Fc,Fr.prototype.setMaxResolution=Fr.prototype.Mc,Fr.prototype.setMinResolution=Fr.prototype.Nc,Fr.prototype.setOpacity=Fr.prototype.Gc,Fr.prototype.setVisible=Fr.prototype.Hc,Fr.prototype.setZIndex=Fr.prototype.$b,Fr.prototype.get=Fr.prototype.get,Fr.prototype.getKeys=Fr.prototype.P,Fr.prototype.getProperties=Fr.prototype.L,Fr.prototype.set=Fr.prototype.set,Fr.prototype.setProperties=Fr.prototype.H,Fr.prototype.unset=Fr.prototype.R,Fr.prototype.changed=Fr.prototype.u,Fr.prototype.dispatchEvent=Fr.prototype.b,Fr.prototype.getRevision=Fr.prototype.K,Fr.prototype.on=Fr.prototype.I,Fr.prototype.once=Fr.prototype.once,Fr.prototype.un=Fr.prototype.J,BA.prototype.setMap=BA.prototype.setMap,BA.prototype.setSource=BA.prototype.hd,BA.prototype.getExtent=BA.prototype.G,BA.prototype.getMaxResolution=BA.prototype.lc,BA.prototype.getMinResolution=BA.prototype.mc,BA.prototype.getOpacity=BA.prototype.nc,BA.prototype.getVisible=BA.prototype.Jb,BA.prototype.getZIndex=BA.prototype.Ba,BA.prototype.setExtent=BA.prototype.Fc,BA.prototype.setMaxResolution=BA.prototype.Mc,BA.prototype.setMinResolution=BA.prototype.Nc,BA.prototype.setOpacity=BA.prototype.Gc,BA.prototype.setVisible=BA.prototype.Hc,BA.prototype.setZIndex=BA.prototype.$b,BA.prototype.get=BA.prototype.get,BA.prototype.getKeys=BA.prototype.P,BA.prototype.getProperties=BA.prototype.L,BA.prototype.set=BA.prototype.set,BA.prototype.setProperties=BA.prototype.H,BA.prototype.unset=BA.prototype.R,BA.prototype.changed=BA.prototype.u,BA.prototype.dispatchEvent=BA.prototype.b,BA.prototype.getRevision=BA.prototype.K,BA.prototype.on=BA.prototype.I,BA.prototype.once=BA.prototype.once,BA.prototype.un=BA.prototype.J,$C.prototype.getSource=$C.prototype.ha,$C.prototype.getStyle=$C.prototype.B,$C.prototype.getStyleFunction=$C.prototype.ib,$C.prototype.setStyle=$C.prototype.j,$C.prototype.setMap=$C.prototype.setMap,$C.prototype.setSource=$C.prototype.hd,$C.prototype.getExtent=$C.prototype.G,$C.prototype.getMaxResolution=$C.prototype.lc,$C.prototype.getMinResolution=$C.prototype.mc,$C.prototype.getOpacity=$C.prototype.nc,$C.prototype.getVisible=$C.prototype.Jb,$C.prototype.getZIndex=$C.prototype.Ba,$C.prototype.setExtent=$C.prototype.Fc,$C.prototype.setMaxResolution=$C.prototype.Mc,$C.prototype.setMinResolution=$C.prototype.Nc,$C.prototype.setOpacity=$C.prototype.Gc,$C.prototype.setVisible=$C.prototype.Hc,$C.prototype.setZIndex=$C.prototype.$b,$C.prototype.get=$C.prototype.get,$C.prototype.getKeys=$C.prototype.P,$C.prototype.getProperties=$C.prototype.L,$C.prototype.set=$C.prototype.set,$C.prototype.setProperties=$C.prototype.H,$C.prototype.unset=$C.prototype.R,$C.prototype.changed=$C.prototype.u,$C.prototype.dispatchEvent=$C.prototype.b,$C.prototype.getRevision=$C.prototype.K,$C.prototype.on=$C.prototype.I,$C.prototype.once=$C.prototype.once,$C.prototype.un=$C.prototype.J,rm.prototype.setMap=rm.prototype.setMap,rm.prototype.setSource=rm.prototype.hd,rm.prototype.getExtent=rm.prototype.G,rm.prototype.getMaxResolution=rm.prototype.lc,rm.prototype.getMinResolution=rm.prototype.mc,rm.prototype.getOpacity=rm.prototype.nc,rm.prototype.getVisible=rm.prototype.Jb,rm.prototype.getZIndex=rm.prototype.Ba,rm.prototype.setExtent=rm.prototype.Fc,rm.prototype.setMaxResolution=rm.prototype.Mc,rm.prototype.setMinResolution=rm.prototype.Nc,rm.prototype.setOpacity=rm.prototype.Gc,rm.prototype.setVisible=rm.prototype.Hc,rm.prototype.setZIndex=rm.prototype.$b,rm.prototype.get=rm.prototype.get,rm.prototype.getKeys=rm.prototype.P,rm.prototype.getProperties=rm.prototype.L,rm.prototype.set=rm.prototype.set,rm.prototype.setProperties=rm.prototype.H,rm.prototype.unset=rm.prototype.R,rm.prototype.changed=rm.prototype.u,rm.prototype.dispatchEvent=rm.prototype.b,rm.prototype.getRevision=rm.prototype.K,rm.prototype.on=rm.prototype.I,rm.prototype.once=rm.prototype.once,rm.prototype.un=rm.prototype.J,nm.prototype.setMap=nm.prototype.setMap,nm.prototype.setSource=nm.prototype.hd,nm.prototype.getExtent=nm.prototype.G,nm.prototype.getMaxResolution=nm.prototype.lc,nm.prototype.getMinResolution=nm.prototype.mc,nm.prototype.getOpacity=nm.prototype.nc,nm.prototype.getVisible=nm.prototype.Jb,nm.prototype.getZIndex=nm.prototype.Ba,nm.prototype.setExtent=nm.prototype.Fc,nm.prototype.setMaxResolution=nm.prototype.Mc,nm.prototype.setMinResolution=nm.prototype.Nc,nm.prototype.setOpacity=nm.prototype.Gc,nm.prototype.setVisible=nm.prototype.Hc,nm.prototype.setZIndex=nm.prototype.$b,nm.prototype.get=nm.prototype.get,nm.prototype.getKeys=nm.prototype.P,nm.prototype.getProperties=nm.prototype.L,nm.prototype.set=nm.prototype.set,nm.prototype.setProperties=nm.prototype.H,nm.prototype.unset=nm.prototype.R,nm.prototype.changed=nm.prototype.u,nm.prototype.dispatchEvent=nm.prototype.b,nm.prototype.getRevision=nm.prototype.K,nm.prototype.on=nm.prototype.I,nm.prototype.once=nm.prototype.once,nm.prototype.un=nm.prototype.J,sm.prototype.getStyle=sm.prototype.B,sm.prototype.getStyleFunction=sm.prototype.ib,sm.prototype.setStyle=sm.prototype.j,sm.prototype.setMap=sm.prototype.setMap,sm.prototype.setSource=sm.prototype.hd,sm.prototype.getExtent=sm.prototype.G,sm.prototype.getMaxResolution=sm.prototype.lc,sm.prototype.getMinResolution=sm.prototype.mc,sm.prototype.getOpacity=sm.prototype.nc,sm.prototype.getVisible=sm.prototype.Jb,sm.prototype.getZIndex=sm.prototype.Ba,sm.prototype.setExtent=sm.prototype.Fc,sm.prototype.setMaxResolution=sm.prototype.Mc,sm.prototype.setMinResolution=sm.prototype.Nc,sm.prototype.setOpacity=sm.prototype.Gc,sm.prototype.setVisible=sm.prototype.Hc,sm.prototype.setZIndex=sm.prototype.$b,sm.prototype.get=sm.prototype.get,sm.prototype.getKeys=sm.prototype.P,sm.prototype.getProperties=sm.prototype.L,sm.prototype.set=sm.prototype.set,sm.prototype.setProperties=sm.prototype.H,sm.prototype.unset=sm.prototype.R,sm.prototype.changed=sm.prototype.u,sm.prototype.dispatchEvent=sm.prototype.b,sm.prototype.getRevision=sm.prototype.K,sm.prototype.on=sm.prototype.I,sm.prototype.once=sm.prototype.once,sm.prototype.un=sm.prototype.J,Zr.prototype.get=Zr.prototype.get,Zr.prototype.getKeys=Zr.prototype.P,Zr.prototype.getProperties=Zr.prototype.L,Zr.prototype.set=Zr.prototype.set,Zr.prototype.setProperties=Zr.prototype.H,Zr.prototype.unset=Zr.prototype.R,Zr.prototype.changed=Zr.prototype.u,Zr.prototype.dispatchEvent=Zr.prototype.b,Zr.prototype.getRevision=Zr.prototype.K,Zr.prototype.on=Zr.prototype.I,Zr.prototype.once=Zr.prototype.once,Zr.prototype.un=Zr.prototype.J,Xr.prototype.getActive=Xr.prototype.c,Xr.prototype.getMap=Xr.prototype.i,Xr.prototype.setActive=Xr.prototype.Ha,Xr.prototype.get=Xr.prototype.get,Xr.prototype.getKeys=Xr.prototype.P,Xr.prototype.getProperties=Xr.prototype.L,Xr.prototype.set=Xr.prototype.set,Xr.prototype.setProperties=Xr.prototype.H,Xr.prototype.unset=Xr.prototype.R,Xr.prototype.changed=Xr.prototype.u,Xr.prototype.dispatchEvent=Xr.prototype.b,Xr.prototype.getRevision=Xr.prototype.K,Xr.prototype.on=Xr.prototype.I,Xr.prototype.once=Xr.prototype.once,Xr.prototype.un=Xr.prototype.J,LA.prototype.getActive=LA.prototype.c,LA.prototype.getMap=LA.prototype.i,LA.prototype.setActive=LA.prototype.Ha,LA.prototype.get=LA.prototype.get,LA.prototype.getKeys=LA.prototype.P,LA.prototype.getProperties=LA.prototype.L,LA.prototype.set=LA.prototype.set,LA.prototype.setProperties=LA.prototype.H,LA.prototype.unset=LA.prototype.R,LA.prototype.changed=LA.prototype.u,LA.prototype.dispatchEvent=LA.prototype.b,LA.prototype.getRevision=LA.prototype.K,LA.prototype.on=LA.prototype.I,LA.prototype.once=LA.prototype.once,LA.prototype.un=LA.prototype.J,NA.prototype.type=NA.prototype.type,NA.prototype.target=NA.prototype.target,NA.prototype.preventDefault=NA.prototype.preventDefault,NA.prototype.stopPropagation=NA.prototype.stopPropagation,sn.prototype.getActive=sn.prototype.c,sn.prototype.getMap=sn.prototype.i,sn.prototype.setActive=sn.prototype.Ha,sn.prototype.get=sn.prototype.get,sn.prototype.getKeys=sn.prototype.P,sn.prototype.getProperties=sn.prototype.L,sn.prototype.set=sn.prototype.set,sn.prototype.setProperties=sn.prototype.H,sn.prototype.unset=sn.prototype.R,sn.prototype.changed=sn.prototype.u,sn.prototype.dispatchEvent=sn.prototype.b,sn.prototype.getRevision=sn.prototype.K,sn.prototype.on=sn.prototype.I,sn.prototype.once=sn.prototype.once,sn.prototype.un=sn.prototype.J,mn.prototype.getActive=mn.prototype.c,mn.prototype.getMap=mn.prototype.i,mn.prototype.setActive=mn.prototype.Ha,mn.prototype.get=mn.prototype.get,mn.prototype.getKeys=mn.prototype.P,mn.prototype.getProperties=mn.prototype.L,mn.prototype.set=mn.prototype.set,mn.prototype.setProperties=mn.prototype.H,mn.prototype.unset=mn.prototype.R,mn.prototype.changed=mn.prototype.u,mn.prototype.dispatchEvent=mn.prototype.b,mn.prototype.getRevision=mn.prototype.K,mn.prototype.on=mn.prototype.I,mn.prototype.once=mn.prototype.once,mn.prototype.un=mn.prototype.J,En.prototype.type=En.prototype.type,En.prototype.target=En.prototype.target,En.prototype.preventDefault=En.prototype.preventDefault,En.prototype.stopPropagation=En.prototype.stopPropagation,hn.prototype.getActive=hn.prototype.c,hn.prototype.getMap=hn.prototype.i,hn.prototype.setActive=hn.prototype.Ha,hn.prototype.get=hn.prototype.get,hn.prototype.getKeys=hn.prototype.P,hn.prototype.getProperties=hn.prototype.L,hn.prototype.set=hn.prototype.set,hn.prototype.setProperties=hn.prototype.H,hn.prototype.unset=hn.prototype.R,hn.prototype.changed=hn.prototype.u,hn.prototype.dispatchEvent=hn.prototype.b,hn.prototype.getRevision=hn.prototype.K,hn.prototype.on=hn.prototype.I,hn.prototype.once=hn.prototype.once,hn.prototype.un=hn.prototype.J,gn.prototype.getActive=gn.prototype.c,gn.prototype.getMap=gn.prototype.i,gn.prototype.setActive=gn.prototype.Ha,gn.prototype.get=gn.prototype.get,gn.prototype.getKeys=gn.prototype.P,gn.prototype.getProperties=gn.prototype.L,gn.prototype.set=gn.prototype.set,gn.prototype.setProperties=gn.prototype.H,gn.prototype.unset=gn.prototype.R,gn.prototype.changed=gn.prototype.u,gn.prototype.dispatchEvent=gn.prototype.b,gn.prototype.getRevision=gn.prototype.K,gn.prototype.on=gn.prototype.I,gn.prototype.once=gn.prototype.once,gn.prototype.un=gn.prototype.J,kA.prototype.getActive=kA.prototype.c,kA.prototype.getMap=kA.prototype.i,kA.prototype.setActive=kA.prototype.Ha,kA.prototype.get=kA.prototype.get,kA.prototype.getKeys=kA.prototype.P,kA.prototype.getProperties=kA.prototype.L,kA.prototype.set=kA.prototype.set,kA.prototype.setProperties=kA.prototype.H,kA.prototype.unset=kA.prototype.R,kA.prototype.changed=kA.prototype.u,kA.prototype.dispatchEvent=kA.prototype.b,kA.prototype.getRevision=kA.prototype.K,kA.prototype.on=kA.prototype.I,kA.prototype.once=kA.prototype.once,kA.prototype.un=kA.prototype.J,Ln.prototype.getGeometry=Ln.prototype.U,Ln.prototype.getActive=Ln.prototype.c,Ln.prototype.getMap=Ln.prototype.i,Ln.prototype.setActive=Ln.prototype.Ha,Ln.prototype.get=Ln.prototype.get,Ln.prototype.getKeys=Ln.prototype.P,Ln.prototype.getProperties=Ln.prototype.L,Ln.prototype.set=Ln.prototype.set,Ln.prototype.setProperties=Ln.prototype.H,Ln.prototype.unset=Ln.prototype.R,Ln.prototype.changed=Ln.prototype.u,Ln.prototype.dispatchEvent=Ln.prototype.b,Ln.prototype.getRevision=Ln.prototype.K,Ln.prototype.on=Ln.prototype.I,Ln.prototype.once=Ln.prototype.once,Ln.prototype.un=Ln.prototype.J,QA.prototype.getActive=QA.prototype.c,QA.prototype.getMap=QA.prototype.i,QA.prototype.setActive=QA.prototype.Ha,QA.prototype.get=QA.prototype.get,QA.prototype.getKeys=QA.prototype.P,QA.prototype.getProperties=QA.prototype.L,QA.prototype.set=QA.prototype.set,QA.prototype.setProperties=QA.prototype.H,QA.prototype.unset=QA.prototype.R,QA.prototype.changed=QA.prototype.u,QA.prototype.dispatchEvent=QA.prototype.b,QA.prototype.getRevision=QA.prototype.K,QA.prototype.on=QA.prototype.I,QA.prototype.once=QA.prototype.once,QA.prototype.un=QA.prototype.J,uC.prototype.type=uC.prototype.type,uC.prototype.target=uC.prototype.target,uC.prototype.preventDefault=uC.prototype.preventDefault,uC.prototype.stopPropagation=uC.prototype.stopPropagation,gC.prototype.getActive=gC.prototype.c,gC.prototype.getMap=gC.prototype.i,gC.prototype.setActive=gC.prototype.Ha,gC.prototype.get=gC.prototype.get,gC.prototype.getKeys=gC.prototype.P,gC.prototype.getProperties=gC.prototype.L,gC.prototype.set=gC.prototype.set,gC.prototype.setProperties=gC.prototype.H,gC.prototype.unset=gC.prototype.R,gC.prototype.changed=gC.prototype.u,gC.prototype.dispatchEvent=gC.prototype.b,gC.prototype.getRevision=gC.prototype.K,gC.prototype.on=gC.prototype.I,gC.prototype.once=gC.prototype.once,gC.prototype.un=gC.prototype.J,bC.prototype.type=bC.prototype.type,bC.prototype.target=bC.prototype.target,bC.prototype.preventDefault=bC.prototype.preventDefault,bC.prototype.stopPropagation=bC.prototype.stopPropagation,Tn.prototype.getActive=Tn.prototype.c,Tn.prototype.getMap=Tn.prototype.i,Tn.prototype.setActive=Tn.prototype.Ha,Tn.prototype.get=Tn.prototype.get,Tn.prototype.getKeys=Tn.prototype.P,Tn.prototype.getProperties=Tn.prototype.L,Tn.prototype.set=Tn.prototype.set,Tn.prototype.setProperties=Tn.prototype.H,Tn.prototype.unset=Tn.prototype.R,Tn.prototype.changed=Tn.prototype.u,Tn.prototype.dispatchEvent=Tn.prototype.b,Tn.prototype.getRevision=Tn.prototype.K,Tn.prototype.on=Tn.prototype.I,Tn.prototype.once=Tn.prototype.once,Tn.prototype.un=Tn.prototype.J,Fn.prototype.getActive=Fn.prototype.c,Fn.prototype.getMap=Fn.prototype.i,Fn.prototype.setActive=Fn.prototype.Ha,Fn.prototype.get=Fn.prototype.get,Fn.prototype.getKeys=Fn.prototype.P,Fn.prototype.getProperties=Fn.prototype.L,Fn.prototype.set=Fn.prototype.set,Fn.prototype.setProperties=Fn.prototype.H,Fn.prototype.unset=Fn.prototype.R,Fn.prototype.changed=Fn.prototype.u,Fn.prototype.dispatchEvent=Fn.prototype.b,Fn.prototype.getRevision=Fn.prototype.K,Fn.prototype.on=Fn.prototype.I,Fn.prototype.once=Fn.prototype.once,Fn.prototype.un=Fn.prototype.J,wC.prototype.getActive=wC.prototype.c,wC.prototype.getMap=wC.prototype.i,wC.prototype.setActive=wC.prototype.Ha,wC.prototype.get=wC.prototype.get,wC.prototype.getKeys=wC.prototype.P,wC.prototype.getProperties=wC.prototype.L,wC.prototype.set=wC.prototype.set,wC.prototype.setProperties=wC.prototype.H,wC.prototype.unset=wC.prototype.R,wC.prototype.changed=wC.prototype.u,wC.prototype.dispatchEvent=wC.prototype.b,wC.prototype.getRevision=wC.prototype.K,wC.prototype.on=wC.prototype.I,wC.prototype.once=wC.prototype.once,wC.prototype.un=wC.prototype.J,kC.prototype.type=kC.prototype.type,kC.prototype.target=kC.prototype.target,kC.prototype.preventDefault=kC.prototype.preventDefault,kC.prototype.stopPropagation=kC.prototype.stopPropagation,On.prototype.getActive=On.prototype.c,On.prototype.getMap=On.prototype.i,On.prototype.setActive=On.prototype.Ha,On.prototype.get=On.prototype.get,On.prototype.getKeys=On.prototype.P,On.prototype.getProperties=On.prototype.L,On.prototype.set=On.prototype.set,On.prototype.setProperties=On.prototype.H,On.prototype.unset=On.prototype.R,On.prototype.changed=On.prototype.u,On.prototype.dispatchEvent=On.prototype.b,On.prototype.getRevision=On.prototype.K,On.prototype.on=On.prototype.I,On.prototype.once=On.prototype.once,On.prototype.un=On.prototype.J,_n.prototype.getActive=_n.prototype.c,_n.prototype.getMap=_n.prototype.i,_n.prototype.setActive=_n.prototype.Ha,_n.prototype.get=_n.prototype.get,_n.prototype.getKeys=_n.prototype.P,_n.prototype.getProperties=_n.prototype.L,_n.prototype.set=_n.prototype.set,_n.prototype.setProperties=_n.prototype.H,_n.prototype.unset=_n.prototype.R,_n.prototype.changed=_n.prototype.u,_n.prototype.dispatchEvent=_n.prototype.b,_n.prototype.getRevision=_n.prototype.K,_n.prototype.on=_n.prototype.I,_n.prototype.once=_n.prototype.once,_n.prototype.un=_n.prototype.J,zn.prototype.getActive=zn.prototype.c,zn.prototype.getMap=zn.prototype.i,zn.prototype.setActive=zn.prototype.Ha,zn.prototype.get=zn.prototype.get,zn.prototype.getKeys=zn.prototype.P,zn.prototype.getProperties=zn.prototype.L,zn.prototype.set=zn.prototype.set,zn.prototype.setProperties=zn.prototype.H,zn.prototype.unset=zn.prototype.R,zn.prototype.changed=zn.prototype.u,zn.prototype.dispatchEvent=zn.prototype.b,zn.prototype.getRevision=zn.prototype.K,zn.prototype.on=zn.prototype.I,zn.prototype.once=zn.prototype.once,zn.prototype.un=zn.prototype.J,DC.prototype.getActive=DC.prototype.c,DC.prototype.getMap=DC.prototype.i,DC.prototype.setActive=DC.prototype.Ha,DC.prototype.get=DC.prototype.get,DC.prototype.getKeys=DC.prototype.P,DC.prototype.getProperties=DC.prototype.L,DC.prototype.set=DC.prototype.set,DC.prototype.setProperties=DC.prototype.H,DC.prototype.unset=DC.prototype.R,DC.prototype.changed=DC.prototype.u,DC.prototype.dispatchEvent=DC.prototype.b,DC.prototype.getRevision=DC.prototype.K,DC.prototype.on=DC.prototype.I,DC.prototype.once=DC.prototype.once,DC.prototype.un=DC.prototype.J,GC.prototype.type=GC.prototype.type,GC.prototype.target=GC.prototype.target,GC.prototype.preventDefault=GC.prototype.preventDefault,GC.prototype.stopPropagation=GC.prototype.stopPropagation,UC.prototype.getActive=UC.prototype.c,UC.prototype.getMap=UC.prototype.i,UC.prototype.setActive=UC.prototype.Ha,UC.prototype.get=UC.prototype.get,UC.prototype.getKeys=UC.prototype.P,UC.prototype.getProperties=UC.prototype.L,UC.prototype.set=UC.prototype.set,UC.prototype.setProperties=UC.prototype.H,UC.prototype.unset=UC.prototype.R,UC.prototype.changed=UC.prototype.u,UC.prototype.dispatchEvent=UC.prototype.b,UC.prototype.getRevision=UC.prototype.K,UC.prototype.on=UC.prototype.I,UC.prototype.once=UC.prototype.once,UC.prototype.un=UC.prototype.J,HC.prototype.getActive=HC.prototype.c,HC.prototype.getMap=HC.prototype.i,HC.prototype.setActive=HC.prototype.Ha,HC.prototype.get=HC.prototype.get,HC.prototype.getKeys=HC.prototype.P,HC.prototype.getProperties=HC.prototype.L,HC.prototype.set=HC.prototype.set,HC.prototype.setProperties=HC.prototype.H,HC.prototype.unset=HC.prototype.R,HC.prototype.changed=HC.prototype.u,HC.prototype.dispatchEvent=HC.prototype.b,HC.prototype.getRevision=HC.prototype.K,HC.prototype.on=HC.prototype.I,HC.prototype.once=HC.prototype.once,HC.prototype.un=HC.prototype.J,QC.prototype.type=QC.prototype.type,QC.prototype.target=QC.prototype.target,QC.prototype.preventDefault=QC.prototype.preventDefault,QC.prototype.stopPropagation=QC.prototype.stopPropagation,bi.prototype.get=bi.prototype.get,bi.prototype.getKeys=bi.prototype.P,bi.prototype.getProperties=bi.prototype.L,bi.prototype.set=bi.prototype.set,bi.prototype.setProperties=bi.prototype.H,bi.prototype.unset=bi.prototype.R,bi.prototype.changed=bi.prototype.u,bi.prototype.dispatchEvent=bi.prototype.b,bi.prototype.getRevision=bi.prototype.K,bi.prototype.on=bi.prototype.I,bi.prototype.once=bi.prototype.once,bi.prototype.un=bi.prototype.J,wi.prototype.getClosestPoint=wi.prototype.Ib,wi.prototype.intersectsCoordinate=wi.prototype.Bb,wi.prototype.getExtent=wi.prototype.G,wi.prototype.rotate=wi.prototype.rotate,wi.prototype.scale=wi.prototype.scale,wi.prototype.simplify=wi.prototype.Sb,wi.prototype.transform=wi.prototype.mb,wi.prototype.get=wi.prototype.get,wi.prototype.getKeys=wi.prototype.P,wi.prototype.getProperties=wi.prototype.L,wi.prototype.set=wi.prototype.set,wi.prototype.setProperties=wi.prototype.H,wi.prototype.unset=wi.prototype.R,wi.prototype.changed=wi.prototype.u,wi.prototype.dispatchEvent=wi.prototype.b,wi.prototype.getRevision=wi.prototype.K,wi.prototype.on=wi.prototype.I,wi.prototype.once=wi.prototype.once,wi.prototype.un=wi.prototype.J,PA.prototype.getFirstCoordinate=PA.prototype.fc,PA.prototype.getLastCoordinate=PA.prototype.gc,PA.prototype.getLayout=PA.prototype.ic,PA.prototype.rotate=PA.prototype.rotate,PA.prototype.scale=PA.prototype.scale,PA.prototype.getClosestPoint=PA.prototype.Ib,PA.prototype.intersectsCoordinate=PA.prototype.Bb,PA.prototype.getExtent=PA.prototype.G,PA.prototype.simplify=PA.prototype.Sb,PA.prototype.get=PA.prototype.get,PA.prototype.getKeys=PA.prototype.P,PA.prototype.getProperties=PA.prototype.L,PA.prototype.set=PA.prototype.set,PA.prototype.setProperties=PA.prototype.H,PA.prototype.unset=PA.prototype.R,PA.prototype.changed=PA.prototype.u,PA.prototype.dispatchEvent=PA.prototype.b,PA.prototype.getRevision=PA.prototype.K,PA.prototype.on=PA.prototype.I,PA.prototype.once=PA.prototype.once,PA.prototype.un=PA.prototype.J,xg.prototype.getClosestPoint=xg.prototype.Ib,xg.prototype.intersectsCoordinate=xg.prototype.Bb,xg.prototype.getExtent=xg.prototype.G,xg.prototype.rotate=xg.prototype.rotate,xg.prototype.scale=xg.prototype.scale,xg.prototype.simplify=xg.prototype.Sb,xg.prototype.transform=xg.prototype.mb,xg.prototype.get=xg.prototype.get,xg.prototype.getKeys=xg.prototype.P,xg.prototype.getProperties=xg.prototype.L,xg.prototype.set=xg.prototype.set,xg.prototype.setProperties=xg.prototype.H,xg.prototype.unset=xg.prototype.R,xg.prototype.changed=xg.prototype.u,xg.prototype.dispatchEvent=xg.prototype.b,xg.prototype.getRevision=xg.prototype.K,xg.prototype.on=xg.prototype.I,xg.prototype.once=xg.prototype.once,xg.prototype.un=xg.prototype.J,zi.prototype.getFirstCoordinate=zi.prototype.fc,zi.prototype.getLastCoordinate=zi.prototype.gc,zi.prototype.getLayout=zi.prototype.ic,zi.prototype.rotate=zi.prototype.rotate,zi.prototype.scale=zi.prototype.scale,zi.prototype.getClosestPoint=zi.prototype.Ib,zi.prototype.intersectsCoordinate=zi.prototype.Bb,zi.prototype.getExtent=zi.prototype.G,zi.prototype.simplify=zi.prototype.Sb,zi.prototype.transform=zi.prototype.mb,zi.prototype.get=zi.prototype.get,zi.prototype.getKeys=zi.prototype.P,zi.prototype.getProperties=zi.prototype.L,zi.prototype.set=zi.prototype.set,zi.prototype.setProperties=zi.prototype.H,zi.prototype.unset=zi.prototype.R,zi.prototype.changed=zi.prototype.u,zi.prototype.dispatchEvent=zi.prototype.b,zi.prototype.getRevision=zi.prototype.K,zi.prototype.on=zi.prototype.I,zi.prototype.once=zi.prototype.once,zi.prototype.un=zi.prototype.J,yp.prototype.getFirstCoordinate=yp.prototype.fc,yp.prototype.getLastCoordinate=yp.prototype.gc,yp.prototype.getLayout=yp.prototype.ic,yp.prototype.rotate=yp.prototype.rotate,yp.prototype.scale=yp.prototype.scale,yp.prototype.getClosestPoint=yp.prototype.Ib,yp.prototype.intersectsCoordinate=yp.prototype.Bb,yp.prototype.getExtent=yp.prototype.G,yp.prototype.simplify=yp.prototype.Sb,yp.prototype.transform=yp.prototype.mb,yp.prototype.get=yp.prototype.get,yp.prototype.getKeys=yp.prototype.P,yp.prototype.getProperties=yp.prototype.L,yp.prototype.set=yp.prototype.set,yp.prototype.setProperties=yp.prototype.H,yp.prototype.unset=yp.prototype.R,yp.prototype.changed=yp.prototype.u,yp.prototype.dispatchEvent=yp.prototype.b,yp.prototype.getRevision=yp.prototype.K,yp.prototype.on=yp.prototype.I,yp.prototype.once=yp.prototype.once,yp.prototype.un=yp.prototype.J,Yc.prototype.getFirstCoordinate=Yc.prototype.fc,Yc.prototype.getLastCoordinate=Yc.prototype.gc,Yc.prototype.getLayout=Yc.prototype.ic,Yc.prototype.rotate=Yc.prototype.rotate,Yc.prototype.scale=Yc.prototype.scale,Yc.prototype.getClosestPoint=Yc.prototype.Ib,Yc.prototype.intersectsCoordinate=Yc.prototype.Bb,Yc.prototype.getExtent=Yc.prototype.G,Yc.prototype.simplify=Yc.prototype.Sb,Yc.prototype.transform=Yc.prototype.mb,Yc.prototype.get=Yc.prototype.get,Yc.prototype.getKeys=Yc.prototype.P,Yc.prototype.getProperties=Yc.prototype.L,Yc.prototype.set=Yc.prototype.set,Yc.prototype.setProperties=Yc.prototype.H,Yc.prototype.unset=Yc.prototype.R,Yc.prototype.changed=Yc.prototype.u,Yc.prototype.dispatchEvent=Yc.prototype.b,Yc.prototype.getRevision=Yc.prototype.K,Yc.prototype.on=Yc.prototype.I,Yc.prototype.once=Yc.prototype.once,Yc.prototype.un=Yc.prototype.J,Jc.prototype.getFirstCoordinate=Jc.prototype.fc,Jc.prototype.getLastCoordinate=Jc.prototype.gc,Jc.prototype.getLayout=Jc.prototype.ic,Jc.prototype.rotate=Jc.prototype.rotate,Jc.prototype.scale=Jc.prototype.scale,Jc.prototype.getClosestPoint=Jc.prototype.Ib,Jc.prototype.intersectsCoordinate=Jc.prototype.Bb,Jc.prototype.getExtent=Jc.prototype.G,Jc.prototype.simplify=Jc.prototype.Sb,Jc.prototype.transform=Jc.prototype.mb,Jc.prototype.get=Jc.prototype.get,Jc.prototype.getKeys=Jc.prototype.P,Jc.prototype.getProperties=Jc.prototype.L,Jc.prototype.set=Jc.prototype.set,Jc.prototype.setProperties=Jc.prototype.H,Jc.prototype.unset=Jc.prototype.R,Jc.prototype.changed=Jc.prototype.u,Jc.prototype.dispatchEvent=Jc.prototype.b,Jc.prototype.getRevision=Jc.prototype.K,Jc.prototype.on=Jc.prototype.I,Jc.prototype.once=Jc.prototype.once,Jc.prototype.un=Jc.prototype.J,qc.prototype.getFirstCoordinate=qc.prototype.fc,qc.prototype.getLastCoordinate=qc.prototype.gc,qc.prototype.getLayout=qc.prototype.ic,qc.prototype.rotate=qc.prototype.rotate,qc.prototype.scale=qc.prototype.scale,qc.prototype.getClosestPoint=qc.prototype.Ib,qc.prototype.intersectsCoordinate=qc.prototype.Bb,qc.prototype.getExtent=qc.prototype.G,qc.prototype.simplify=qc.prototype.Sb,qc.prototype.transform=qc.prototype.mb,qc.prototype.get=qc.prototype.get,qc.prototype.getKeys=qc.prototype.P,qc.prototype.getProperties=qc.prototype.L,qc.prototype.set=qc.prototype.set,qc.prototype.setProperties=qc.prototype.H,qc.prototype.unset=qc.prototype.R,qc.prototype.changed=qc.prototype.u,qc.prototype.dispatchEvent=qc.prototype.b,qc.prototype.getRevision=qc.prototype.K,qc.prototype.on=qc.prototype.I,qc.prototype.once=qc.prototype.once,qc.prototype.un=qc.prototype.J,Vi.prototype.getFirstCoordinate=Vi.prototype.fc,Vi.prototype.getLastCoordinate=Vi.prototype.gc,Vi.prototype.getLayout=Vi.prototype.ic,Vi.prototype.rotate=Vi.prototype.rotate,Vi.prototype.scale=Vi.prototype.scale,Vi.prototype.getClosestPoint=Vi.prototype.Ib,Vi.prototype.intersectsCoordinate=Vi.prototype.Bb,Vi.prototype.getExtent=Vi.prototype.G,Vi.prototype.simplify=Vi.prototype.Sb,Vi.prototype.transform=Vi.prototype.mb,Vi.prototype.get=Vi.prototype.get,Vi.prototype.getKeys=Vi.prototype.P,Vi.prototype.getProperties=Vi.prototype.L,Vi.prototype.set=Vi.prototype.set,Vi.prototype.setProperties=Vi.prototype.H,Vi.prototype.unset=Vi.prototype.R,Vi.prototype.changed=Vi.prototype.u,Vi.prototype.dispatchEvent=Vi.prototype.b,Vi.prototype.getRevision=Vi.prototype.K,Vi.prototype.on=Vi.prototype.I,Vi.prototype.once=Vi.prototype.once,Vi.prototype.un=Vi.prototype.J,or.prototype.getFirstCoordinate=or.prototype.fc,or.prototype.getLastCoordinate=or.prototype.gc,or.prototype.getLayout=or.prototype.ic,or.prototype.rotate=or.prototype.rotate,or.prototype.scale=or.prototype.scale,or.prototype.getClosestPoint=or.prototype.Ib,or.prototype.intersectsCoordinate=or.prototype.Bb,or.prototype.getExtent=or.prototype.G,or.prototype.simplify=or.prototype.Sb,or.prototype.transform=or.prototype.mb,or.prototype.get=or.prototype.get,or.prototype.getKeys=or.prototype.P,or.prototype.getProperties=or.prototype.L,or.prototype.set=or.prototype.set,or.prototype.setProperties=or.prototype.H,or.prototype.unset=or.prototype.R,or.prototype.changed=or.prototype.u,or.prototype.dispatchEvent=or.prototype.b,or.prototype.getRevision=or.prototype.K,or.prototype.on=or.prototype.I,or.prototype.once=or.prototype.once,or.prototype.un=or.prototype.J,Su.prototype.readFeatures=Su.prototype.Qa,Ou.prototype.readFeatures=Ou.prototype.Qa,Su.prototype.readFeatures=Su.prototype.Qa,Er.prototype.get=Er.prototype.get,Er.prototype.getKeys=Er.prototype.P,Er.prototype.getProperties=Er.prototype.L,Er.prototype.set=Er.prototype.set,Er.prototype.setProperties=Er.prototype.H,Er.prototype.unset=Er.prototype.R,Er.prototype.changed=Er.prototype.u,Er.prototype.dispatchEvent=Er.prototype.b,Er.prototype.getRevision=Er.prototype.K,Er.prototype.on=Er.prototype.I,Er.prototype.once=Er.prototype.once,Er.prototype.un=Er.prototype.J,Or.prototype.getMap=Or.prototype.f,Or.prototype.setMap=Or.prototype.setMap,Or.prototype.setTarget=Or.prototype.i,Or.prototype.get=Or.prototype.get,Or.prototype.getKeys=Or.prototype.P,Or.prototype.getProperties=Or.prototype.L,Or.prototype.set=Or.prototype.set,Or.prototype.setProperties=Or.prototype.H,Or.prototype.unset=Or.prototype.R,Or.prototype.changed=Or.prototype.u,Or.prototype.dispatchEvent=Or.prototype.b,Or.prototype.getRevision=Or.prototype.K,Or.prototype.on=Or.prototype.I,Or.prototype.once=Or.prototype.once,Or.prototype.un=Or.prototype.J,Wl.prototype.getMap=Wl.prototype.f,Wl.prototype.setMap=Wl.prototype.setMap,Wl.prototype.setTarget=Wl.prototype.i,Wl.prototype.get=Wl.prototype.get,Wl.prototype.getKeys=Wl.prototype.P,Wl.prototype.getProperties=Wl.prototype.L,Wl.prototype.set=Wl.prototype.set,Wl.prototype.setProperties=Wl.prototype.H,Wl.prototype.unset=Wl.prototype.R,Wl.prototype.changed=Wl.prototype.u,Wl.prototype.dispatchEvent=Wl.prototype.b,Wl.prototype.getRevision=Wl.prototype.K,Wl.prototype.on=Wl.prototype.I,Wl.prototype.once=Wl.prototype.once,Wl.prototype.un=Wl.prototype.J,Ql.prototype.getMap=Ql.prototype.f,Ql.prototype.setMap=Ql.prototype.setMap,Ql.prototype.setTarget=Ql.prototype.i,Ql.prototype.get=Ql.prototype.get,Ql.prototype.getKeys=Ql.prototype.P,Ql.prototype.getProperties=Ql.prototype.L,Ql.prototype.set=Ql.prototype.set,Ql.prototype.setProperties=Ql.prototype.H,Ql.prototype.unset=Ql.prototype.R,Ql.prototype.changed=Ql.prototype.u,Ql.prototype.dispatchEvent=Ql.prototype.b,Ql.prototype.getRevision=Ql.prototype.K,Ql.prototype.on=Ql.prototype.I,Ql.prototype.once=Ql.prototype.once,Ql.prototype.un=Ql.prototype.J,ic.prototype.getMap=ic.prototype.f,ic.prototype.setMap=ic.prototype.setMap,ic.prototype.setTarget=ic.prototype.i,ic.prototype.get=ic.prototype.get,ic.prototype.getKeys=ic.prototype.P,ic.prototype.getProperties=ic.prototype.L,ic.prototype.set=ic.prototype.set,ic.prototype.setProperties=ic.prototype.H,ic.prototype.unset=ic.prototype.R,ic.prototype.changed=ic.prototype.u,ic.prototype.dispatchEvent=ic.prototype.b,ic.prototype.getRevision=ic.prototype.K,ic.prototype.on=ic.prototype.I,ic.prototype.once=ic.prototype.once,ic.prototype.un=ic.prototype.J,Dr.prototype.getMap=Dr.prototype.f,Dr.prototype.setMap=Dr.prototype.setMap,Dr.prototype.setTarget=Dr.prototype.i,Dr.prototype.get=Dr.prototype.get,Dr.prototype.getKeys=Dr.prototype.P,Dr.prototype.getProperties=Dr.prototype.L,Dr.prototype.set=Dr.prototype.set,Dr.prototype.setProperties=Dr.prototype.H,Dr.prototype.unset=Dr.prototype.R,Dr.prototype.changed=Dr.prototype.u,Dr.prototype.dispatchEvent=Dr.prototype.b,Dr.prototype.getRevision=Dr.prototype.K,Dr.prototype.on=Dr.prototype.I,Dr.prototype.once=Dr.prototype.once,Dr.prototype.un=Dr.prototype.J,pc.prototype.getMap=pc.prototype.f,pc.prototype.setMap=pc.prototype.setMap,pc.prototype.setTarget=pc.prototype.i,pc.prototype.get=pc.prototype.get,pc.prototype.getKeys=pc.prototype.P,pc.prototype.getProperties=pc.prototype.L,pc.prototype.set=pc.prototype.set,pc.prototype.setProperties=pc.prototype.H,pc.prototype.unset=pc.prototype.R,pc.prototype.changed=pc.prototype.u,pc.prototype.dispatchEvent=pc.prototype.b,pc.prototype.getRevision=pc.prototype.K,pc.prototype.on=pc.prototype.I,pc.prototype.once=pc.prototype.once,pc.prototype.un=pc.prototype.J,Gr.prototype.getMap=Gr.prototype.f,Gr.prototype.setMap=Gr.prototype.setMap,Gr.prototype.setTarget=Gr.prototype.i,Gr.prototype.get=Gr.prototype.get,Gr.prototype.getKeys=Gr.prototype.P,Gr.prototype.getProperties=Gr.prototype.L,Gr.prototype.set=Gr.prototype.set,Gr.prototype.setProperties=Gr.prototype.H,Gr.prototype.unset=Gr.prototype.R,Gr.prototype.changed=Gr.prototype.u,Gr.prototype.dispatchEvent=Gr.prototype.b,Gr.prototype.getRevision=Gr.prototype.K,Gr.prototype.on=Gr.prototype.I,Gr.prototype.once=Gr.prototype.once,Gr.prototype.un=Gr.prototype.J,gc.prototype.getMap=gc.prototype.f,gc.prototype.setMap=gc.prototype.setMap,gc.prototype.setTarget=gc.prototype.i,gc.prototype.get=gc.prototype.get,gc.prototype.getKeys=gc.prototype.P,gc.prototype.getProperties=gc.prototype.L,gc.prototype.set=gc.prototype.set,gc.prototype.setProperties=gc.prototype.H,gc.prototype.unset=gc.prototype.R,gc.prototype.changed=gc.prototype.u,gc.prototype.dispatchEvent=gc.prototype.b,gc.prototype.getRevision=gc.prototype.K,gc.prototype.on=gc.prototype.I,gc.prototype.once=gc.prototype.once,gc.prototype.un=gc.prototype.J,Ac.prototype.getMap=Ac.prototype.f,Ac.prototype.setMap=Ac.prototype.setMap,Ac.prototype.setTarget=Ac.prototype.i,Ac.prototype.get=Ac.prototype.get,Ac.prototype.getKeys=Ac.prototype.P,Ac.prototype.getProperties=Ac.prototype.L,Ac.prototype.set=Ac.prototype.set,Ac.prototype.setProperties=Ac.prototype.H,Ac.prototype.unset=Ac.prototype.R,Ac.prototype.changed=Ac.prototype.u,Ac.prototype.dispatchEvent=Ac.prototype.b,Ac.prototype.getRevision=Ac.prototype.K,Ac.prototype.on=Ac.prototype.I,Ac.prototype.once=Ac.prototype.once,Ac.prototype.un=Ac.prototype.J,r.ol}()}),ei=function(t,e){var o=Reflect.ownKeys(e),i=Array.isArray(o),r=0;for(o=i?o:o[Symbol.iterator]();;){var n;if(i){if(r>=o.length)break;n=o[r++]}else{if((r=o.next()).done)break;n=r.value}var s=n;if(!s.match(/^(?:constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)){var a=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,a)}}},oi=function(){for(var t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];var i=function t(){h(this,t)};for(var r in e){var n=e[r];ei(i,n),ei(i.prototype,n.prototype)}return i},ii=function(){this.Events={},this.__cnt=0};ii.hasOwnKey=Function.call.bind(Object.hasOwnProperty),ii.slice=Function.call.bind(Array.prototype.slice),ii.prototype.on=function(t,e,o){return this.bindEvent(t,e,0,o)},ii.prototype.un=function(i){var t="",e="",r=!1,o=void 0===i?"undefined":l(i),n=this;return"string"===o?!!ii.hasOwnKey(this.Events,i)&&(delete this.Events[i],!0):"object"===o?(t=i[0],e=i[1],!(!ii.hasOwnKey(this.Events,t)||!ii.hasOwnKey(this.Events[t],e))&&(delete this.Events[t][e],!0)):"function"!==o||(n.eachEvent(n.Events,function(o,t){n.eachEvent(t,function(t,e){e[0]===i&&(delete n.Events[o][t],r=!0)})}),r)},ii.prototype.once=function(t,e,o){return this.bindEvent(t,e,1,o)},ii.prototype.action=function(o,i){ii.hasOwnKey(this.Events,o)&&this.eachEvent(this.Events[o],function(t,e){e[0].apply(e[2],i),e[1]&&delete this.Events[o][t]})},ii.prototype.dispatch=function(t){var e=this,o=ii.slice(arguments,1);setTimeout(function(){e.action(t,o)})},ii.prototype.dispatchSync=function(t){this.action(t,ii.slice(arguments,1))},ii.prototype.clear=function(){this.Events={}},ii.prototype.bindEvent=function(t,e,o,i){if("string"!=typeof t||"function"!=typeof e)throw new Error("\u4f20\u5165\u7684\u4e8b\u4ef6\u540d\u79f0\u548c\u56de\u8c03\u51fd\u6570\u6709\u8bef\uff01");return ii.hasOwnKey(this.Events,t)||(this.Events[t]={}),this.Events[t][++this.__cnt]=[e,o,i],[t,this.__cnt]},ii.prototype.eachEvent=function(t,e){for(var o in t)ii.hasOwnKey(t,o)&&e(o,t[o])},Array.prototype.add=function(t){-1<this.indexOf(t)||this.push(t)};var ri=function(t){return t.replace(/( |^)[a-z]/g,function(t){return t.toUpperCase()})},ni=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},si=function(t){return"number"==typeof t&&!isNaN(t)},ai=function(t){var e=void 0===t?"undefined":l(t);return null!==t&&("object"===e||"function"===e)},pi=function(t){return!!ai(t)&&("function"==typeof t||null!==t.constructor&&t.constructor===Function)},hi=function(){for(var t=[],e="0123456789abcdef",o=0;o<36;o++)t[o]=e.substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")};var li=function(t,e,o,i){var r=document.createElement(t);return i&&(r.id=i),e&&yi(r,e),o&&o.appendChild(r),r},ci=function(t,e){var o,i=e||window.document;return o=void 0,i.document&&/^#([\w-]+)$/.test(t)?(o=i.getElementById(RegExp.$1))?[o]:[]:Array.prototype.slice.call(/^\.([\w-]+)$/.test(t)?i.getElementsByClassName(RegExp.$1):/^[\w-]+$/.test(t)?i.getElementsByTagName(t):i.querySelectorAll(t))},ui=function(t){if(t instanceof Element)return t;if(null!=(e=t)&&("string"==typeof e||null!==e.constructor&&e.constructor===String))return document.getElementById(t);throw new Error("Invalid map container!");var e},gi=function(t,e){if(!t||!e)return!1;if(-1!==e.indexOf(" "))throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):-1<(" "+t.className+" ").indexOf(" "+e+" ")},yi=function(t,e){if(t){for(var o=t.className,i=(e||"").split(" "),r=0,n=i.length;r<n;r++){var s=i[r];s&&(t.classList?t.classList.add(s):gi(t,s)||(o+=" "+s))}t.classList||(t.className=o)}},fi=function(t,e){if(t&&e){for(var o=e.split(" "),i=" "+t.className+" ",r=0,n=o.length;r<n;r++){var s=o[r];s&&(t.classList?t.classList.remove(s):gi(t,s)&&(i=i.replace(" "+s+" "," ")))}t.classList||(t.className=ni(i))}},di=function(t){var e="_event_id_";return t[e]=t[e]||hi(),t[e]},vi=function(t){return t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this},Ai=function(t,e,o,i){for(var r=null,n=0,s=t.length;n<s;++n)if((r=t[n]).listener===e&&r.bindTo===o)return i&&(r.deleteIndex=n),r},Ci=function(t,e){var o=t.vlm;return o?o[e]:void 0},mi=function(t,e,o,i,r){var n,s,a=((s=(n=t).vlm)||(s=n.vlm={}),s),p=a[e];p||(p=a[e]=[]);var h,l,c=Ai(p,o,i,!1);return c?r||(c.callOnce=!1):(c={bindTo:i,callOnce:!!r,listener:o,target:t,type:e},t.addEventListener(e,(l=function(t){var e=h.listener,o=h.bindTo||h.target;return h.callOnce&&bi(h),e.call(o,t)},(h=c).boundListener=l)),p.push(c)),c},Ii=function(t,e,o,i){var r=Ci(t,e);if(r){var n=Ai(r,o,i,!0);n&&bi(n)}},bi=function(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=Ci(t.target,t.type);if(e){var o="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==o&&e.splice(o,1),0===e.length&&function(t,e){var o=Ci(t,e);if(o){for(var i=0,r=o.length;i<r;++i)t.removeEventListener(e,o[i].boundListener),wi(o[i]);o.length=0;var n=t.vlm;n&&(delete n[e],0===Object.keys(n).length&&delete t.vlm)}}(t.target,t.type)}wi(t)}},wi=function(t){for(var e in t)delete t[e]},Mi=function(e,t,o,i){var r,n=(r=i,"_dom_event_"+t+"_"+di(o)+(r?"_"+di(r):"")),s=e[n];return s||(s=function(t){return o.call(i||e,t)},"addEventListener"in e?e.addEventListener(t,s,!1):"attachEvent"in e&&e.attachEvent("on"+t,s),e[n]=s),this},Si=function(t){var e=[];t&&(e=function i(t){var r=[];return 0<t.length&&t.forEach(function(t){if(t instanceof ti.layer.Group){var e=t.getLayers().getArray(),o=i(e);o&&(r=r.concat(o))}else r.push(t)}),r}(t.getLayers().getArray()));return e},xi=function(t,e){var o=null;if(t){var i=t.getLayers().getArray();o=Pi(i,"layerName",e)}return o},Pi=function o(t,i,r){var n=null;return 0<t.length&&t.every(function(t){if(t instanceof ti.layer.Group){var e=t.getLayers().getArray();return!(n=o(e,i,r))}return t.get(i)!==r||(n=t,!1)}),n},Ei=function(t,e,o){var i=[];t&&(i=function i(t,r,n){var s=[];return 0<t.length&&t.forEach(function(t){if(t instanceof ti.layer.Group){var e=t.getLayers().getArray(),o=i(e,r,n);o&&(s=s.concat(o))}else t.get(r)===n&&s.push(t)}),s}(t.getLayers().getArray(),e,o));return i},Li=function i(t,r){var n=void 0;return t.every(function(e){if(e&&e instanceof ti.layer.Vector&&e.getSource){var t=e.getSource();if(t.getFeatures)t.getFeatures().every(function(t){return t!==r||(n=e,!1)});return!n}if(e instanceof ti.layer.Group){var o=e.getLayers().getArray();return!(n=i(o,r))}return!0}),n},Ti=function(t,e,o){if(t){var i=xi(t,e);if(i instanceof ti.layer.Vector||(i=null),i||o&&o.create&&(i=new ti.layer.Vector({layerName:e,declutter:o.declutter,renderMode:o.renderMode,renderOrder:o.renderOrder,renderBuffer:o.renderBuffer,updateWhileAnimating:o.updateWhileAnimating,updateWhileInteracting:o.updateWhileInteracting,params:o,layerType:"vector",source:new ti.source.Vector({wrapX:!1}),style:new ti.style.Style({fill:new ti.style.Fill({color:"rgba(67, 110, 238, 0.4)"}),stroke:new ti.style.Stroke({color:"#4781d9",width:2}),image:new ti.style.Circle({radius:7,fill:new ti.style.Fill({color:"#ffcc33"})})}),zIndex:o.zIndex})),t&&i){o&&o.hasOwnProperty("selectable")&&i.set("selectable",o.selectable);var r=xi(t,e);r&&r instanceof ti.layer.Vector||t.addLayer(i)}return i}};ti.Popover=function(t,e){if(!(t&&t instanceof ti.Map))throw new Error("\u4f20\u5165\u7684\u4e0d\u662f\u5730\u56fe\u5bf9\u8c61\u6216\u8005\u5730\u56fe\u5bf9\u8c61\u4e3a\u7a7a\uff01");this.map=t,this.options=e||{},void 0===this.options.autoPan&&(this.options.autoPan=!0),this.options.offset||(this.options.offset=[0,0]),void 0===this.options.autoPanAnimation&&(this.options.autoPanAnimation={duration:250}),this.options.className||(this.options.className="hmap-js-popup"),void 0===this.options.opacity&&(this.options.opacity=1),void 0!==this.options.id&&null!==this.options.id||(this.options.id=hi()),this.options.markIcon||(this.options.markIcon="data:image;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAcCAYAAAC6YTVCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAA7BWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTYtMDQtMDdUMTE6MDM6MzkrMDg6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNi0wNC0wN1QyMDozMDoxNSswODowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTYtMDQtMDdUMjA6MzA6MTUrMDg6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6MDk1Y2NlYjctNjUzMC00YjlhLTkzMWMtZjFlNGVkMDFkMjNkPC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjU5MmJmNDUyLTlhOWEtNDBiYS04YWUzLWQxZTVlZDg4MDVmZjwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjU5MmJmNDUyLTlhOWEtNDBiYS04YWUzLWQxZTVlZDg4MDVmZjwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNyZWF0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo1OTJiZjQ1Mi05YTlhLTQwYmEtOGFlMy1kMWU1ZWQ4ODA1ZmY8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTYtMDQtMDdUMTE6MDM6MzkrMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNvbnZlcnRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6cGFyYW1ldGVycz5mcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nPC9zdEV2dDpwYXJhbWV0ZXJzPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDowOTVjY2ViNy02NTMwLTRiOWEtOTMxYy1mMWU0ZWQwMWQyM2Q8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTYtMDQtMDdUMjA6MzA6MTUrMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT4xPC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj4xMzwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj4yODwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+u0hEhgAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAB/klEQVR42pSSP08UYRDGf89lAWNi4h/kOkxItCFqYSkQSipqPwAWgIXkEv0Wl1gctn4Tw3ImlBAqaA4t9DaSnMZEip13x+Levds7ciCTzCab93memXlm9Ht1FSRwB7SE2MZ9GfQQ8RN8H6eFaOMCOeqtrAAkDh+ALWLIwUU1doG3QJ5YMHB9BDY0M83M2hrh21fs8Ah3B0H8bOFMI3+dmIWXgg2A6acvmFlfxy8u6G1u4hHuw2obgk+JmW2XD8XxMVNHR+QnJ+RmA2SVKHijs+fPukAdNFCmBHn0aGQ0vid5bvVSQiVawqNEVSqSZxMLlgH1qpxiP16a4EOai/PEcvsMvOqrll6PzFDyUH9PqQ7nHy0h9hmZiMu/7kgCWK5ZYW2z0ApWEMwIIYymGRYCRREIZq0QrJ0UVoDYoW/f1rCnSyV3gR1wdFCfG6Lcl5C2gRVgFuccPEVqAe2BUQdz9cqh9W368u79jyzrdjuds/lGmj6o+o0cuY+urtlsAniWZZx1OnSzTHt7eyOYGhPCuXTl15N0BWsiaXhTNyH5mPP/RZpY50ojJpe6ZqabGoEm9leTRDWHFB9MNY6pVZq5Dyw0Go3F/hkKIdI0XQQW4rsAkkh6DNwZHynu9lbMe8AscFr282ScNCH+VEmKSneB28BUNKkAcuAv8AvoAf5vALfw5dErL2VFAAAAAElFTkSuQmCC"),this.options.layerName||(this.options.layerName="PopoverFeatureLayer");var o=this.map.getSize();this.container=li("div",this.options.className),this.content=li("div","hmap-js-popup-content",this.container),this.content.style.maxHeight=o[1]-20+"px",!1!==this.options.showCloser&&(this.closer=li("div","hmap-js-popup-closer",this.container),this.closer.innerHTML="+",Mi(this.closer,"click",function(t){((t||window.event).stopPropagation(),this&&this.options.id)&&(this.map.removeOverlay(this),xi(this.map,this.options.layerName).getSource().removeFeature(this.markFeature),this.markFeature=null)},this)),!1!==this.options.showMinimize&&(this.minimize=li("div","hmap-js-popup-minimize",this.container),this.minimize.innerHTML="_",Mi(this.minimize,"click",function(t){(t||window.event).stopPropagation(),this&&this.showMinimize()},this)),this.enableTouchScroll_(this.content),this.options.element=this.container,this.miniOverLay=null,ti.Overlay.call(this,{element:this.container,stopEvent:!0,offset:this.options.offset,id:this.options.id,layerName:this.options.layerName,insertFirst:!this.options.hasOwnProperty("insertFirst")||this.options.insertFirst})},ti.inherits(ti.Popover,ti.Overlay),ti.Popover.prototype.show=function(t,e,o){if((o=o||{}).dataProjection&&o.featureProjection){var i=new ti.geom.Point(t);this.coords=i.transform(o.dataProjection,o.featureProjection).getCoordinates()}else this.coords=t;if(e instanceof HTMLElement?(this.content.innerHTML="",this.content.appendChild(e)):this.content.innerHTML=e,this.container.style.display="block",this.content.scrollTop=0,this.options.showMarkFeature&&this.showMarkFeature(this.coords),this.markFeature){var r=this.markFeature.getStyle().getImage().getSize();r&&this.options.offset&&(this.options.offset=[this.options.offset[0],this.options.offset[1]-r[1]])}return this.options.properties&&this.setProperties(this.options.properties),this.setOffset(this.options.offset),this.setPosition(this.coords),this.updateSize(),this},ti.Popover.prototype.showMarkFeature=function(t){var o=this;this.markFeature=new ti.Feature({params:{moveable:!0},geometry:new ti.geom.Point(t)}),this.set("markFeature",this.markFeature);var e=new ti.style.Style({image:new ti.style.Icon({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",opacity:1,src:this.options.markIcon})});this.markFeature.setId(this.options.id),this.markFeature.setStyle(e),this.markFeature.on("featureMove",function(t){var e=o.markFeature.getGeometry().getCoordinates();o.coords=e,o.setPosition(e),o.miniOverLay&&o.miniOverLay.setPosition(o.coords)});var i=Ti(this.map,this.options.layerName,{create:!0});i&&i instanceof ti.layer.Vector&&i.getSource().addFeature(this.markFeature)},ti.Popover.prototype.showMinimize=function(){var e=this,o=this;if(this.options.showMarkFeature)if(this.miniOverLay)this.miniOverLay.getElement().style.display="block",o.container.style.display="none",this.miniOverLay.getElement().setAttribute("data-state","block"),this.miniOverLay.setPosition(this.coords);else{var t=li("span","hmap-marker-minimize-panel");t.setAttribute("data-state","block"),o.container.style.display="none";var i=function(t){(t||window.event).stopPropagation(),o.container.style.display="block",o.miniOverLay.getElement().style.display="none",e.miniOverLay.getElement().setAttribute("data-state","none")};t.removeEventListener("click",i),t.addEventListener("click",i);var r=li("label","hmap-marker-minimize-label",t);this.options.minimizeText?(r.innerText=this.options.minimizeText,r.setAttribute("title",this.options.minimizeText)):(r.innerText="\u6211\u7684\u6807\u8bb0",r.setAttribute("title","\u6211\u7684\u6807\u8bb0")),this.miniOverLay=new ti.Overlay({element:t,stopEvent:!0,offset:[0,0],id:this.options.id+"_minimize",position:this.coords}),this.map.addOverlay(this.miniOverLay)}},ti.Popover.prototype.hide=function(){return this.container.style.display="none",this&&this.options.id&&this.map.removeOverlay(this),this},ti.Popover.prototype.updateSize=function(){return this.container.style.marginLeft=-this.container.clientWidth/2-1+"px",this.container.style.display="block",this.container.style.opacity=1,this.content.scrollTop=0,this.map.render(),this},ti.Popover.prototype.isOpened=function(){return"block"===this.container.style.display},ti.Popover.prototype.isTouchDevice_=function(){try{return document.createEvent("TouchEvent"),!0}catch(t){return!1}},ti.Popover.prototype.enableTouchScroll_=function(t){if(this.isTouchDevice_()){var e=0;Mi(t,"touchstart",function(t){e=this.scrollTop+t.touches[0].pageY},this),Mi(t,"touchmove",function(t){this.scrollTop=e-t.touches[0].pageY},this)}};var ji=ti.Popover,Fi=function(t){return!!(Ri()&&Oi()&&Ni()&&ki()&&Di()&&_i())},Ri=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},Oi=function(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray},Ni=function(){return Function.prototype&&Function.prototype.bind},ki=function(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions},Di=function(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON},_i=function(){return"Worker"in window},Gi={};Fi.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};var Bi=function(t){var e=document.createElement("canvas"),o=Object.create(Fi.webGLContextAttributes);return o.failIfMajorPerformanceCaveat=t,e.probablySupportsContext?e.probablySupportsContext("webgl",o)||e.probablySupportsContext("experimental-webgl",o):e.supportsContext?e.supportsContext("webgl",o)||e.supportsContext("experimental-webgl",o):e.getContext("webgl",o)||e.getContext("experimental-webgl",o)},Ui=Object.freeze({isSupported:Fi,isUint8ClampedArraySupported:function(){return"Uint8ClampedArray"in window},isWebGLSupportedCached:function(t){return void 0===Gi[t]&&(Gi[t]=Bi(t)),Gi[t]}}),zi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAACizSURBVHja7J1rjF3Xdd9/a59zX+feO8O3RHIoWhRJkXpRot6x7MSRlLZBPxgGktowWrQ1ECBBgib9VAT+YKBAPjsIkhYu3Lg1HTuJJb8aO3ETP6U2lS2OLDkWJT5mOBxKlDjkzH2/ztmrH865wztzL8mhxDtzz+VZxIVEYiTes8//v/Zaa//X2qKqJJbYrWomWYLEEgIkllhCgMQSSwiQWGIJARJLLCFAYoklBEgssYQAiSWWECCxxBICJJZYQoDEEksIkFhiCQESSywhQGKJJQRILLGEAIkllhAgscQSAiSWWEKAxBJLCJBYYgkBEkssIUBiiSUESCyx0TJ32H/Bf37+wnV/RkURFQCscRAFIx0UF0UQ24l+zgAOEAjoVpBHRO1TKvKYwO3ADmATkBnmMykgwNTkJf7lAz9hW2EJrKDIlR+SaHUvg33Roq8ppKOvH19rAUvAu8AFVV5y4AWQn1pjL4kxanxQjd6pI6CKWhAHFIv6JlwbUbCypr809Z/+Y3wJMATbAuwHHoo+9wIHgc1Aaj2/SLmVY/bSbWzKVUg5HdSuWk4LZEF2CjqnUAp/j8SWABngtugd3AbkFLaB7gWmBU6FlE92gGHY3hDw9leAD4ryCKIgsu54kmgXeLc6yd++/hDWwkN3nCLtBFhrrmwTPlAAeUQwKYN9wUI5glF8SUDkaHaIsEPhKQ33vp+q8qLAD4Bp4GxCgJtjtwNPAB8X9NfBFkE2HEAC5NwOzU6K775+FBE4esdJXBNgrXPlh5oh4OWIYMRgf2ShShgOxZsEPWshoDyiqo9Y5N8jfBv4CvCPwIWEAO/N8qD3Ar+F8O9AzBVUjYYpkHU7NDppvnviQbx0k8M7z+KsJkErBLzcLxgM9gc2JIY7PiToyeeKwL9C+Q0sfy7C54B/AmpJFWjtznULyKcgeB4NPnUF/CP4woFcqk2tneVbrz3Gibc/QEcFMXblE3Wif71fML9iIAcEY1xeEYxV/ZS1+rwIn4ryBkkIcN0dSQ6B/VO1fBaV3XFwkAoUUm0qrRzf+vmjnLiwN0SAWTV52w9/WO6LSJAZbxKIACK7LfJZ4E8FDo1a1GFG7Ls8I9r+smA/jsQrOLAoWbfNQnWSsxdvp9FOgwxAdxCR4F7BfMSEucA47wRRYGQtH7eBfBl4ZpRwN0oE+CiinxPkgTi+YqtCvZ3l4T0neXzfCbxME7XO1djST4JodxhrE3kAw+eAjyYEWGm/jeifAFNxTAtVhUY7w5GpGX7t8HG2FZawgYOqXGvLuEKCXzHh+UBn7EkgwBTCnwC/fWtUgUQGroMVg7E+wEcFPg3siqvnb7SzIfgPTbOlWAZr+rIEEYuqWclvG7oguS8qkX7fQp0hn2OPBAl2gXwaeBvRrzuuhGtxa+0AAvAvEP3jWIO/k+HI7jM8e/g4W4slRGWF5xexIIra1JXfr94J6EmM84Ql0vG3XRj+OMTALRkCySEV+0fAHXEFf8tPcWR3N+wpodZcOQmOwC5iaTVvY2nxQRr13YhpIaL9iTEgDwjyYUGKAo1bICeAOxD5I8Lq0C1FgG2inc8I8mAc35pvDZ0gxZHds/yzw8fZWiyj1qzy/AEiAc3mDqqV/TSbO6nV9tGo7Y1IsGon8KMX8oBBPiQwwa1Cggc14DPAtrEkgIqu+AAZkeCTovZj8QS/Q2Adjuya4dnDx9kysdQHfmMCRCzNxm1UywfptCcR6RD4eaqVgzRqdyDi95OgHeUERwTzlAl1rY3xj4Ws8jFV/SRCRlQQu/ITbwKs+AUW84Cif4Csr3LzZmQsvg0rOw/smuXpQ8fZUlxCfbc/5sfSbNxOpXKQdntTtBv4QIDv56lU7qZRn+onQVc2IatIUB97DqSs8gdq5AHGjQCrbItgf0dV9sbtDbUDBxTu3zXLM/eEnt920n1hD1gaEfg77U09IBdEFJGAwPeolO+mXp9azhP6SODcWiRQZK8N+B2ULWOWA5joI46gHxaCT0gcwQ/ct3OOpw9Ps2XiMrazslbZBX+ruYPqMviD/oQXRcQn8D2q5cM06rvolklXkKC5KhyaHO+cQATU6icU+8sq6qwKm8eBAGYK+CRIbKrcAnQCBxG4b9ccz9zzMlsmF9F2dtXLi6o9rdtCz9+ZHBzj9/43xifwc5RL99Js3B6RIOgnQTcc+lBEgtZYkyCjhk+o6O4xIkCoiBJ4VNBn4vRCOtZBEO7feZZnD7/M5olFtJlddcIbgrzZvI1K6VAIfq4N/isk6GBtJiLBzrD981o5wYcMFKNkeUxJoMivKjyk0SMO+zHXiQBmE8iHUd0UH/AbrAr37jrLs4enQ/C3citeSBjTK63WVsqlQ3Q6ExixA8Kea3m9DtbmKJfuo9m4PSLXABIQSak/ZMBjbLVDim618EGrFKyC1dgToC2irYNigw/GZQhFYAVrHe7feZZfO/QymwaAvxv6tFrbKZcOE/hFjPF5L2f6Im2sTVMu3UereVtPTtEbi/WQoKsdGlMVqcLTDnKPsw6S4PXYAbaqyIMqejQOi2+toRO43L97lmcPH2fTRAnbzg4AP7Sa2yiX7iHw81GZ8727K5EOGqQpl+6h2bw9nDxxlcOyZQHduPYTCEcRHmIdhJFDJ4BYHhXL0ThUfqwKrSDFA7vP8uyhaTYXy9h2ZhWuw2S13dpMudwF/81RconpYIMMlfI9NBs7o+T6KrKJMe4nCINAfciim4dNguHvAKIfRPSeOIC/0c7wwM4Znj00zZZiCfXdAdWegFZrO6XSPfidQuT5b+JyGT8kQekwjcYuRDpXF9DdE5EgNX45gYoeRvQQQj7eOwA8JuHcntFd7B49/7OHp9lcKGE7qVWHXGFNotXeQbl0qCfsGcKaiY+1uZAE9SnEXIUEGpFgLPsJZL9Rc7+j5vaY5wDsYoOETmv1/PV2liNTsz16fmcVIAMg9PyVpUME/sRNC3uuRYIgyIayidoexLT7w6Hot8tS6hxhiXQ8bNKKvUsJ7ow7AbYxouUfq0L9unr+IJI0b6dSvhvfn3jfCe9aayGhbCJPpXyQem0PIq3BO4H0JMZ5xkVA51nhsG8YaovsenTobxrZhNdP8dDuGZ49dJythUGS5vCEt9m8jUrlbvzORLQbrFecEckmglBFCuDl58CuOowLwjcp90fisRdAyxr3MYwiyh2EYzBjTYCRkz4E1uBblyO7Z8OEt3A1Pb+l2bydSjmUNxjZiEyzuxMUqFUOIgi5/BzYzEoS+EAq7CdQFH1BwzGMuTinAbIF2B53AozOegJt6xBYw4O7ZkJhW1TtWa3nDyXNt1GtHKDT3rRB4F9JAr9ToFq5G1By3nnAjfqMI+uEJJAjglGDfdGGA3m9mFaClMlhE8DcSuDvRHr+B29Yz++D2I2GA0iA73tRP8HuqzfVOCAPCuZolBi3Yvva8sDOZAe4CdYOHAQ4smuWpw9Ps7mwdBVJs9Jo3B5JmruqztGoLYbfw48S40Mogue9FXnLntGprTDwlKNhTqA/1TAxzsYtAsIM+1ubWwX8APfvCvX8m9+Xnn8UgNHbT7CTvn4CIhIUwDxqkIclzMTiuRMECQHeT9gT6fnv3zXHM4dfZvNN0vNv+LOt6CfY2UPiHmuE8b953CCPRiRok9itEgJd0fPP8szh46Gqs7la1blKz+8XIz3/6B+phv0EWcrle1B1yOYuIBKsTIybYSVIHhcEwb5sQxKkEvCP9Q7QsQZrhft2neWZe6YHSppvhp5/48OhDjbIUi7dS722B1W3f+dqgmQlJMHDEoI/SMA/tgTo6vkf2H2WXzv8MpuKw9XzjwIJVJ2w0b42harTHw5FibF5PMoJnIQEYxkCWWvwrRNNbJtmsljCtrKDKgw9ev7c0IRt65kYq7pUuifG3hxi7MBzAvOEwYpFX9ZlKUWyA4wD+FVoBimO7D7Ls4deYbIQ6flX2PD0/KNAAtShWjlAvX4HYFY+W/fiPrdnJyCWm16yAwwCf72V4eieMzxzaJpNhRLa6dfzg6XV2hGFPYXYe/6r7QTVyl0gkMudi8KhHl8XAE60E6hFj2tIDOfWI8BY7AC6fDlF2MyyqVDC+qkVF1evp55/JBJjm6Ne3Uu7tTXKbVZlQNFodvPErZ0TxJ4AVoVaOxt6/sPHQ21PsPF6/o11CClEfDLZi6TSpejGygGBvu0Jhx6JSNBJCBCfao8K9XaGh6OwZ0s+upxiJPT8GwV+F1XI52cpFE/jOK1rxzZBlBh3c4IUt9RhWWwJYFVod9Ih+A8fZ2uhhKrBav98/lDPf2gD9PzrD36AfGEWr3AGx2lc5ZqmAbdXZnrCoXREglugOhTLJNiP9PxH75jh6buPszlfGWE9/zqDP38Wr3gGxzQHhD4WYyxqBURWlkjbQDbcCazYUEDXDP9snO8oiN0O0LEOVh0enprhmcPH2VxYQoNrzeeP9PyMuedX8PKz5ItncJ0mqivB360E1Wt7qNb29fxZj7WAXE84lGHsr2uKzQ4gRKpOEY5OzfCRQ9NsypfQzupqT6+e/8DyiHLGNOlVdRCUXOEsheJpjGlFnr/Hyxkfax0a9Smq5f0oBhHF82Yj7ZAzkASW6LAs0hONo/+IDQFagYMrcGT3LB85fJzJfKnvkGvU9fzDAD9i8bxz5IunMaa5EszRbqhqQvBX7iIIPEQCapW7QJV8YS50DqsFdHkwj0Uk6IZDmYQAG2Jt38ExyoNTc3zk0DQThUVsKzcA/OGFdNUVl1OMK/hNBP45CsUziGkt5wFX1sRH1aFen6Ja2U8QeBgnbAqwNkW1uh8x3cOyVbKJBmE/weM9h2Wt8SPByBOgbR1cR3lo91l+9fA0hfwS2hqs5w+rPfHQ87/vsEd8srnzFIsnERP0ef6w1OvQqO+mWt6P7+ejkugVh6E2TbV8EBRy3vwyYVaQwFulHRozEow0ATq+g+vAQ1NnefrQNHkvBP+46Pnfq+cX8cl55ykU30RMp8/zm4gQ9foUtXLk+U1/O1g4gc6l0iVBfh4k6A+HPJAnon6Cn9plUV1CgGGCPzAYgaNTZ/nIoWny+aiZRXpfYCRvaG2jXArr/OFEh3Gt2xlEAnL58xSLbyzrflaHgqoSJbx3EQQ5jLn6ydYVFendKEIuPx+J6laSQLICT4AQ9RhHeqL4r+gImh8YBMMje2d5+vDxMOxZBf5u6DMOev41x/wEZL15JibeiIC+2n+F2uZGfYpKeT9BkMeY62sbuqFPpXI3zfpuuFY/wZhph0aOAIE1WBwe2zvDrx6cxsuGev5+8N/c+fyjDn5jAjxvnuLEm4A/IOZXBKVem6JaOUAQZBFZu6ah6/XDMYxTqHX6c6huP8GTBjkqIXo0IcBNBb9vXR7fO8MvH5zGy5X7pjeMs57/agkvYsl65ylMnMQMCHu6UyEajT1Uq/sJggzG+MgNShm64VCtcoB6fQ+KWXl+0ttP8Evj0U9gRgn8nSDFk3vP8MsHpynkyqifGlDtGe58/pEDP0ouNx9We64CfmMCGvXdVMr7sUG2P3y5QRJYTVGtHqBR30Pf7ZVEoY/pIUGMw6GRIIBVwbcpntp3ig8f/BnFbPWW1vP3gt/z5ihOnFru++0LeySgXt9DpXIQazPvC/wrdgLrUi3fRb26dzm57ks3zKpwKIYk2PAqUGAN7SDFU3ee5oP7XwnBbw39Ohal1dpBpdTV8/sxA7SiqmFYohKONI8CaEVANboXDNAUiODl5ygWTyOm3Qf+bthTr09RKR9AbeamhoIiAdamqVXDzrJ8fjYqkTorSeD2dJa9rLErkW4oAcLRJSH4nzr4ChO5StjMMkjV2dgRjiiPmZ5f1UZhiouTypDKZHHcNCKCGBc0wFrFBm3azSZBu4PVFp53lkJhPjrhNX3VHhGlXttDpbwf1cxQ1kPEYm2WevUuECGfn4kScHdlOBQlxlYU7c4dSicEuKb5VjA4PLXvFE/e9RrFbAj+0ZrP/349PjiuQzrjkc4VcVIZjAg4UdOOSPQoCmpJZRXrW8TOkEpfwjhlVNP0lltELKjSqN8RyRsy0dnHUJ4iHM0eZKhX7gQL+cJMfy6y3E8gWAT9KdDSWEipN4QA7cAhZeCXPnCKJ+96lXymOl56flVQJZXJks1vIp31MI4bhXVKFOyEPxeFeiIubkowmRaO2Y4GD4A9iejbaBRXhDufLGt7rM1GZx9DfRhELEGQo169MwqHZvoFdL39BEZjM5B3XQmghPKGjCs8ufc0Tx74GV6mgvXdFTH/6M3nv5FnDL9jJlcgW9yEm/YQiYCvdtVqXPmnYjF0MNI9cboTZBJ4HewZxDRAM9Tru5fr/MMH/+qdIEutug8RIefNXF1K/ZgQGBd+YqFuR5oE7vqC38VzLU984AxP7n+VbLaC7birEt746vk18v7pbJ7sxBZS6Vzo7/Va3z0kh5F2JFlQIEDEQdmGOPeBBKidpVnbRbV6gMD3ME573Z9OTIANslQr+1Br8fJzVyfBo4I1LrzkQ210SeCuG/gDl4lMwON3nOHx/a+SyVSwnXRf5SHWen5rcdMZcsXNpDJZNAqFrplodsHvtBFHo7xACXwfwSJmEpHDNJubqFTzGwT+lSVSG2SoVfYDMrifoAGSs5iHDaoG/X8KDR1JEgydAL4VAuswmQl48gMzPH7XK6TSFWwnOwD8MdbzW4uIIVMIwx6U64IfVYzTwUm1QcJ8YLFqOXOhzW0TDru3hhSxupNAt6F6OUTXBh/fhIdl6av3EwiRgM4iDws2MOhLwUhKqYdOAFGHTRmfJ+6c4Yl9r+KmK2g7s6JXexz0/Aqkcx7pjBc1nOs1/b6I4rodxG3TCSylmjJ/0ef4mTaXa5ZffyjLlJPCdhwCm8FNp8l6derVGqNwfrnmfoKcYh4LDzv1p6PXTzB0AhzavsjuTZd58q5XcVJltL1a2DYmen4xZLxCWO1RvWrCbkQwBozp0LYtlkoBp97q8Pq8z+l3Oswv+Pzzh3Ls3eGCpgiCNAo4LqRyeZxGBRsEUWK90SS4Tj9BtBOQA3lMEB29foKhE+CZQ6/gZas4qRK2nV3l+cdEz6+Km8ngOOlVFZ5VwBdAlI7fZrFW4423faZn2ry9FNBoWRzHsHOLw4GdKfKZDNbPYFWi2r/guClS6SytehVkNIb23FA/weOj108wdAJsmzwPSqjqHKDnbza3R9qe4uAZlnEI/1XJpTIY111OYq88IxHwhWYn4N1SgzffrvLybJN3FxUMpByhmDNUmsquzQ47J3NAFj+QFTuhESckQKM6WptfDwlEdHA41CE8J+gdyDsCJBg6AUJdz6BFG6f5/Io4aURMVNS8EgEYgU4AcwsNXp2r8vr5OhdLAZm0IZuRZZ9go4rQ1NYMmwo5UIOqXXb0GjIA46QZxZFtyyQoH0QVPO/cyvsJlBX9BMsjV3RjH8fdELCIpd3a1qPnj7mqU8GYsIutF/wtH2YvNnh5psrpC02qrQBjQm+/ep/zfaWQNezd7pFNGYJAV0Y5GpZIxXEiEd3okqBWOQCAVzi3skS6qp9gmQR24/J6d30XaFzn8/cAUiHtCm8vdfjhP5V4eaZGvROQSxmyKXOVDAECq2wtuOzZnMZ1DO2OvWoFaaRrAT39BGIgN2j4Vk8/gcWi0xt3P4G7fgszxnp+ERS7DGw/UDZ5KR69q8DmApx8p8m5BZ9qQ8lmBMf0w1iBu3c5THh+JICTVVSJhHNqY7AcV/oJ1Cr5wtl+EvT0EyzPIt2AnMBdnwWJv57/unuAtaAWMQar4Dqw93bD1G1pHms6vHXJcvJCh1+cb7NQsmRTsswCC6Rdw4FdabJZH7UNkEwUOkQkkPBUWW049UFk1EkQj36CoRMgnEogNBvbY6nnX9PLRgg6bVS7LkwRaeFKG9dApuAw6bncuTPFo/sz/ORkix++3sBLh7lAu6Psvz3F9mJ4qbfQxhhQm40UshqWD9Xi+1dOjUd/J7jBfgKi6tA69hMMnQBBkKXTmaRSOTi28/lFDJ1OExsojiMY6eCYdqQFCrFqRPEygpdxsb7y6nyLSl1JuYJv4dCuFHnPhK0BCI50sAIBmWWvaa3FbzUhHvjnhvsJeknQYl20Q0PPvSuVA1Sr++h0Ni/rfcbOBPyOT6fdxkgTx2mvfE6NQnc/JH5hUthzW4ogEHxf2VIQ9u1wSTm9vkExpo0jrUgJKwR+i067ORKnwDda9ev2E9Rqd0ZrtgoH3X6CJ6Ie4wxQY+i31QydAM3GLvz2JgxjfjmFWoyewMilCKCmr3ajQLUTUDfKnbtdchlotpU7t6XYNumEP6Mrqz3GtHGcNkEQ0Kw3sdYHidvVLSv7Cer1fQycNtFieRapHBUoDH+nG34SHE03GPf5/F5hnkxmBrFNVO6Lglh/+f0pULaWUmCxwK7tDts3O9Sbys7tLpm0DN5axOBIk0DfwnYaKDniOYNkjf0E3dHsRw22YKES+yrQ+A+tCufzn8GYGthTYSeX2Rctr78M/qXAEmj4p9mUcNeUS6Vm2bbdULWWScyqYWtOWAmyb+HKq3g5B2sPEXQ8jBPP6xzX2k9AAcwRE+YH8SbAuIJ/9Xz+djSdoQLBLxBJIWYPkKIWtJfBbyKXIAr7dqdotJTJCRPuDBY2uSaqI7lhGGUvYIPXEXmLXN4Fk6Ja7rZExpgE1+on6CbG7vARmhDgvYY9Ysl2J7atmM/vInoRsT+jo20qOkVT04DihCdZdMXShZzwwIE0roFAoayKCWCzm0II0OAtCH4Oeh7FjXpxz4FCpbIftdnYnqesqZ+g+2iphAAj5fmvPZ/fIEZoBe/wf8qLzPp3ss/bzx3ZTaQktdw0301zN3nQ8SPFKMJl3+eyX2a7ucCEnMLqxTAUwonkQJacNwcQzgH1hzkWZR12guvdTzBkSwhwg0WzK/P5TwwcUW5EaCn8uKQcu/gOF/wLHM6f5dGJQ+zJ3k7R5Mg7WRwxpIxDs2PxNaBuW9SCBm+1LvOP5RPck73IRzen2ZzKYO0VWUQYJli8/DkQQrnB8mAsjSUJrttPkBBgVMKegKz3FhMTJwA74GaWsGz94lKLv1ioc8F38IzldH2eM/XzbE1Psi+7kx3prWSNi+fkaAYtGrbDZb/ETONt3mkvUgt8flEzoEV+Y1uGggPWriSiquLlwwSyGo1GjGuZeU39BAkBNjbsMSYgl5snP/EGMMjzh0XPF5aaHFuo8Y4fMGEAcXAljP6X/CovlV/Hj8YlWtVwRCKCEUNKHFxx2eI61Kzy9cUGqPDxbR45x2B1tTjO4OXOIRoeONogE9tR8YP7CYIBYyETAqy75w/n889TuMq1RAawRnhhscmxi1Uu+hbPrKzrC+Di4JrrezULeEZoWOVbSw1U4JPb8mQcwVrt+W4COHheGA5VSgewNntTJkRvJAlqlQMIkCucGzqhEwJcD/wIue5tjDLY8yOGHy/WObZQ41JgyRp53weYCuSM0LTKtxfrgPJvdhRwzUoShGNTHHLePFYNtcr+aCeIcWKsKWq1O7E2i+PW8HIJATYI/IRTmidODpzP3+31/WG5zrFLdRZ8S0rkpp3eK5AxQkuVv1tqIsC/3VHAiAwOh7w5UKhV9xP42XCcpMSUBDZNPbqgw9uaEGBDPL+XPxvV+fvn85uIAT9YbISe31dckaGIqzISkuC7S020SwIzKBwS8t45DEq5cgANvBu6J2zE3sLQ4//l95hYL/hdVB3y+VkKy5dTmH7PH4H/ixdrLPiKK8NdzLQIDYXvlpp84d0qqooxMuB1Ktn8PMWJUxinjrVp4itCHH5pN9kBVoE/1KfM4BVO4zhNrHVYHmEehvsAfG+pyZcu1VnwA9LGDD3SECAl0AiU75bCcOhfb+/PCZSwXOt586BEdwiEO4FI8o4TAlwn5s/nZ/CKZ3DMAPBHAPqHpRbHLlZZ8C3ZdQB/1xcKkI4S479dagLwyW0F0o6g9soZc3jFqR+SQELZRNDJ4zit5EUnIdBVwK8GLz9LvngG12ks5wHLHtgIivAPi02OLVR5xw9uSrXnvewEaRFaVvmbKP9oBIqYlX3Cqi5IQM6bp1A8het2w6HEkh1gFfgFIVcIY35jWli7+oRXCFT5QanFsYU6b3cCio7Z0AJL2oQk+NZiA1B+c1uegmOWL9vrksCYgLw3jyjhxRo2h4ltYpzsADff84vi5WcpFE9iTLM/4TVCgPL9Uuj5RwH8XctGxPzG5QZ/vVCj7FvEWbkrheFQdyc4iePUsUGyE9zyBFgGvzdHoXgKY9rLSXAv+DtW+cFiky9drHG+HTDhyMiU1ruHZQo8d7nBVy/VWOqEo1l6O9GsdZGocadQPIVx66hN0r9blgBdPX94A3tX0uz0ef62wo9KLY4tVJlv+2xyRm+5FJZlF89dbvC1SzWWOsEKEvQSPuedC2XcTmPArfMJAW4B8Hf1/OcoTpyIwN8f9rRU+XGpwbFLVc63LZud0V0qCxRMeAj33OU6X7tUo+QHAxLjsPHe8+bJF0+BaaLWJAS4lR53Wc8/cQLT18zS1fMrL5aaHLtY43wrYNIxIz+JwQJ5EypLn7vc4LkeEvQ5AIRC/hxedycIi7wJAcY+5scu6/nDHtQBen6BF0stvnixxoWOZdI1sTlA6pIAgecvN3juUp2qb/tOjJXw8rqJ/DlyE2+CaSQEGPewx5jwdLQ4cYJQz98vbOvV87/rW4omfrDohkMCfGOxwV9frNPwbXhD/QoLpdQT+bfIFU+i0lwX7U1CgA2q9mS9eQoTb2CupedfivT8nSBMLGOqHej2E6jCt5YafPlSnZbt1w6pCliHCe8tvImTYU6gTkKA8Qp71qDnN4YfLzY4tlC9aXr+UagO5aJzgm8v1vnSQhV/gIBOEUQdJrzz5IunMaa5coJzQoA4gz/U8xcn3twQPf8okCBjhA7wd0tNvthVkUo/CcBQzJ/DK54CpxWeE+j4E8AdX/CPjp5/o22t/QSCUPDmEaBWOYCNdT/BLboDhINqzcjp+Tfa1tJPoFE/gZefpzAW/QS3GAHCZhYhl5+N9PyNCPxXJM0m+u33lpp8MdLz91zWMra2up/gC+9W8QclxjiIKF6kInWcOtZmxpYD7riBP5ufIV84M7iZZQP1/KOQD9xoP0HOm0dFqVYOoJ08Mob9BGZ8wA+Z/AyF4hlcd3T1/KOwE6y1nyDsLDsfCehq4U6Q7ACjl/Aqlkz+LMXiGdJOK5qs3MPyEdTzb3hOcEP9BOc2sp9gqDVZMxbg985SLJ4m5YSnmb0TQ0ZZz7/RtvZ+Aruqn2DdrnG0hFdmJAToB384JDbnzVGcOEXKCfX8GiM9/yjkBe+ln8Bxm1i7LiSoAW8nBBjg+btDVCcm3iQdYz3/KJDgxvsJTmLWo59AKaFcjDsBWjcX/L16/jcwxscOAH+c9PwbbTfaT5Dz5igWT2GWK21Dwr9wWSX+BFi6mV93XPX8o0CCtfYThKfsUTjkNCMYyRDwz5zAqbgTYIGbcFPeraDnHxUSIPC1yw2ev0o/QXg/geDl5yhMnkJMaxgEqCPyOkZejTkB5C2Qhfcb9twqev5RCYcE+OZig68u1KlfrZ9ADV4uDIfE3PR+ghLIaTAz8SaA2pdQ++b78vxr0fOL8EJpPPT8o0CCnBEC4JtLDb5yjX4CVQfPm6M4cTqarHGTcgLVU9jgNWxwId4EEHkRkV+897BnjXr+UoNjF8dHzz8K1aGcCIFVvr1U5y8uDe4nuHI/wTnyE6cxzk1qqhF5HZEThKXQodnwT4JN6ieovUPV50Zgueb5/Ag/Ktc5drHOQseSSsB/U0mwfD/BYhNDOJD36vcTnAXV6H6CDEaC9xSDKopIahp0EQ2GKsMz67CIlxR9RVSPrx38LoKSL8xQnHhz4Nba1fP/sNzgf75bY8G3uEaSYadDsIwITVX+ttTkf7xbxepV2is1vJ+gWDiFcdqovrfDMlGOA9OsgwZ16HhJ42haMm86JvOiXrcYpNGiKYXiKQrFk4Pn9nT1/Eu3jp5/oy0tQiOAvys1+cLCYBJcuZ/gXHQ/QeO9nhj/A7bzC6zPCl1LLHcABVVdAn4kyNI1wW/TCJbCxJt4hVmM8fv1/NGaf3+pyRcv1rnYuTX0/Bttvf0E/ztqr7x2P8E5CsXuHQvpteNY5JKKeVHFVFUMKibmBAh/qSI/AfP3g3c1RTUNElCYeJN8fhZjOtGU5n49//dKLb54scq7nfW5nCKxlf0EDat8JxIXtoKQBKsFdBCEJJg4hXEbaxzNrqB8D5FpJKriDbmSN3QCWLHdz7zCl3SANEI18vzFk3j52eiStJUxvxjBAj8sh+C/cIvq+UdjJwhJ8DeLDb503fsJzkX3E1yfBAothS8jcn58CBD9UjTAmB854n6lL+EVn8LESfKF2Z57eFeqOhGYrnY4tlDjrXZAPvH8G0qCjAhtC/9rscFXFqpUAxte+r2KBEYs+a6K1Glgr5EYO+J+BWN+CKzbHa9mfRdOLhvcP0Pt2RXgL54iXzgz+BLqaEVfqYaef67VYcJNwD8KljWCr8o3lnr6CeRq9xOci/oJGoP7CdSeNbh/Jsjl9XyGoRPAaO9HQYNXDOazqqYTgv80+cIZYJC2J/L8lTZ//k6N1xodio6TgH+E8oJw+BY8v9jgq5drLPnX6yc4HfUTrHjXHYN8Fg1eMaqrMBNzAriqyx+jCti2EedYyvGf9wqnwzHdMOCQS1AJPf8XLlZ5rdFhi2twEtyNHAnyEo5hfP5Sg68vq0iv1k8wF/UTXDkxNuI8b8Q9BrZtevDS/cS8CtR/26uIXchmy5+ZmHjjFdQMqPOH4P9Ztc2fv1vj5402W6NOLk0wN3K2LKBT+OrlOl+7vJZ+gvA+NkVfcSX1GULVcB9mhv2+10EMZwZ8HFTNCQj+UNXMrQR/KGx7rdrmv79T5eeNDpsdM0CNmNiokSDvhPcMPHe5wfPX7SeYI184PSfW/KGqnBiMk+gzzAhl6DmA269lEgExTcB8R1X/g4j8KbDLCAQivF5r8d/erfLGMvgTzx+nnaBqlecWGwD8RjRtoncMY9hPoPPZ3PzvNWpT3zGOj9pgQ/b3oRNg0/bvX7UmFAQZgK8DOwU+bcXsPFFvy+feqXK61WHSkUTRHFMS1KzyjcUGgvCbWz08x3QFdAq8BfppMN/csv3FNfxfH44vAdbUOK36X8TIOydq7c/+13cqU2daHfGSOn+sSeAZoaHKN5caWOCT2/JkHNRa5lX190T4xprxEescYM3fxHz9KwuV3zrbbL/qiSTVnjGoDuVE8K3ynaUGX7pUoekHrxrV3wK+NTKwGyXHESh/L2I+oWL+UpOwfyxIkDVCPVD9fqn9ly/U2p/AyN9zE3rEx5EACPjACZTftcrvK3o+4UG8KSDoeVR/v6P8bls5QfiOSQhwbcexAHzeqvmYVfN50CABU+zAH1g1n7dqPgZ8XmBhFIt5ozwctwa8hDCn6N+gfBzh1wUpJOAaZZ+vJZTvIPpXCP8X5cIof984TIe+AHzNYqdF5csCHwQ+gsjDCdxGCfn6MvA9RX+k8JqBs3H42nEajz4LOgvyfeCvrdqHBB4COSwi+4EJwCPpjBy2BUADKKvqKdDXFaYNTIOcAMpxepg43g9QAl5S9CVgiyD3WLX3CrIP5D5B94EUFS0gTCYtM+87pAGlIkgJuKxwNgS9nhHknxT9hcLluDalxv2CjMsCr1n0AshpgUtRyDQJbAN2AllGqOwWMzORt383+lwETim8quiMQS5q6JBia6KalBkTu7UZnlhiCQESSywhQGKJJQRILLGEAIkllhAgscQSAiSWWEKAxBJLCJBYYgkBEkssIUBiiSUESCyxhACJJZYQILHEEgIkllhCgMQSSwiQWGIJARJLLCFAYoklBEgssYQAiSWWECCxxEbN/v8AhJUoJvrkO6AAAAAASUVORK5CYII=",Zi={INDEX_URL:"https://sakitam-fdd.github.io/HMap/",API_URL:"",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,INTERACTIONS:{altShiftDragRotate:!0,doubleClickZoom:!0,keyboard:!0,mouseWheelZoom:!0,shiftDragZoom:!0,dragPan:!0,pinchRotate:!0,pinchZoom:!0}};ti.source.BAIDU=function(t){var e=t||{},o="";o=void 0!==e.attributions?e.attributions:[ti.source.BAIDU.ATTRIBUTION],e.projection=e.projection?e.projection:"EPSG:3857";var i=void 0!==e.crossOrigin?e.crossOrigin:"anonymous",r=void 0!==e.url?e.url:"http://online{0-3}.map.bdimg.com/onlinelabel/?qt=tile&x={x}&y={y}&z={z}&styles={styles}&udt=20170607&scaler=1&p=1",n=e.hidpi||1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI);r=r.replace("{styles}",n?"ph":"pl");var s=e.tileUrlFunction?e.tileUrlFunction:void 0;s||(s=function(t){var e=t[0],o=t[1],i=t[2];return o<0&&(o="M"+-o),i<0&&(i="M"+-i),r.replace("{0-3}",ti.source.BAIDU.getRandom(0,3)).replace("{x}",o.toString()).replace("{y}",i.toString()).replace("{z}",e.toString())});for(var a=e.levels?e.levels:19,p=[],h=0;h<a;h++)p[h]=Math.pow(2,a-1-h);var l=new ti.tilegrid.TileGrid({tileSize:e.tileSize?e.tileSize:256,origin:e.origin?e.origin:[0,0],extent:e.extent?e.extent:[-33554432,-33554432,33554432,33554432],resolutions:p,minZoom:e.minZoom&&"number"==typeof e.minZoom?e.minZoom:0});ti.source.TileImage.call(this,{tileGrid:l,attributions:o,cacheSize:e.cacheSize,projection:e.projection,crossOrigin:i,opaque:void 0===e.opaque||e.opaque,maxZoom:void 0!==e.maxZoom?e.maxZoom:19,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileUrlFunction:s,url:r,wrapX:e.wrapX,tilePixelRatio:n?2:1})},ti.inherits(ti.source.BAIDU,ti.source.TileImage),ti.source.BAIDU.getRandom=function(t,e){var o=Math.random()*(e-t),i=Math.round(o+t);return i=Math.max(Math.min(i,e),t)},ti.source.BAIDU.ATTRIBUTION=new ti.Attribution({html:'&copy; <a href="http://map.baidu.com/">\u767e\u5ea6\u5730\u56fe</a> contributors.'});ti.source.BAIDU;ti.source.GAODE=function(t){var e=t||{},o="";o=void 0!==e.attributions?e.attributions:[ti.source.GAODE.ATTRIBUTION];var i=void 0!==e.crossOrigin?e.crossOrigin:void 0,r=void 0!==e.url?e.url:"http://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=6&x={x}&y={y}&z={z}",n=e.tileUrlFunction?e.tileUrlFunction:void 0;ti.source.XYZ.call(this,{attributions:o,cacheSize:e.cacheSize,crossOrigin:i,opaque:void 0===e.opaque||e.opaque,maxZoom:void 0!==e.maxZoom?e.maxZoom:19,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,tileUrlFunction:n,url:r,wrapX:e.wrapX})},ti.inherits(ti.source.GAODE,ti.source.XYZ),ti.source.GAODE.ATTRIBUTION=new ti.Attribution({html:'&copy; <a href="http://ditu.amap.com/">\u9ad8\u5fb7\u5730\u56fe</a> contributors.'});ti.source.GAODE;ti.source.GOOGLE=function(t){var e=t||{},o="";o=void 0!==e.attributions?e.attributions:[ti.source.GOOGLE.ATTRIBUTION];var i=void 0!==e.crossOrigin?e.crossOrigin:"anonymous",r=void 0!==e.url?e.url:"http://www.google.cn/maps/vt?lyrs=m@189&gl=cn&x={x}&y={y}&z={z}";ti.source.XYZ.call(this,{attributions:o,cacheSize:e.cacheSize,crossOrigin:i,opaque:void 0===e.opaque||e.opaque,maxZoom:void 0!==e.maxZoom?e.maxZoom:19,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,url:r,wrapX:e.wrapX})},ti.inherits(ti.source.GOOGLE,ti.source.XYZ),ti.source.GOOGLE.ATTRIBUTION=new ti.Attribution({html:'&copy; <a href="http://www.google.cn/maps">\u8c37\u6b4c\u5730\u56fe</a> contributors.'});ti.source.GOOGLE;var Vi=function(o){function i(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};h(this,i);var e=c(this,o.call(this,t));return e.oldcluster=new ti.source.Vector,e.clusters=[],e.animation={start:!1},e.set("animationDuration","number"==typeof t.animationDuration?t.animationDuration:700),e.set("animationMethod",t.animationMethod||ti.easing.easeOut),e.getSource().on("change",e.saveCluster,e),e.on("precompose",e.animate,e),e.on("postcompose",e.postanimate,e),e}return r(i,o),i.prototype.saveCluster=function(){if(this.oldcluster.clear(),this.get("animationDuration")){var t=this.getSource().getFeatures();t.length&&t[0].get("features")&&(this.oldcluster.addFeatures(this.clusters),this.clusters=t.slice(0),this.sourceChanged=!0)}},i.prototype.getClusterForFeature=function(t,e){for(var o=0;o<e.length;o++){var i=e[o].get("features");if(i&&i.length)for(var r=0;r<i.length;r++)if(t===i[r])return e[o]}return!1},i.prototype.stopAnimation=function(){this.animation.start=!1,this.animation.cA=[],this.animation.cB=[]},i.prototype.animate=function(t){var e=this.get("animationDuration");if(e){var o=t.frameState.viewState.resolution,i=this.animation,r=t.frameState.time;if(i.resolution!==o&&this.sourceChanged){var n=t.frameState.extent;i.resolution<o?(n=ti.extent.buffer(n,100*o),i.cA=this.oldcluster.getFeaturesInExtent(n),i.cB=this.getSource().getFeaturesInExtent(n),i.revers=!1):(n=ti.extent.buffer(n,100*o),i.cA=this.getSource().getFeaturesInExtent(n),i.cB=this.oldcluster.getFeaturesInExtent(n),i.revers=!0),i.clusters=[];for(var s=0;s<i.cA.length;s++){var a=i.cA[s],p=a.get("features");if(p&&p.length){var h=this.getClusterForFeature(p[0],i.cB);h&&i.clusters.push({f:a,pt:h.getGeometry().getCoordinates()})}}if(i.resolution=o,this.sourceChanged=!1,!i.clusters.length||1e3<i.clusters.length)return void this.stopAnimation();r=i.start=(new Date).getTime()}if(i.start){var l=t.vectorContext,c=(r-i.start)/e;1<c&&(this.stopAnimation(),c=1),c=this.get("animationMethod")(c);var u=this.getStyle(),g="function"==typeof u?u:u.length?function(){return u}:function(){return[u]};t.context.save(),t.context.globalAlpha=this.getOpacity();for(var y=t.frameState.pixelRatio,f=0;f<i.clusters.length;f++){var d=i.clusters[f],v=d.f.getGeometry().getCoordinates();i.revers?(v[0]=d.pt[0]+c*(v[0]-d.pt[0]),v[1]=d.pt[1]+c*(v[1]-d.pt[1])):(v[0]=v[0]+c*(d.pt[0]-v[0]),v[1]=v[1]+c*(d.pt[1]-v[1]));for(var A=g(d.f,o),C=new ti.geom.Point(v),m=0;m<A.length;m++){var I=[null,A[m]],b=I[0],w=I[1],M=!ti.Map.prototype.getFeaturesAtPixel&&w.getImage();M&&(b=M.getScale(),M.setScale(b*y)),l.setStyle?(l.setStyle(w),l.drawGeometry(C)):(l.setImageStyle(M),l.setTextStyle(w.getText()),l.drawPointGeometry(C)),M&&M.setScale(b)}}t.context.restore(),t.frameState.animate=!0,t.context.save(),t.context.beginPath(),t.context.rect(0,0,0,0),t.context.clip(),this.clip_=!0}return this}},i.prototype.postanimate=function(t){this.clip_&&(t.context.restore(),this.clip_=!1)},i}(ti.layer.Vector);ti.layer.AnimatedCluster=Vi;var Hi=function(t,e){var o=Object.getOwnPropertyNames(e),i=Array.isArray(o),r=0;for(o=i?o:o[Symbol.iterator]();;){var n;if(i){if(r>=o.length)break;n=o[r++]}else{if((r=o.next()).done)break;n=r.value}var s=n;if(!s.match(/^(?:constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)){var a=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,a)}}},Wi=function(t){for(var e=arguments.length,o=Array(1<e?e-1:0),i=1;i<e;i++)o[i-1]=arguments[i];for(var r in o){var n=o[r];Hi(t,n),Hi(t.prototype,n.prototype)}};ti.style.Factory=function(t){var e=t&&"object"===(void 0===t?"undefined":l(t))?t:{},o=new ti.style.Style({});return e.geometry&&e.geometry instanceof ti.geom.Geometry&&o.setGeometry(e.geometry),e.zIndex&&"number"==typeof e.zIndex&&o.setZIndex(e.zIndex),e.fill&&"object"===l(e.fill)&&o.setFill(this._getFill(e.fill)),e.image&&"object"===l(e.image)&&o.setImage(this._getImage(e.image)),e.stroke&&"object"===l(e.stroke)&&o.setStroke(this._getStroke(e.stroke)),e.text&&"object"===l(e.text)&&o.setText(this._getText(e.text)),o},ti.style.Factory.prototype._getRegularShape=function(t){try{return new ti.style.RegularShape({fill:this._getFill(t.fill)||void 0,points:"number"==typeof t.points?t.points:1,radius:"number"==typeof t.radius?t.radius:void 0,radius1:"number"==typeof t.radius1?t.radius1:void 0,radius2:"number"==typeof t.radius2?t.radius2:void 0,angle:"number"==typeof t.angle?t.angle:0,snapToPixel:"boolean"!=typeof t.snapToPixel||t.snapToPixel,stroke:this._getStroke(t.stroke)||void 0,rotation:"number"==typeof t.rotation?t.rotation:0,rotateWithView:"boolean"==typeof t.rotateWithView&&t.rotateWithView,atlasManager:t.atlasManager?t.atlasManager:void 0})}catch(t){console.log(t)}},ti.style.Factory.prototype._getImage=function(t){try{return"icon"===(t=t||{}).type?this._getIcon(t.image):this._getRegularShape(t.image)}catch(t){console.log(t)}},ti.style.Factory.prototype._getIcon=function(t){try{return t=t||{},new ti.style.Icon({anchor:t.imageAnchor?t.imageAnchor:[.5,.5],anchorXUnits:t.imageAnchorXUnits?t.imageAnchorXUnits:"fraction",anchorYUnits:t.imageAnchorYUnits?t.imageAnchorYUnits:"fraction",anchorOrigin:t.imageAnchorOrigin?t.imageAnchorYUnits:"top-left",color:t.imageColor?t.imageColor:void 0,crossOrigin:t.crossOrigin?t.crossOrigin:void 0,img:t.img?t.img:void 0,offset:t.offset&&Array.isArray(t.offset)&&2===t.offset.length?t.offset:[0,0],offsetOrigin:t.offsetOrigin?t.offsetOrigin:"top-left",scale:"number"==typeof t.scale?t.scale:1,snapToPixel:"boolean"!=typeof t.snapToPixel||t.snapToPixel,rotateWithView:"boolean"==typeof t.rotateWithView&&t.rotateWithView,opacity:"number"==typeof t.imageOpacity?t.imageOpacity:1,rotation:"number"==typeof t.imageRotation?t.imageRotation:0,size:t.size&&Array.isArray(t.size)&&2===t.size.length?t.size:void 0,imgSize:t.imgSize&&Array.isArray(t.imgSize)&&2===t.imgSize.length?t.imgSize:void 0,src:t.imageSrc?t.imageSrc:void 0})}catch(t){console.log(t)}},ti.style.Factory.prototype._getStroke=function(t){try{return t=t||{},new ti.style.Stroke({color:t.strokeColor?t.strokeColor:void 0,lineCap:t.strokeLineCap&&"string"==typeof t.strokeLineCap?t.strokeLineCap:"round",lineJoin:t.strokeLineJoin&&"string"==typeof t.strokeLineJoin?t.strokeLineJoin:"round",lineDash:t.strokeLineDash?t.strokeLineDash:void 0,lineDashOffset:"number"==typeof t.strokeLineDashOffset?t.strokeLineDashOffset:"0",miterLimit:"number"==typeof t.strokeMiterLimit?t.strokeMiterLimit:10,width:"number"==typeof t.strokeWidth?t.strokeWidth:1})}catch(t){console.log(t)}},ti.style.Factory.prototype._getText=function(t){try{return new ti.style.Text({placement:t.placement,overflow:t.textOverflow,font:t.textFont&&"string"==typeof t.textFont?t.textFont:"10px sans-serif",offsetX:"number"==typeof t.textOffsetX?t.textOffsetX:0,offsetY:"number"==typeof t.textOffsetY?t.textOffsetY:0,scale:"number"==typeof t.textScale?t.textScale:void 0,text:t.text&&"string"==typeof t.text?t.text:void 0,textAlign:t.textAlign&&"string"==typeof t.textAlign?t.textAlign:"start",textBaseline:t.textBaseline&&"string"==typeof t.textBaseline?t.textBaseline:"alphabetic",rotateWithView:"boolean"==typeof t.rotateWithView&&t.rotateWithView,fill:t.textFill&&this._getFill(t.textFill),backgroundFill:t.textBackgroundFill&&this._getFill(t.textBackgroundFill),stroke:t.textStroke&&this._getStroke(t.textStroke),backgroundStroke:t.textBackgroundStroke&&this._getStroke(t.textBackgroundStroke),maxAngle:t.maxAngle&&si(t.maxAngle)?t.maxAngle:void 0,rotation:t.textRotation&&si(t.textRotation)?t.textRotation:0,padding:t.textPadding&&0<t.textPadding.length?t.textPadding:void 0})}catch(t){console.log(t)}},ti.style.Factory.prototype._getFill=function(t){try{return t=t||{},new ti.style.Fill({color:t.fillColor?t.fillColor:void 0})}catch(t){console.log(t)}};var Xi=ti.style.Factory,Yi=function(o){function i(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};h(this,i);var e=c(this,o.call(this,t));return e._canvas=null,e.options=t,e.setSource(new ti.source.ImageCanvas({logo:t.logo,state:t.state,attributions:t.attributions,resolutions:t.resolutions,canvasFunction:e.canvasFunction.bind(e),projection:t.hasOwnProperty("projection")?t.projection:"EPSG:3857",ratio:t.hasOwnProperty("ratio")?t.ratio:1})),e.on("precompose",e.redraw,e),e}return r(i,o),i.prototype.redraw=function(){var t=this.options.extent||this._getMapExtent();this.setExtent(t)},i.prototype.getContext=function(){return this._canvas.getContext(this.get("context")||"2d")},i.prototype._getMapExtent=function(){if(this.getMap()){var t=this._getMapSize(),e=this.getMap().getView();return e&&e.calculateExtent(t)}},i.prototype._getMapSize=function(){if(this.getMap())return this.getMap().getSize()},i.prototype.canvasFunction=function(t,e,o,i,r){if(this._canvas?(this._canvas.width=i[0],this._canvas.height=i[1]):this._canvas=function(t,e,o){if("undefined"!=typeof document){var i=document.createElement("canvas");return i.width=t,i.height=e,i}return new o(t,e)}(i[0],i[1]),e<=this.get("maxResolution")){var n=this.getContext();this.get("render")&&this.get("render")({context:n,extent:t,size:i,pixelRatio:o,projection:r})}return this._canvas},i.prototype.setMap=function(t){ti.layer.Image.prototype.setMap.call(this,t)},i.prototype.getMap=function(){return this.get("map")},i}(ti.layer.Image);function Ki(t,e,o,i,r,n){if(!(r-i<=o)){var s=Math.floor((i+r)/2);!function t(e,o,i,r,n,s){for(;r<n;){if(600<n-r){var a=n-r+1,p=i-r+1,h=Math.log(a),l=.5*Math.exp(2*h/3),c=.5*Math.sqrt(h*l*(a-l)/a)*(p-a/2<0?-1:1),u=Math.max(r,Math.floor(i-p*l/a+c)),g=Math.min(n,Math.floor(i+(a-p)*l/a+c));t(e,o,i,u,g,s)}var y=o[2*i+s],f=r,d=n;for(Ji(e,o,r,i),o[2*n+s]>y&&Ji(e,o,r,n);f<d;){for(Ji(e,o,f,d),f++,d--;o[2*f+s]<y;)f++;for(;o[2*d+s]>y;)d--}o[2*r+s]===y?Ji(e,o,r,d):Ji(e,o,++d,n),d<=i&&(r=d+1),i<=d&&(n=d-1)}}(t,e,s,i,r,n%2),Ki(t,e,o,i,s-1,n+1),Ki(t,e,o,s+1,r,n+1)}}function Ji(t,e,o,i){qi(t,o,i),qi(e,2*o,2*i),qi(e,2*o+1,2*i+1)}function qi(t,e,o){var i=t[e];t[e]=t[o],t[o]=i}function Qi(t,e,o,i){var r=t-o,n=e-i;return r*r+n*n}function $i(t,e,o,i,r){e=e||tr,o=o||er,r=r||Array,this.nodeSize=i||64,this.points=t,this.ids=new r(t.length),this.coords=new r(2*t.length);for(var n=0;n<t.length;n++)this.ids[n]=n,this.coords[2*n]=e(t[n]),this.coords[2*n+1]=o(t[n]);Ki(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function tr(t){return t[0]}function er(t){return t[1]}ti.layer.CanvasLayer=Yi,$i.prototype={range:function(t,e,o,i){return function(t,e,o,i,r,n,s){for(var a,p,h=[0,t.length-1,0],l=[];h.length;){var c=h.pop(),u=h.pop(),g=h.pop();if(u-g<=s)for(var y=g;y<=u;y++)a=e[2*y],p=e[2*y+1],o<=a&&a<=r&&i<=p&&p<=n&&l.push(t[y]);else{var f=Math.floor((g+u)/2);a=e[2*f],p=e[2*f+1],o<=a&&a<=r&&i<=p&&p<=n&&l.push(t[f]);var d=(c+1)%2;(0===c?o<=a:i<=p)&&(h.push(g),h.push(f-1),h.push(d)),(0===c?a<=r:p<=n)&&(h.push(f+1),h.push(u),h.push(d))}}return l}(this.ids,this.coords,t,e,o,i,this.nodeSize)},within:function(t,e,o){return function(t,e,o,i,r,n){for(var s=[0,t.length-1,0],a=[],p=r*r;s.length;){var h=s.pop(),l=s.pop(),c=s.pop();if(l-c<=n)for(var u=c;u<=l;u++)Qi(e[2*u],e[2*u+1],o,i)<=p&&a.push(t[u]);else{var g=Math.floor((c+l)/2),y=e[2*g],f=e[2*g+1];Qi(y,f,o,i)<=p&&a.push(t[g]);var d=(h+1)%2;(0===h?o-r<=y:i-r<=f)&&(s.push(c),s.push(g-1),s.push(d)),(0===h?y<=o+r:f<=i+r)&&(s.push(g+1),s.push(l),s.push(d))}}return a}(this.ids,this.coords,t,e,o,this.nodeSize)}};var or=function(o){function i(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};h(this,i);var e=c(this,o.call(this,t));return e._canvas=null,e._context=null,e._style=null,e.features=[],e.options=t,e.wgs84Sphere=new ti.Sphere("number"==typeof e.options.sphere?e.options.sphere:6378137),e.setSource(new ti.source.ImageCanvas({logo:t.logo,state:t.state,attributions:t.attributions,resolutions:t.resolutions,canvasFunction:e.canvasFunction.bind(e),projection:t.hasOwnProperty("projection")?t.projection:"EPSG:3857",ratio:t.hasOwnProperty("ratio")?t.ratio:1})),e.setStyle(t.style),e.on("precompose",e.redraw,e),e}return r(i,o),i.prototype.addFeature=function(t){this.features.push(t)},i.prototype.addFeatures=function(t){var e,o;this.features=this.features.concat(t),this.originData=new $i(this.features,function(t){return t.getGeometry().getCoordinates()[0]},function(t){return t.getGeometry().getCoordinates()[1]},e,o)},i.prototype.getFeatures=function(){return this.features},i.prototype.getFeatureById=function(t){},i.prototype.getStyle=function(){return this._style},i.prototype.setStyle=function(t){this._style=t},i.prototype._drawFeature=function(t,e){var o=this;if(this.getMap()){this._context||(this._context=this.getContext());var i=o._style.getImage();if(i){var r=new Image;r.src=i.getSrc(),r.complete?this.render_(r,t,e):(r.onload=function(){o.render_(r,t,e)},r.onerror=function(){})}}},i.prototype.render_=function(t,e,o){for(var i,r=this,n=(i=this.originData).range.apply(i,e).map(function(t){return r.features[t]}),s=n.length,a=this._style.getImage().getScale()||1,p=this._style.getImage().getAnchor()||[.5,.5],h=0;h<s;h++){var l=n[h].getGeometry(),c=l&&l.getCoordinates();if(c){var u=this.getMap().getPixelFromCoordinate(c),g=this._style.getImage().getSize();this._context.drawImage(t,(u[0]-p[0])*o,(u[1]-p[1])*o,g[0]*a*o,g[1]*a*o)}}},i.prototype.redraw=function(){var t=this.options.extent||this._getMapExtent();this.setExtent(t)},i.prototype.getContext=function(){return this._canvas.getContext(this.get("context")||"2d")},i.prototype._getMapExtent=function(){if(this.getMap()){var t=this._getMapSize(),e=this.getMap().getView();return e&&e.calculateExtent(t)}},i.prototype._getMapSize=function(){if(this.getMap())return this.getMap().getSize()},i.prototype.canvasFunction=function(t,e,o,i,r){if(this._canvas?(this._canvas.width=i[0],this._canvas.height=i[1]):this._canvas=function(t,e,o){if("undefined"!=typeof document){var i=document.createElement("canvas");return i.width=t,i.height=e,i}return new o(t,e)}(i[0],i[1]),e<=this.get("maxResolution")){var n=this.getContext();this._drawFeature(t,o),this.get("render")&&this.get("render")({context:n,extent:t,size:i,pixelRatio:o,projection:r})}return this._canvas},i.prototype.setMap=function(t){this.set("originMap",t)},i.prototype.getMap=function(){return this.get("originMap")},i.prototype.transformRadius=function(t,e){try{var o=this.wgs84Sphere.offset(t,e,1.5*Math.PI),i=t[0]-o[0],r=t[1]-o[1];return Math.sqrt(Math.pow(i,2)+Math.pow(r,2))}catch(t){console.log(t)}},i.prototype.getClosestPoint=function(t,e){var o,i=this,r=this.transformRadius(t,e);return(o=this.originData).within.apply(o,t.concat([r])).map(function(t){return i.features[t]})},i}(ti.layer.Image);ti.layer.DozensLayer=or;var ir=function(){function t(){h(this,t)}return t.prototype.getLayerByLayerName=function(t){return xi(this.getMap(),t)},t.prototype.getLayerByKeyValue=function(t,e){return function(t,e,o){var i=null;if(t){var r=t.getLayers().getArray();i=Pi(r,e,o)}return i}(this.getMap(),t,e)},t.prototype.getLayersArrayByKeyValue=function(t,e){return Ei(this.getMap(),t,e)},t.prototype.getAllLayers=function(){return Si(this.getMap())},t.prototype.getVectorLayers=function(){return this.getAllLayers().filter(function(t){var e=t.getSource();return e instanceof ti.source.Vector||e instanceof ti.source.Cluster})},t.prototype.getTitleLayerByLayerName=function(t){try{var e=void 0,o=this.getLayersArrayByKeyValue("layerName",t);return o&&0<o.length&&o.every(function(t){return"title"!==t.get("layerType")||(e=t,!1)}),e}catch(t){console.log(t)}},t.prototype.getBaseLayerByLayerName=function(e){var o=null,t=this.getLayersArrayByKeyValue("isBaseLayer",!0);return t&&0<t.length&&t.every(function(t){return t.get("layerName")!==e||(o=t,!1)}),o},t.prototype.getBaseLayers=function(){return this.getLayersArrayByKeyValue("isBaseLayer",!0)},t.prototype.getLayerByFeature=function(t){return function(t,e){var o=void 0;if(t&&e instanceof ti.Feature){var i=t.getLayers().getArray();o=Li(i,e)}return o}(this.getMap(),t)},t.prototype._fixStyleForLayer=function(t){var e=void 0;return t&&t instanceof ti.style.Style?e=t:pi(t)?e=t:"object"===(void 0===t?"undefined":l(t))&&(e=new Xi(t)),e},t.prototype.createVectorLayer=function(t,e){return this.orderLayerZindex(),Ti(this.getMap(),t,e)},t.prototype.createClusterLayer=function(t,e){if(this.map){var o=this.getLayerByLayerName(t);if(o instanceof ti.layer.Vector||(o=null),o||e&&e.create&&(o=new ti.layer.Vector({layerName:t,params:e,layerType:"vector",zIndex:e.zIndex,source:new ti.source.Cluster({distance:"number"==typeof e.distance?e.distance:20,source:new ti.source.Vector,wrapX:!1}),style:new ti.style.Style({fill:new ti.style.Fill({color:"rgba(67, 110, 238, 0.4)"}),stroke:new ti.style.Stroke({color:"#4781d9",width:2}),image:new ti.style.Circle({radius:7,fill:new ti.style.Fill({color:"#ffcc33"})})})})),this.map&&o){e&&e.hasOwnProperty("selectable")&&o.set("selectable",e.selectable);var i=this.getLayerByLayerName(t);i&&i instanceof ti.layer.Vector||this.map.addLayer(o)}return o}},t.prototype.createHeatMapLayer=function(t,e){var o=null;if(this.map)return(o=this.getLayerByLayerName(t))instanceof ti.layer.Heatmap?o instanceof ti.layer.Heatmap&&!1!==e.addLayer&&(this.map.removeLayer(o),o=null):o=null,!o&&e&&e.create&&(o=new ti.layer.Heatmap({layerName:t,gradient:e.gradient?e.gradient:["#00f","#0ff","#0f0","#ff0","#f00"],source:new ti.source.Vector({wrapX:!1,crossOrigin:e.crossOrigin?e.crossOrigin:void 0}),blur:e.blur?e.blur:15,radius:e.radius?e.radius:8,shadow:e.shadow?e.shadow:250,weight:e.weight?e.weight:"weight",extent:e.extent?e.extent:void 0,minResolution:e.minResolution?e.minResolution:void 0,maxResolution:e.maxResolution?e.maxResolution:void 0,opacity:e.opacity?e.opacity:1,visible:!1!==e.visible||e.visible}),e&&e.hasOwnProperty("selectable")&&o.set("selectable",e.selectable)),o&&!1!==e.addLayer&&this.map.addLayer(o),o;throw new Error("\u672a\u521b\u5efa\u5730\u56fe\u5bf9\u8c61\uff01")},t.prototype.createTitleLayer=function(t,e){var o=e.layerUrl;if(!o)return null;var i=this.getTitleLayerByLayerName(t);return i&&i instanceof ti.layer.Tile&&!1!==e.addLayer&&(this.map.removeLayer(i),i=null),!i&&e.create&&(i=new ti.layer.Tile({layerName:t,layerType:!0===e.notShowLayerType?"":"title",visible:!1!==e.visible||e.visible,zIndex:e.zIndex,source:new ti.source.TileArcGISRest({url:o,crossOrigin:e.crossOrigin?e.crossOrigin:void 0,params:e.layerParams?e.layerParams:void 0,wrapX:!1}),wrapX:!1})),this.map&&i&&!1!==e.addLayer&&this.map.addLayer(i),i},t.prototype.createImageWMSLayer=function(t,e){var o=this.getLayerByLayerName(t);return o instanceof ti.layer.Image?o instanceof ti.layer.Image&&!1!==e.addLayer&&(this.map.removeLayer(o),o=null):o=null,!o&&e&&e.layerUrl&&e.create&&(o=new ti.layer.Image({layerName:t,visible:!1!==e.visible||e.visible,opacity:e.opacity&&"number"==typeof e.opacity?e.opacity:1,zIndex:e.zIndex,source:new ti.source.ImageWMS({url:e.layerUrl,crossOrigin:e.crossOrigin?e.crossOrigin:void 0,params:{LAYERS:e.layers,STYLES:e.styles?e.styles:"",VERSION:e.version?e.version:"1.3.0",WIDTH:e.width?e.width:256,HEIGHT:e.height?e.height:256,BBOX:e.bbox,SRS:e.srs?e.srs:"EPSG:3857",CRS:e.srs?e.srs:"EPSG:3857",REQUEST:"GetMap",TRANSPARENT:!0,TILED:!1!==e.tiled||e.tiled,TILESORIGIN:e.tiledsorrigin?e.tiledsorrigin:void 0,SERVICE:"WMS",FORMAT:e.format?e.format:"image/png",VIEWPARAMS:e.viewparams?e.viewparams:""},wrapX:!1})})),this.map&&o&&!1!==e.addLayer&&this.map.addLayer(o),o},t.prototype.createTileWMSLayer=function(t,e){var o={LAYERS:e.layers,STYLES:e.styles?e.styles:"",VERSION:e.version?e.version:"1.3.0",WIDTH:e.width?e.width:256,HEIGHT:e.height?e.height:256,BBOX:e.bbox,SRS:e.srs?e.srs:"EPSG:3857",CRS:e.srs?e.srs:"EPSG:3857",REQUEST:"GetMap",TRANSPARENT:!0,TILED:!1!==e.tiled||e.tiled,TILESORIGIN:e.tiledsorrigin?e.tiledsorrigin:void 0,SERVICE:"WMS",FORMAT:e.format?e.format:"image/png",VIEWPARAMS:e.viewparams?e.viewparams:""};e.cql_filter&&(o.CQL_FILTER=e.cql_filter);var i=this.getLayerByLayerName(t);return i instanceof ti.layer.Image?i instanceof ti.layer.Tile&&!1!==e.addLayer&&(this.map.removeLayer(i),i=null):i=null,!i&&e&&e.layerUrl&&e.create&&(i=new ti.layer.Tile({layerName:t,visible:!1!==e.visible||e.visible,opacity:e.opacity&&"number"==typeof e.opacity?e.opacity:1,zIndex:e.zIndex,source:new ti.source.TileWMS({url:e.layerUrl,crossOrigin:e.crossOrigin?e.crossOrigin:void 0,params:o,wrapX:!1})})),this.map&&i&&!1!==e.addLayer&&this.map.addLayer(i),i},t.prototype.createWfsVectorLayer=function(t,e){var o=this.getLayerByLayerName(t);if(o instanceof ti.layer.Vector||(o=null),!o){var i=this._fixStyleForLayer(e.style);o=new ti.layer.Vector({layerName:t,params:e,layerType:"vector",visible:!1!==e.visible||e.visible,opacity:e.opacity&&"number"==typeof e.opacity?e.opacity:1,zIndex:e.zIndex,source:new ti.source.Vector({format:new ti.format.GeoJSON,crossOrigin:e.crossOrigin?e.crossOrigin:void 0,url:e.layerUrl,loader:e.loader||ti.FeatureLoader,wrapX:!1,strategy:ti.loadingstrategy.bbox}),style:i})}if(this.map&&o){e&&e.hasOwnProperty("selectable")&&o.set("selectable",e.selectable);var r=this.getLayerByLayerName(t);r&&r instanceof ti.layer.Vector||!1!==e.addLayer&&this.map.addLayer(o)}return o},t.prototype.createVectorFeatureLayer=function(t,e){var o=this.getLayerByLayerName(t);if(o instanceof ti.layer.Vector?this.map&&o instanceof ti.layer.Vector&&!1!==e.addLayer&&(this.map.removeLayer(o),o=null):o=null,!o&&e&&e.layerUrl&&e.create){var i=this._fixStyleForLayer(e.style);o=new ti.layer.Vector({layerName:t,params:e,layerType:"vector",zIndex:e.zIndex,visible:!1!==e.visible||e.visible,opacity:e.opacity&&"number"==typeof e.opacity?e.opacity:1,source:new ti.source.Vector({format:new ti.format.GeoJSON,crossOrigin:e.crossOrigin?e.crossOrigin:void 0,url:e.layerUrl,wrapX:!1,strategy:ti.loadingstrategy.bbox}),style:i})}return this.map&&o&&!1!==e.addLayer&&this.map.addLayer(o),o},t.prototype.createWMTSLayer=function(t,e){var o=this.getLayerByLayerName(t);if(o instanceof ti.layer.Tile?this.map&&o instanceof ti.layer.Tile&&!1!==e.addLayer&&(this.map.removeLayer(o),o=null):o=null,!(!o&&e&&e.layerUrl&&e.create&&e.levels))throw new Error("\u4f20\u5165\u53c2\u6570\u4e0d\u6b63\u786e\uff01");for(var i=ti.proj.get(e.projection?e.projection:"EPSG:3857"),r=e.extent?e.extent:i.getExtent(),n=ti.extent.getWidth(r)/256,s=e.levels,a=new Array(s),p=new Array(s),h=0;h<s;++h)a[h]=n/Math.pow(2,h),p[h]=h;return o=new ti.layer.Tile({layerName:t,zIndex:e.zIndex,visible:!1!==e.visible||e.visible,opacity:e.opacity&&"number"==typeof e.opacity?e.opacity:1,source:new ti.source.WMTS({url:e.layerUrl,layer:e.layer?e.layer:"0",matrixSet:e.matrixSet?e.matrixSet:"EPSG:3857",format:e.format?e.format:"image/png",crossOrigin:e.crossOrigin?e.crossOrigin:void 0,projection:i,tileGrid:new ti.tilegrid.WMTS({origin:ti.extent.getTopLeft(r),resolutions:a,matrixIds:p,version:e.version?e.version:"1.0.0",dimensions:e.dimensions?e.dimensions:void 0}),style:e.style?e.style:"default",wrapX:!1})}),this.map&&o&&!1!==e.addLayer&&this.map.addLayer(o),o},t.prototype.createXYZLayer=function(t,e){var o=this.getLayerByLayerName(t);if(o instanceof ti.layer.Tile?this.map&&o instanceof ti.layer.Tile&&!1!==e.addLayer&&(this.map.removeLayer(o),o=null):o=null,!o&&e&&e.layerUrl&&e.create){var i=void 0,r=256;e.tileSize&&"number"==typeof e.tileSize?r=e.tileSize:e.tileGrid&&e.tileGrid.tileSize&&"number"==typeof e.tileGrid.tileSize&&(r=e.tileGrid.tileSize);var n="EPSG:3857";e.projection?n=e.projection:this.view&&this.view instanceof ti.View&&(n=this.view.getProjection().getCode()),e.tileGrid&&e.tileGrid.resolutions&&(i=new ti.tilegrid.TileGrid({tileSize:r,origin:e.tileGrid.origin?e.tileGrid.origin:void 0,extent:e.tileGrid.extent?e.tileGrid.extent:void 0,resolutions:e.tileGrid.resolutions,minZoom:e.tileGrid.minZoom&&"number"==typeof e.tileGrid.minZoom?e.tileGrid.minZoom:0})),o=new ti.layer.Tile({layerName:t,zIndex:e.zIndex,visible:!1!==e.visible||e.visible,opacity:e.opacity&&"number"==typeof e.opacity?e.opacity:1,source:new ti.source.XYZ({wrapX:!1,tileGrid:i,tileSize:r,opaque:!0===e.opaque&&e.opaque,tilePixelRatio:e.tilePixelRatio?e.tilePixelRatio:1,projection:n,maxZoom:e.maxZoom?e.maxZoom:18,minZoom:e.minZoom?e.minZoom:0,crossOrigin:e.crossOrigin?e.crossOrigin:void 0,url:e.layerUrl})})}return this.map&&o&&!1!==e.addLayer&&this.map.addLayer(o),o},t.prototype.createOSMLayer=function(t,e){var o=this.getLayerByLayerName(t);return o instanceof ti.layer.Tile?this.map&&o instanceof ti.layer.Tile&&!1!==e.addLayer&&(this.map.removeLayer(o),o=null):o=null,!o&&e.create&&(o=new ti.layer.Tile({layerName:t,zIndex:e.zIndex,visible:!1!==e.visible||e.visible,opacity:e.opacity&&"number"==typeof e.opacity?e.opacity:1,source:new ti.source.OSM({wrapX:!1,opaque:!1!==e.opaque||e.opaque,url:e.layerUrl?e.layerUrl:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",crossOrigin:e.crossOrigin?e.crossOrigin:void 0})})),this.map&&o&&!1!==e.addLayer&&this.map.addLayer(o),o},t.prototype.createBaiDuLayer=function(t,e){var o=this.getLayerByLayerName(t);return o instanceof ti.layer.Tile?this.map&&o instanceof ti.layer.Tile&&!1!==e.addLayer&&(this.map.removeLayer(o),o=null):o=null,!o&&e.create&&(o=new ti.layer.Tile({layerName:t,zIndex:e.zIndex,visible:!1!==e.visible||e.visible,opacity:e.opacity&&"number"==typeof e.opacity?e.opacity:1,source:new ti.source.BAIDU(function(t){for(var e=1,o=arguments.length;e<o;e++){var i=arguments[e]||{};for(var r in i)if(i.hasOwnProperty(r)){var n=i[r];void 0!==n&&(t[r]=n)}}return t}(e,{wrapX:!1,projection:e.projection?e.projection:"EPSG:3857",origin:e.origin?e.origin:[0,0],opaque:!1!==e.opaque||e.opaque,url:e.layerUrl?e.layerUrl:"http://online{0-3}.map.bdimg.com/onlinelabel/?qt=tile&x={x}&y={y}&z={z}&styles=pl&udt=20170607&scaler=1&p=1",crossOrigin:e.crossOrigin?e.crossOrigin:void 0}))})),this.map&&o&&!1!==e.addLayer&&this.map.addLayer(o),o},t.prototype.createGaoDeLayer=function(t,e){var o=this.getLayerByLayerName(t);return o instanceof ti.layer.Tile?this.map&&o instanceof ti.layer.Tile&&!1!==e.addLayer&&(this.map.removeLayer(o),o=null):o=null,!o&&e.create&&(o=new ti.layer.Tile({layerName:t,zIndex:e.zIndex,visible:!1!==e.visible||e.visible,opacity:e.opacity&&"number"==typeof e.opacity?e.opacity:1,source:new ti.source.GAODE({wrapX:!1,opaque:!1!==e.opaque||e.opaque,url:e.layerUrl?e.layerUrl:"http://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=7&x={x}&y={y}&z={z}",crossOrigin:e.crossOrigin?e.crossOrigin:void 0})})),this.map&&o&&!1!==e.addLayer&&this.map.addLayer(o),o},t.prototype.createGoogleLayer=function(t,e){var o=this.getLayerByLayerName(t);return o instanceof ti.layer.Tile?this.map&&o instanceof ti.layer.Tile&&!1!==e.addLayer&&(this.map.removeLayer(o),o=null):o=null,!o&&e.create&&(o=new ti.layer.Tile({layerName:t,zIndex:e.zIndex,visible:!1!==e.visible||e.visible,opacity:e.opacity&&"number"==typeof e.opacity?e.opacity:1,source:new ti.source.GOOGLE({wrapX:!1,opaque:!1!==e.opaque||e.opaque,url:e.layerUrl,crossOrigin:e.crossOrigin?e.crossOrigin:void 0})})),this.map&&o&&!1!==e.addLayer&&this.map.addLayer(o),o},t.prototype.createMapboxVectorTileLayer=function(t,e){var o=this.getLayerByLayerName(t);if(o instanceof ti.layer.VectorTile?this.map&&o instanceof ti.layer.VectorTile&&!1!==e.addLayer&&(this.map.removeLayer(o),o=null):o=null,!o&&e&&e.layerUrl&&e.create){var i=null,r=256;e.tileSize&&"number"==typeof e.tileSize?r=e.tileSize:e.tileGrid&&e.tileGrid.tileSize&&"number"==typeof e.tileGrid.tileSize&&(r=e.tileGrid.tileSize);var n="EPSG:3857";e.projection?n=e.projection:this.view&&this.view instanceof ti.View&&(n=this.view.getProjection().getCode()),e.tileGrid&&(i=new ti.tilegrid.createXYZ({tileSize:r,extent:e.tileGrid.extent?e.tileGrid.extent:void 0,minZoom:e.tileGrid.minZoom&&"number"==typeof e.tileGrid.minZoom?e.tileGrid.minZoom:0,maxZoom:e.tileGrid.maxZoom&&"number"==typeof e.tileGrid.maxZoom?e.tileGrid.maxZoom:22})),o=new ti.layer.VectorTile({visible:!1!==e.visible||e.visible,zIndex:e.zIndex,renderBuffer:e.renderBuffer&&"number"==typeof e.renderBuffer?e.renderBuffer:100,renderMode:e.renderMode?e.renderMode:"hybrid",extent:e.extent?e.extent:void 0,opacity:e.opacity&&"number"==typeof e.opacity?e.opacity:1,minResolution:e.minResolution&&"number"==typeof e.minResolution?e.minResolution:void 0,maxResolution:e.maxResolution&&"number"==typeof e.maxResolution?e.maxResolution:void 0,preload:e.preload&&"number"==typeof e.preload?e.preload:0,source:new ti.source.VectorTile({format:new ti.format.MVT,crossOrigin:e.crossOrigin?e.crossOrigin:void 0,projection:n,overlaps:!e.overlaps||e.overlaps,tileGrid:i&&i instanceof ti.tilegrid.TileGrid?i:void 0,tilePixelRatio:e.tilePixelRatio&&"number"==typeof e.tilePixelRatio?e.tilePixelRatio:1,url:e.layerUrl,wrapX:!1})})}return this.map&&o&&!1!==e.addLayer&&this.map.addLayer(o),o},t.prototype._getFormatType=function(t){var e=void 0;if(t.format)switch(t.format){case"MVT":e=new ti.format.MVT;break;case"GeoJSON":e=new ti.format.GeoJSON;break;case"EsriJSON":e=new ti.format.EsriJSON;break;case"TopoJSON":e=new ti.format.TopoJSON;break;case"IGC":e=new ti.format.IGC;break;case"Polyline":e=new ti.format.Polyline;break;case"WKT":e=new ti.format.WKT;break;case"GMLBase":e=new ti.format.GMLBase;break;case"GPX":e=new ti.format.GPX;break;case"KML":e=new ti.format.KML;break;case"OSMXML":e=new ti.format.OSMXML;break;case"WFS":e=new ti.format.WFS;break;case"WMSGetFeatureInfo":e=new ti.format.WMSGetFeatureInfo}return e},t.prototype._getTileGrid=function(t){var e=void 0;if(t.tileGrid){var o=[256],i=o[0],r=o[1];t.tileSize&&"number"==typeof t.tileSize?i=t.tileSize:t.tileGrid&&t.tileGrid.tileSize&&"number"==typeof t.tileGrid.tileSize&&(i=t.tileGrid.tileSize),t.tileGrid.tileSizes&&t.tileGrid.tileSizes.length===t.tileGrid.resolutions&&(r=t.tileGrid.tileSizes),e="XYZ"===t.tileGrid.gridType?new ti.tilegrid.createXYZ({tileSize:i,extent:t.tileGrid.extent?t.tileGrid.extent:void 0,minZoom:t.tileGrid.minZoom&&"number"==typeof t.tileGrid.minZoom?t.tileGrid.minZoom:0,maxZoom:t.tileGrid.maxZoom&&"number"==typeof t.tileGrid.maxZoom?t.tileGrid.maxZoom:22}):"WMTS"===t.tileGrid.gridType?new ti.tilegrid.WMTS({sizes:t.tileGrid.sizes&&Array.isArray(t.tileGrid.sizes)?t.tileGrid.sizes:void 0,widths:t.tileGrid.widths&&Array.isArray(t.tileGrid.widths)?t.tileGrid.widths:void 0,tileSize:i,tileSizes:r,resolutions:t.tileGrid.resolutions,origin:t.tileGrid.origin?t.tileGrid.origin:void 0,origins:t.tileGrid.origins?t.tileGrid.origins:void 0,extent:t.tileGrid.extent?t.tileGrid.extent:void 0,minZoom:t.tileGrid.minZoom&&"number"==typeof t.tileGrid.minZoom?t.tileGrid.minZoom:0,matrixIds:t.tileGrid.matrixIds}):new ti.tilegrid.TileGrid({sizes:t.tileGrid.sizes&&Array.isArray(t.tileGrid.sizes)?t.tileGrid.sizes:void 0,widths:t.tileGrid.widths&&Array.isArray(t.tileGrid.widths)?t.tileGrid.widths:void 0,tileSize:i,tileSizes:r,resolutions:t.tileGrid.resolutions,matrixIds:t.tileGrid.matrixIds,origin:t.origin?t.origin:void 0,origins:t.origins?t.origins:void 0,extent:t.tileGrid.extent?t.tileGrid.extent:void 0,minZoom:t.tileGrid.minZoom&&"number"==typeof t.tileGrid.minZoom?t.tileGrid.minZoom:0})}return e},t.prototype.createVectorTileLayer=function(t,e){var o=this.getLayerByLayerName(t);if(o instanceof ti.layer.VectorTile?this.map&&o instanceof ti.layer.VectorTile&&!1!==e.addLayer&&(this.map.removeLayer(o),o=null):o=null,!o&&e&&(e.layerUrl||e.layerUrls)&&e.create){var i="EPSG:3857";e.projection?i=e.projection:this.view&&this.view instanceof ti.View&&(i=this.view.getProjection().getCode()),o=new ti.layer.VectorTile({visible:!1!==e.visible||e.visible,zIndex:e.zIndex,renderBuffer:e.renderBuffer&&"number"==typeof e.renderBuffer?e.renderBuffer:100,renderMode:e.renderMode?e.renderMode:"hybrid",extent:e.extent?e.extent:void 0,opacity:e.opacity&&"number"==typeof e.opacity?e.opacity:1,minResolution:e.minResolution&&"number"==typeof e.minResolution?e.minResolution:void 0,maxResolution:e.maxResolution&&"number"==typeof e.maxResolution?e.maxResolution:void 0,preload:e.preload&&"number"==typeof e.preload?e.preload:0,source:new ti.source.VectorTile({format:this._getFormatType(e),cacheSize:e.cacheSize&&"number"==typeof e.cacheSize?e.cacheSize:128,crossOrigin:e.crossOrigin?e.crossOrigin:void 0,projection:i,state:e.state?e.state:void 0,overlaps:!e.overlaps||e.overlaps,tileClass:e.tileClass&&"function"==typeof e.tileClass?e.tileClass:ti.VectorTile,tileGrid:this._getTileGrid(e),tilePixelRatio:e.tilePixelRatio&&"number"==typeof e.tilePixelRatio?e.tilePixelRatio:1,url:e.layerUrl?e.layerUrl:void 0,urls:e.layerUrls&&Array.isArray(e.layerUrls)&&0<e.layerUrls.length?e.layerUrls:void 0,tileUrlFunction:e.tileUrlFunction&&"function"==typeof e.tileUrlFunction?e.tileUrlFunction:void 0,tileLoadFunction:e.tileLoadFunction&&"function"==typeof e.tileLoadFunction?e.tileLoadFunction:void 0,wrapX:!1}),style:e.style?e.style:void 0})}return this.map&&o&&!1!==e.addLayer&&this.map.addLayer(o),o},t.prototype.createImageLayer=function(t,e){var o=this.getLayerByLayerName(t);if(o instanceof ti.layer.Image?this.map&&o instanceof ti.layer.Image&&!1!==e.addLayer&&(this.map.removeLayer(o),o=null):o=null,!o&&e&&e.layerUrl&&e.create){var i=this.getImagesSource(e);o=new ti.layer.Image({layerName:t,zIndex:e.zIndex,extent:e.extent?e.extent:void 0,visible:!1!==e.visible||e.visible,opacity:e.opacity&&"number"==typeof e.opacity?e.opacity:1,source:i})}return this.map&&o&&!1!==e.addLayer&&this.map.addLayer(o),o},t.prototype.getImagesSource=function(t){var e=null,o=new ti.proj.Projection({code:t.projection?t.projection:"EPSG:3857",units:"m",axisOrientation:"neu"});switch(t.sourceType){case"ImageStatic":e=new ti.source.ImageStatic({crossOrigin:t.crossOrigin?t.crossOrigin:void 0,imageExtent:t.imageExtent,projection:o,imageSize:t.imageSize?t.imageSize:void 0,url:t.layerUrl,wrapX:!1});break;case"ImageWMS":e=new ti.source.ImageWMS({url:t.layerUrl,crossOrigin:t.crossOrigin?t.crossOrigin:void 0,params:{LAYERS:t.layers,STYLES:t.styles?t.styles:"",TYPE:t.type?t.type:"",VERSION:t.version?t.version:"1.3.0",WIDTH:t.width?t.width:256,HEIGHT:t.height?t.height:256,SRS:t.srs?t.srs:"EPSG:3857",CRS:t.srs?t.srs:"EPSG:3857",REQUEST:"GetMap",TRANSPARENT:!0,TILED:!1!==t.tiled||t.tiled,TILESORIGIN:t.tiledsorrigin?t.tiledsorrigin:void 0,SERVICE:"WMS",FORMAT:t.format?t.format:"image/png",VIEWPARAMS:t.viewparams?t.viewparams:""},wrapX:!1});break;case"Raster":e=new ti.source.Raster;break;case"ImageMapGuide":e=new ti.source.ImageMapGuide({url:t.layerUrl,wrapX:!1,displayDpi:t.displayDpi&&"number"==typeof t.displayDpi?t.displayDpi:96,metersPerUnit:t.metersPerUnit&&"number"==typeof t.metersPerUnit?t.metersPerUnit:1,hidpi:!t.hidpi||"boolean"!=typeof t.hidpi||t.hidpi,useOverlay:t.useOverlay&&"boolean"==typeof t.useOverlay?t.useOverlay:void 0,projection:t.projection?t.projection:"EPSG:3857",ratio:t.ratio&&"number"==typeof t.ratio?t.ratio:1,resolutions:t.resolutions&&Array.isArray(t.resolutions)?t.resolutions:void 0,imageLoadFunction:t.imageLoadFunction&&"function"==typeof t.imageLoadFunction?t.imageLoadFunction:void 0,params:t.params&&"object"===l(t.params)?t.params:void 0});break;case"ImageCanvas":e=new ti.source.ImageCanvas({projection:t.projection?t.projection:"EPSG:3857",ratio:t.ratio&&"number"==typeof t.ratio?t.ratio:1,resolutions:t.resolutions&&Array.isArray(t.resolutions)?t.resolutions:void 0,canvasFunction:t.canvasFunction,state:t.state?t.state:void 0,wrapX:!1});break;case"ImageArcGISRest":e=new ti.source.ImageArcGISRest({url:t.layerUrl,hidpi:!t.hidpi||"boolean"!=typeof t.hidpi||t.hidpi,crossOrigin:t.crossOrigin?t.crossOrigin:void 0,projection:t.projection?t.projection:"EPSG:3857",ratio:t.ratio&&"number"==typeof t.ratio?t.ratio:1,resolutions:t.resolutions&&Array.isArray(t.resolutions)?t.resolutions:void 0,imageLoadFunction:t.imageLoadFunction&&"function"==typeof t.imageLoadFunction?t.imageLoadFunction:void 0,params:t.params&&"object"===l(t.params)?t.params:void 0,wrapX:!1});break;default:return console.log("sourceType\u7c7b\u578b\u672a\u4f20\uff01"),!1}return e},t.prototype.removeLayerByLayerName=function(t){if(this.map){var e=this.getLayerByLayerName(t);e&&!e.get("isBaseLayer")&&this.removeLayer(e)}},t.prototype.removeLayerByLayerNames=function(t){var e=this;this.map&&Array.isArray(t)&&0<t.length&&t.forEach(function(t){e.removeLayerByLayerName(t)})},t.prototype.removeLayerByKeyValue=function(t,e){if(this.map){var o=this.getLayerByKeyValue(t,e);o&&!o.get("isBaseLayer")&&this.removeLayer(o)}},t.prototype.removeLayerByKeyValues=function(e,t){var o=this;this.map&&e&&Array.isArray(t)&&0<t.length&&t.forEach(function(t){t&&o.removeLayerByKeyValue(e,t)})},t.prototype.removeLayersByKeyValue=function(t,e){var o=this;if(this.map){var i=this.getLayersArrayByKeyValue(t,e);i&&0<i.length&&i.forEach(function(t){t&&!t.get("isBaseLayer")&&o.removeLayer(t)})}},t.prototype.removeTileLayerByLayerName=function(t){if(this.map){var e=this.getTitleLayerByLayerName(t);e&&e instanceof ti.layer.Tile&&this.removeLayer(e)}},t.prototype.removeAllLayer=function(){var e=this;this.map&&this.map.getLayers().getArray().forEach(function(t){t.get("isBaseLayer")||e.removeLayer(t)})},t}(),rr=function(){function t(){h(this,t)}return t.prototype.addControl=function(t){if(!(this.map&&t instanceof ti.control.Control))throw new Error("\u4e0d\u5b58\u5728\u5730\u56fe\u6216\u8005\u4f20\u5165\u63a7\u4ef6\u5bf9\u8c61\u6709\u8bef\uff01");this.map.addControl(t)},t.prototype.addInteraction=function(t){if(!(this.map&&t instanceof ti.interaction.Interaction))throw new Error("\u4e0d\u5b58\u5728\u5730\u56fe\u6216\u8005\u4f20\u5165\u4ea4\u4e92\u5bf9\u8c61\u6709\u8bef\uff01");this.map.addInteraction(t)},t.prototype.addLayer=function(t){this.map.addLayer(t)},t.prototype.removeLayer=function(t){this._removeSelectFeature(null,!0),this.map.removeLayer(t)},t.prototype.addOverlay=function(t){this.map.addOverlay(t)},t.prototype.removeOverlay=function(t){this.map.removeOverlay(t)},t.prototype.changed=function(){this.map.changed()},t.prototype.dispatchEvent=function(t){return this.map.dispatchEvent(t)},t.prototype.forEachFeatureAtPixel=function(t,e,o){return this.map.forEachFeatureAtPixel(t,e,o)},t.prototype.forEachLayerAtPixel=function(t,e,o,i,r){return this.map.forEachLayerAtPixel(t,e,o,i,r)},t.prototype.get=function(t){return this.map.get(t)},t.prototype.getControls=function(){return this.map.getControls()},t.prototype.getInteractions=function(){return this.map.getInteractions()},t.prototype.getCoordinateFromPixel=function(t){return this.map.getCoordinateFromPixel(t)},t.prototype.getPixelFromCoordinate=function(t){return this.map.getPixelFromCoordinate(t)},t.prototype.getEventCoordinate=function(t){return this.map.getEventCoordinate(t)},t.prototype.getEventPixel=function(t){return this.map.getEventPixel(t)},t.prototype.getFeaturesAtPixel=function(t,e){return this.map.getFeaturesAtPixel(t,e)},t.prototype.getLayerGroup=function(){return this.map.getLayerGroup()},t.prototype.getLayers=function(){return this.map.getLayers()},t.prototype.getOverlayById=function(t){return this.map.getOverlayById(t)},t.prototype.getOverlays=function(){return this.map.getOverlays()},t.prototype.getProperties=function(){return this.map.getProperties()},t.prototype.getRevision=function(){return this.map.getRevision()},t.prototype.getSize=function(){return this.map.getSize()},t.prototype.getTarget=function(){return this.map.getTarget()},t.prototype.getTargetElement=function(){return this.map.getTargetElement()},t.prototype.getKeys=function(){return this.map.getKeys()},t.prototype.getView=function(){return this.map.getView()},t.prototype.getViewport=function(){return this.map.getViewport()},t.prototype.hasFeatureAtPixel=function(t,e){return this.map.hasFeatureAtPixel(t,e)},t.prototype.removeControl=function(t){return this.map.removeControl(t)},t.prototype.removeInteraction=function(t){return this.map.removeInteraction(t)},t.prototype.render=function(){this.map.render()},t.prototype.renderSync=function(t,e,o){this.map.renderSync(t,e,o)},t.prototype.setLayerGroup=function(t){this.map.setLayerGroup(t)},t.prototype.setProperties=function(t,e){this.map.setProperties(t,e)},t.prototype.setSize=function(t){this.map.setSize(t)},t.prototype.setTarget=function(t){this.map.setTarget(t)},t.prototype.getMap=function(){return this.map},t.prototype.setMap=function(t){t&&t instanceof ti.Map&&(this.map=t)},t.prototype.setView=function(t){if(!(this.map&&t instanceof ti.View))throw new Error("\u4e0d\u5b58\u5728\u5730\u56fe\u6216\u8005\u4f20\u5165\u89c6\u56fe\u5bf9\u8c61\u6709\u8bef\uff01");this.map.setView(t)},t.prototype.unset=function(t,e){this.map.unset(t,e)},t.prototype.updateSize=function(){if(this.map)return this.map.updateSize(),this.map;throw new Error("\u672a\u5b9e\u4f8b\u5316\u5730\u56fe\u5bf9\u8c61\uff01")},t}(),nr=function(){function t(){h(this,t)}return t.prototype._addView=function(t){var e=t||{};return this.projection=ti.proj.get(e.projection||"EPSG:3857"),this.fullExtent=e.extent,this.fullExtent&&this.projection.setExtent(this.fullExtent),new ti.View({center:e.center&&Array.isArray(e.center)?e.center:[0,0],zoom:e.zoom&&"number"==typeof e.zoom?e.zoom:0,minZoom:e.minZoom&&"number"==typeof e.minZoom?e.minZoom:void 0,maxZoom:e.maxZoom&&"number"==typeof e.maxZoom?e.maxZoom:void 0,zoomFactor:e.zoomFactor&&"number"==typeof e.zoomFactor?e.zoomFactor:2,rotation:e.rotation&&"number"==typeof e.rotation?e.rotation:0,enableRotation:!1!==e.enableRotation||e.enableRotation,projection:e.projection?e.projection:"EPSG:3857",extent:e.extent&&Array.isArray(e.extent)&&4===e.extent.length?e.extent:void 0,resolutions:e.resolutions&&Array.isArray(e.resolutions)&&0<e.resolutions.length?e.resolutions:void 0})},t.prototype.zoomIn=function(t){var e=this.map.getView().getZoom();this.map.getView().animate({zoom:e+1,duration:t&&"number"==typeof t?t:300})},t.prototype.zoomOut=function(t){var e=this.map.getView().getZoom();this.map.getView().animate({zoom:e-1,duration:t&&"number"==typeof t?t:300})},t.prototype.zoomByDelta=function(t,e){var o=this.map.getView();if(!(o&&o instanceof ti.View))return!1;var i=o.getResolution();if(i){var r=o.constrainResolution(i,t);0<e?(o.getAnimating()&&o.cancelAnimations(),o.animate({resolution:r,duration:e,easing:ti.easing.easeOut})):o.setResolution(r)}},t}(),sr=function(t){function e(){return h(this,e),c(this,t.apply(this,arguments))}return r(e,t),e.prototype.addBaseLayers=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return!t||!Array.isArray(t)||t.length<=0?[new ti.layer.Group({layers:[new ti.layer.Tile({source:new ti.source.OSM})],isBaseLayer:!0})]:[new ti.layer.Group({layers:this._getBaseLayerGroup(t),isBaseLayer:!0})]},e.prototype._getBaseLayerGroup=function(t){var e,o=this,i=[],r=[];return t&&Array.isArray(t)&&0<t.length&&t.forEach(function(t){if(t.layerName&&t.layerUrl&&t.layerType){var e=o._getLayer(t);e&&i.push(e),t.label&&Array.isArray(t.label)?t.label.forEach(function(t){t.layerName&&t.layerUrl&&t.layerType&&r.push(t)}):"object"===l(t.label)&&r.push(t.label)}}),e=this._getBaseLayerLabel(r),i.concat(e)},e.prototype._getBaseLayerLabel=function(t){var i=this,r=[],e=new Set;t&&Array.isArray(t)&&0<t.length&&(t.forEach(function(t){t.layerName&&t.layerUrl&&t.layerType&&e.add(t.layerName)}),[].concat(function(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}return Array.from(t)}(e)).forEach(function(o){t.every(function(t){if(t&&t.layerName===o){var e=i._getLayer(t);return e&&r.push(e),!1}return!0})}));return r},e.prototype._getLayer=function(t){switch(t.layerType){case"TileXYZ":return this._getXYZLayer(t);case"TileWMTS":return this._getWMTSLayer(t);case"OSM":return this._getOSMLayer(t);case"ImageWMS":return this._getImageWMSLayer(t);case"TileWMS":return this._getTileWMSLayer(t);case"MapboxVectorTile":return this._getMapboxVectorTileLayer(t);case"TileArcGISRest":return this._getTileArcGISRestLayer(t);case"BaiDu":return this._getBaiDuLayer(t);case"GaoDe":return this._getGaoDeLayer(t);case"Google":return this._getGoogleLayer(t);case"ImageLayer":return this._getImageLayer(t);default:throw new Error("\u4e0d\u652f\u6301\u7684\u56fe\u5c42\u7c7b\u578b\uff01")}},e.prototype._getXYZLayer=function(t){var e=t.layerName||"";t.addLayer=!1,t.create=!0,t.hasOwnProperty("tileGrid")||(t.tileGrid={});var o=this.createXYZLayer(e,t);return o=this._addLayerAlias(o,t)},e.prototype._getOSMLayer=function(t){var e=t.layerName||"";t.addLayer=!1,t.create=!0;var o=this.createOSMLayer(e,t);return o=this._addLayerAlias(o,t)},e.prototype._getBaiDuLayer=function(t){var e=t.layerName||"";t.addLayer=!1,t.create=!0;var o=this.createBaiDuLayer(e,t);return o=this._addLayerAlias(o,t)},e.prototype._getGaoDeLayer=function(t){var e=t.layerName||"";t.addLayer=!1,t.create=!0;var o=this.createGaoDeLayer(e,t);return o=this._addLayerAlias(o,t)},e.prototype._getGoogleLayer=function(t){var e=t.layerName||"";t.addLayer=!1,t.create=!0;var o=this.createGoogleLayer(e,t);return o=this._addLayerAlias(o,t)},e.prototype._getWMTSLayer=function(t){var e=t.layerName||"";t.addLayer=!1,t.create=!0;var o=this.createWMTSLayer(e,t);return o=this._addLayerAlias(o,t)},e.prototype._getImageWMSLayer=function(t){var e=t.layerName||"";t.addLayer=!1,t.create=!0;var o=this.createImageWMSLayer(e,t);return o=this._addLayerAlias(o,t)},e.prototype._getTileWMSLayer=function(t){var e=t.layerName||"";t.addLayer=!1,t.create=!0;var o=this.createTileWMSLayer(e,t);return o=this._addLayerAlias(o,t)},e.prototype._getMapboxVectorTileLayer=function(t){var e=t.layerName||"";t.addLayer=!1,t.create=!0;var o=this.createMapboxVectorTileLayer(e,t);return o=this._addLayerAlias(o,t)},e.prototype._getTileArcGISRestLayer=function(t){var e=t.layerName||"";t.addLayer=!1,t.create=!0;var o=this.createTitleLayer(e,t);return o=this._addLayerAlias(o,t)},e.prototype._getImageLayer=function(t){var e=t.layerName||"";t.addLayer=!1,t.create=!0;var o=this.createImageLayer(e,t);return o=this._addLayerAlias(o,t)},e.prototype._addLayerAlias=function(t,e){var o=!0===e.isDefault&&e.isDefault;return t.set("isDefault",o),t.set("isBaseLayer",!0),t.setVisible(o),t.set("alias",e.alias?e.alias:""),t.getSource().setAttributions(this._getAttribution(e.attribution)),t},e.prototype._getAttribution=function(t){var e=void 0;return!0===t?((t={}).url=Zi.INDEX_URL,t.messages="contributors.",t.title="HMap",e=new ti.Attribution({html:'&copy; <a href="'+t.url+'">'+t.title+"</a> "+t.messages})):"object"===(void 0===t?"undefined":l(t))&&(e=new ti.Attribution({html:'&copy; <a href="'+t.url+'">'+t.title+"</a> "+t.messages})),e},e}(ir),ar="loadMapSuccess",pr="click",hr="dbclick",lr="singleclick",cr="movestart",ur="moveend",gr="pointerdrag",yr="pointermove",fr="precompose",dr="postrender",vr="postcompose",Ar="propertychange",Cr="change",mr="change:layerGroup",Ir="change:size",br="change:target",wr="change:view",Mr="feature:onmouseover",Sr="feature:onmouseout",xr="feature:onmousedown",Pr="feature:onmouseup",Er="feature:onmove",Lr="feature:onselect",Tr="feature:ondisselect",jr="overlay:onmouseleft",Fr="overlay:onmouseright",Rr="overlay:click",Or="overlay:onmouseover",Nr="overlay:onmouseout",kr="selectable",Dr="moveable",_r="hmap-hidden",Gr="hmap-selectable",Br="hmap-unselectable",Ur={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft",METERS_PER_UNIT:{}};Ur.METERS_PER_UNIT[Ur.DEGREES]=2*Math.PI*6370997/360,Ur.METERS_PER_UNIT[Ur.FEET]=.3048,Ur.METERS_PER_UNIT[Ur.METERS]=1,Ur.METERS_PER_UNIT[Ur.USFEET]=1200/3937;var zr=.1,Zr=.75;ti.control.BZoomSlider=function(t){this.options=t||{},this.currentResolution_=void 0,this.direction_=ti.control.BZoomSlider.Direction_.VERTICAL,this.dragging_=!1,this.heightLimit_=0,this.widthLimit_=0,this.previousX_=null,this.previousY_=null,this.thumbSize_=null,this.sliderInitialized_=!1,this.duration_=void 0!==this.options.duration?this.options.duration:200,this.viewHint={ANIMATING:0,INTERACTING:1},this.pixelDelta_=void 0!==this.options.pixelDelta?this.options.pixelDelta:128;var e=void 0!==this.options.className?this.options.className:"hmap-zoom-slider";this.element=li("div",e+" "+Br);var o=li("div","hmap-zoom-slider-translate-content "+Gr,this.element),i=li("div","hmap-zoom-slider-content "+Gr,this.element),r=li("div","hmap-zoom-slider-button hmap-zoom-slider-translate-n "+Gr,o);r.setAttribute("title","\u5411\u4e0a\u5e73\u79fb"),mi(r,"click",ti.control.BZoomSlider.prototype.handletranslateClick_.bind(this,"translateN"));var n=li("div","hmap-zoom-slider-button hmap-zoom-slider-translate-s "+Gr,o);n.setAttribute("title","\u5411\u4e0b\u5e73\u79fb"),mi(n,"click",ti.control.BZoomSlider.prototype.handletranslateClick_.bind(this,"translateS"));var s=li("div","hmap-zoom-slider-button hmap-zoom-slider-translate-w "+Gr,o);s.setAttribute("title","\u5411\u5de6\u5e73\u79fb"),mi(s,"click",ti.control.BZoomSlider.prototype.handletranslateClick_.bind(this,"translateW"));var a=li("div","hmap-zoom-slider-button hmap-zoom-slider-translate-e "+Gr,o);a.setAttribute("title","\u5411\u53f3\u5e73\u79fb"),mi(a,"click",ti.control.BZoomSlider.prototype.handletranslateClick_.bind(this,"translateE"));var p=li("div","hmap-zoom-slider-zoom-in "+Gr,i);p.setAttribute("title","\u653e\u5927"),mi(p,"click",ti.control.BZoomSlider.prototype.handleZoomClick_.bind(this,1));var h=li("div","hmap-zoom-slider-zoom-out "+Gr,i);h.setAttribute("title","\u7f29\u5c0f"),mi(h,"click",ti.control.BZoomSlider.prototype.handleZoomClick_.bind(this,-1));var l=li("div","hmap-zoom-slider-zoom-slider "+Gr,i);this.sliderBackgroundTop=li("div","slider-background-top "+Gr,l),this.sliderBackgroundBottom=li("div","slider-background-bottom "+Gr,l),li("div","slider-background-mask "+Gr,l).setAttribute("title","\u7f29\u653e\u5230\u6b64\u7ea7\u522b"),this.sliderBar=li("div","slider-bar "+Gr,l),this.sliderBar.setAttribute("title","\u6ed1\u52a8\u7f29\u653e\u5730\u56fe"),this.silderContent=i,mi(this.silderContent,"pointerdown",this.handleDraggerStart_,this),mi(this.silderContent,"pointermove",this.handleDraggerDrag_,this),mi(this.silderContent,"pointerup",this.handleDraggerEnd_,this),mi(this.silderContent,"click",this.handleContainerClick_,this),mi(this.sliderBar,"click",function(t){t.stopPropagation()});var c=this.options.render?this.options.render:ti.control.BZoomSlider.render;ti.control.Control.call(this,{element:this.element,render:c,target:this.options.target})},ti.inherits(ti.control.BZoomSlider,ti.control.Control),ti.control.BZoomSlider.prototype.handleZoomClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},ti.control.BZoomSlider.prototype.handletranslateClick_=function(t,e){e.preventDefault();var o=this.getMap().getView(),i=o.getResolution()*this.pixelDelta_,r=0,n=0;switch(t){case"translateN":n=i;break;case"translateS":n=-i;break;case"translateW":r=i;break;case"translateE":r=-i}var s=[r,n];ti.coordinate.rotate(s,o.getRotation()),this.pan(o,s,this.duration_)},ti.control.BZoomSlider.prototype.pan=function(t,e,o){var i=t.getCenter();if(i){var r=t.constrainCenter([i[0]+e[0],i[1]+e[1]]);o?t.animate({duration:o,easing:ti.easing.linear,center:r}):t.setCenter(r)}},ti.control.BZoomSlider.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e&&e instanceof ti.View){var o=e.getResolution();if(o){var i=e.constrainResolution(o,t);0<this.duration_?(e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:i,duration:this.duration_,easing:ti.easing.easeOut})):e.setResolution(i)}}},ti.control.BZoomSlider.render=function(t){if(t.frameState){this.sliderInitialized_||this.initSlider_();var e=t.frameState.viewState.resolution;e!==this.currentResolution_&&(this.currentResolution_=e,this.setThumbPosition_(e))}},ti.control.BZoomSlider.Direction_={VERTICAL:0,HORIZONTAL:1},ti.control.BZoomSlider.prototype.setMap=function(t){if(!(t&&t instanceof ti.Map))throw Error("\u4f20\u5165\u7684\u4e0d\u662f\u5730\u56fe\u5bf9\u8c61\uff01");ti.control.Control.prototype.setMap.call(this,t),t&&t.render()},ti.control.BZoomSlider.prototype.disposeInternal=function(){mi(this.silderContent,"pointercancel",function(t){},this),ti.control.Control.prototype.disposeInternal.call(this)},ti.control.BZoomSlider.prototype.initSlider_=function(){var t=this.silderContent,e=t.offsetWidth,o=t.offsetHeight,i=ci(".slider-bar",t)[0],r=getComputedStyle(i),n=i.offsetWidth+parseFloat(r.marginRight)+parseFloat(r.marginLeft),s=i.offsetHeight+parseFloat(r.marginTop)+parseFloat(r.marginBottom);this.thumbSize_=[n,s],o<e?(this.direction_=ti.control.BZoomSlider.Direction_.HORIZONTAL,this.widthLimit_=e-n):(this.direction_=ti.control.BZoomSlider.Direction_.VERTICAL,this.heightLimit_=o-s),this.sliderInitialized_=!0},ti.control.BZoomSlider.prototype.handleContainerClick_=function(t){var e=this.getMap().getView(),o=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2),i=this.getResolutionForPosition_(o);e.animate({resolution:e.constrainResolution(i),duration:this.duration_,easing:ti.easing.easeOut})},ti.control.BZoomSlider.prototype.handleDraggerStart_=function(t){this.dragging_||t.target!==ci(".slider-bar",this.silderContent)||(this.previousX_=t.clientX,this.previousY_=t.clientY,this.dragging_=!0)},ti.control.BZoomSlider.prototype.handleDraggerDrag_=function(t){if(this.dragging_){var e=ci(".slider-bar",this.silderContent)[0],o=t.clientX-this.previousX_+parseInt(e.style.left,10),i=t.clientY-this.previousY_+parseInt(e.style.top,10),r=this.getRelativePosition_(o,i);this.currentResolution_=this.getResolutionForPosition_(r),this.getMap().getView().setResolution(this.currentResolution_),this.setThumbPosition_(this.currentResolution_),this.previousX_=t.clientX,this.previousY_=t.clientY}},ti.control.BZoomSlider.prototype.handleDraggerEnd_=function(t){if(this.dragging_){var e=this.getMap().getView();e.animate({resolution:e.constrainResolution(this.currentResolution_),duration:this.duration_,easing:ti.easing.easeOut}),this.dragging_=!1,this.previousX_=void 0,this.previousY_=void 0}},ti.control.BZoomSlider.prototype.setThumbPosition_=function(t){var e=this.getPositionForResolution_(t),o=ci(".slider-bar",this.silderContent)[0];this.direction_===ti.control.BZoomSlider.Direction_.HORIZONTAL?(o.style.left=this.widthLimit_*e+"px",this.sliderBackgroundBottom.style.width=this.widthLimit_-(this.widthLimit_*e-5)+"px"):(o.style.top=this.heightLimit_*e+"px",this.sliderBackgroundBottom.style.height=this.heightLimit_-(this.heightLimit_*e-5)+"px")},ti.control.BZoomSlider.prototype.getRelativePosition_=function(t,e){var o=void 0;return o=this.direction_===ti.control.BZoomSlider.Direction_.HORIZONTAL?t/this.widthLimit_:e/this.heightLimit_,Math.min(Math.max(o,0),1)},ti.control.BZoomSlider.prototype.getResolutionForPosition_=function(t){var e=this.getMap().getView();if(e&&e instanceof ti.View)return this.getResolutionForValueFunction(1-t)},ti.control.BZoomSlider.prototype.getValueForResolutionFunction=function(t,e){var o=e||2,i=this.getMap().getView(),r=i.getMaxResolution(),n=i.getMinResolution(),s=Math.log(r/n)/Math.log(o);return Math.log(r/t)/Math.log(o)/s},ti.control.BZoomSlider.prototype.getResolutionForValueFunction=function(t,e){var o=e||2,i=this.getMap().getView(),r=i.getMaxResolution(),n=i.getMinResolution(),s=Math.log(r/n)/Math.log(o);return r/Math.pow(o,t*s)},ti.control.BZoomSlider.prototype.getPositionForResolution_=function(t){var e=this.getMap().getView();if(e&&e instanceof ti.View)return 1-this.getValueForResolutionFunction(t)};ti.control.BZoomSlider;ti.control.Loading=function(t){if(this.options=t||{},this.mapListeners=[],this.tileListeners=[],this.loadStatus_=!1,this.isFirstRander=!0,this.loadProgress_=[0,1],this.options.widget){if(-1===["animatedGif","progressBar"].indexOf(this.options.widget))throw Error("\u4e0d\u652f\u6301\u7684\u6302\u4ef6\u7c7b\u578b");this.widget=this.options.widget?this.options.widget:"animatedGif"}if(this.options.progressMode){if(-1===["tile","layer"].indexOf(this.options.progressMode))throw Error("\u4e0d\u652f\u6301\u7684\u8fdb\u5ea6\u6761\u6a21\u5f0f");this.loadProgressByTile_="layer"!==this.options.progressMode||!("layer"===this.options.progressMode)}this.showPanel="boolean"!=typeof this.options.showPanel||this.options.showPanel;var e=void 0!==this.options.className?this.options.className:"hmap-loading-panel",o="animatedGif"===this.widget?"span":"progress",i=li(o,e+" "+Br);if("progressBar"===this.widget){var r=li("div","hmap-progress-bar");li("span","",r)}this.onCustomStart=!!this.options.onStart&&this.options.onStart,this.onCustomProgress=!!this.options.onProgress&&this.options.onProgress,this.onCustomEnd=!!this.options.onEnd&&this.options.onEnd,ti.control.Control.call(this,{element:i,target:this.options.target})},ti.inherits(ti.control.Loading,ti.control.Control),ti.control.Loading.prototype.setup=function(){var t=this;this.setDomPosition(),this.resize();var e=this.getMap().on("pointerdown",function(){t.hide()}),o=this.getMap().on("precompose",function(){if(t.isFirstRander&&(t.isFirstRander=!1,t.registerLayersLoadEvents_(),t.show(),t.onCustomStart)){t.onCustomStart.apply(t,[])}}),i=this.getMap().on("postrender",function(){if(t.updateLoadStatus_(),t.loadStatus_){if(t.onCustomEnd){t.onCustomEnd.apply(t,[])}t.hide()}});this.mapListeners.push(e),this.mapListeners.push(o),this.mapListeners.push(i)},ti.control.Loading.prototype.setDomPosition=function(){var t=this.getMap().getSize();if(t){var e=[this.element.clientWidth,this.element.clientHeight];this.element.style.left=String(Math.round((t[0]-e[0])/2))+"px",this.element.style.bottom=String(Math.round((t[1]-e[1])/2))+"px"}},ti.control.Loading.prototype.resize=function(){var t="orientationchange"in window?"orientationchange":"resize",e=window.document,o=this;window.addEventListener(t,function(){setTimeout(function(){o.setDomPosition()},50)},!1),window.addEventListener("pageshow",function(t){t.persisted&&setTimeout(function(){o.setDomPosition()},50)},!1),"complete"===e.readyState?setTimeout(function(){o.setDomPosition()},50):e.addEventListener("DOMContentLoaded",function(t){setTimeout(function(){o.setDomPosition()},50)},!1)},ti.control.Loading.prototype.updateSourceLoadStatus_=function(t){return 100===Math.round(t.loaded/t.loading*100)},ti.control.Loading.prototype.registerLayerLoadEvents_=function(t){var o=this;t.getSource().on("tileloadstart",function(t){if(o.loadStatus_&&(o.loadStatus_=!1,o.loadProgress_=[0,1],"progressBar"===o.widget&&(o.element.value=o.loadProgress_[0],o.element.max=o.loadProgress_[1]),o.show(),o.onCustomStart)){o.onCustomStart.apply(o,[])}if(this.loading=this.loading?this.loading+1:1,this.isLoaded=o.updateSourceLoadStatus_(this),o.loadProgressByTile_&&(this.loadProgress_[1]+=1,"progressBar"===this.widget)){o.element.max=o.loadProgress_[1];var e=o.element.getElementsByClassName("hmap-progress-bar");0<e.length&&(e[0].children()[0].width=String(parseInt(100*o.progress(),0))+"%")}}),t.getSource().on(["tileloadend","tileloaderror"],function(t){if(3===t.tile.getState()&&console.warn("Loading tile failed for resource '"+t.tile.src_+"'"),this.loaded=this.loaded?this.loaded+1:1,this.isLoaded=o.updateSourceLoadStatus_(this),o.loadProgressByTile_){if(o.loadProgress_[0]+=1,"progressBar"===o.widget){o.element.value=o.loadProgress_[0];var e=this.element.getElementsByClassName("hmap-progress-bar");0<e.length&&(e[0].children()[0].width=String(parseInt(100*o.progress(),0))+"%")}o.onCustomProgress&&o.onCustomProgress.apply(o,o.loadProgress_)}})},ti.control.Loading.prototype.registerLayersLoadEvents_=function(){for(var t=this.getMap().getLayers().getArray(),e=0;e<t.length;e++){var o=t[e];if(o instanceof ti.layer.Group)for(var i=o.getLayers().getArray(),r=0;r<i.length;r++){var n=i[r];n instanceof ti.layer.Vector||this.tileListeners.push(this.registerLayerLoadEvents_(n))}else o instanceof ti.layer.Layer&&(o instanceof ti.layer.Vector||this.tileListeners.push(this.registerLayerLoadEvents_(o)))}},ti.control.Loading.prototype.updateLoadStatus_=function(){for(var t=[],e=this.getMap().getLayers().getArray(),o=0;o<e.length;o++){var i=e[o];if(i)if(i instanceof ti.layer.Group)for(var r=i.getLayers().getArray(),n=0;n<r.length;n++){var s=r[n];s&&s.getSource()&&!(s instanceof ti.layer.Vector)&&s.getSource().hasOwnProperty("isLoaded")&&t.push(s.getSource().isLoaded)}else i.getSource()&&i.getSource().hasOwnProperty("isLoaded")&&t.push(i.getSource().isLoaded)}if(this.loadStatus_=-1===t.indexOf(!1)&&-1!==t.indexOf(!0),!this.loadProgressByTile_){var a={};t.forEach(function(t){a[t]=(a[t]||0)+1});var p=a[!0]?a[!0]:0;p>this.loadProgress_[0]&&(this.loadProgress_=[p,t.length],"progressBar"===this.widget&&(this.element.max=this.loadProgress_[1],this.element.value=this.loadProgress_[0]),this.onCustomProgress&&this.onCustomProgress.apply(this,this.loadProgress_))}},ti.control.Loading.prototype.show=function(){this.showPanel&&(this.element.style.display="block")},ti.control.Loading.prototype.hide=function(){this.showPanel&&(this.element.style.display="none")},ti.control.Loading.prototype.progressDetails=function(){return this.loadProgress_},ti.control.Loading.prototype.progress=function(){return this.loadProgress_[0]/this.loadProgress_[1]},ti.control.Loading.prototype.setMap=function(t){var e=this;this.mapListeners&&0<this.mapListeners.length&&this.mapListeners.forEach(function(t){e.getMap().unByKey(t)}),this.mapListeners.length=0,ti.control.Control.prototype.setMap.call(this,t),t&&this.setup()};ti.control.Loading;ti.control.RotateControl=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.className=void 0!==t.className?t.className:"hmap-rotate-control";var e=t.render?t.render:ti.control.RotateControl.render;this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=void 0!==t.duration?t.duration:250,this.autoHide_=void 0===t.autoHide||t.autoHide;var o=this.initDomInternal_(this.className);this.rotation_=void 0,ti.control.Control.call(this,{element:o,render:e,target:t.target})},ti.inherits(ti.control.RotateControl,ti.control.Control),ti.control.RotateControl.prototype.initDomInternal_=function(t){var e=li("div",t+" "+Br),o=li("button",t+"-inner right-button",e),i=li("button",t+"-inner center-button",e,t+"-inner-center");this.label_=i;var r=li("button",t+"-inner left-button",e);return mi(o,"click",ti.control.RotateControl.prototype.handleClick_.bind(this,"right")),mi(i,"click",ti.control.RotateControl.prototype.handleClick_.bind(this,"center")),mi(r,"click",ti.control.RotateControl.prototype.handleClick_.bind(this,"left")),e},ti.control.RotateControl.prototype.handleClick_=function(t,e){e.preventDefault(),this.resetNorth_(t)},ti.control.RotateControl.prototype.resetNorth_=function(t){var e=0;"center"===t?void(e=0)!==this.callResetNorth_?this.callResetNorth_():this.rotationView_(e,t):(e="left"===t?-90:90,this.rotationView_(e))},ti.control.RotateControl.prototype.rotationView_=function(t,e){var o=this.getMap().getView(),i="center"===e?0:o.getRotation()+t/180*Math.PI;if(!(o&&o instanceof ti.View))throw new Error("\u672a\u83b7\u53d6\u5230\u89c6\u56fe\uff01");void 0!==o.getRotation()&&(0<this.duration_?o.animate({rotation:i,duration:this.duration_,easing:ti.easing.easeOut}):o.setRotation(0))},ti.control.RotateControl.render=function(t){var e=t.frameState;if(e){var o=e.viewState.rotation;if(o!==this.rotation_){var i="rotate("+o+"rad)";if(this.autoHide_){var r=this.element.classList.contains(_r);r||0!==o?r&&0!==o&&this.element.classList.remove(_r):this.element.classList.add(_r)}this.label_.style.msTransform=i,this.label_.style.webkitTransform=i,this.label_.style.transform=i}this.rotation_=o}};ti.control.RotateControl;ti.control.ZoomMenu=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.options=t;var e=void 0!==this.options.className?this.options.className:"hmap-control-zoom",o=void 0!==this.options.delta?this.options.delta:1,i=this.initDomInternal_(e,o);this.duration_=void 0!==this.options.duration?this.options.duration:250,ti.control.Control.call(this,{element:i,target:this.options.target})},ti.inherits(ti.control.ZoomMenu,ti.control.Control),ti.control.ZoomMenu.prototype.initDomInternal_=function(t,e){var o=li("div",t+" "+Br),i=li("span","zoom-in",o);i.setAttribute("title","\u653e\u5927"),i.innerHTML="+";var r=li("span","zoom-out",o);return r.setAttribute("title","\u7f29\u5c0f"),r.innerHTML="\u2212",mi(i,"click",ti.control.ZoomMenu.prototype.handleClick_.bind(this,e)),mi(r,"click",ti.control.ZoomMenu.prototype.handleClick_.bind(this,-e)),o},ti.control.ZoomMenu.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},ti.control.ZoomMenu.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(!e)throw new Error("\u672a\u83b7\u53d6\u5230\u89c6\u56fe\uff01");var o=e.getResolution();if(o){var i=e.constrainResolution(o,t);0<this.duration_?(e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:i,duration:this.duration_,easing:ti.easing.easeOut})):e.setResolution(i)}};ti.control.ZoomMenu;var Vr=n(function(t){var n,e,o,i,r,s;n="undefined"!=typeof window&&void 0!==window.document?window.document:{},e=t.exports,o="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,i=function(){for(var t,e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],o=0,i=e.length,r={};o<i;o++)if((t=e[o])&&t[1]in n){for(o=0;o<t.length;o++)r[e[0][o]]=t[o];return r}return!1}(),r={change:i.fullscreenchange,error:i.fullscreenerror},s={request:function(t){var e=i.requestFullscreen;t=t||n.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?t[e]():t[e](o&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){n[i.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,e){var o=r[t];o&&n.addEventListener(o,e,!1)},off:function(t,e){var o=r[t];o&&n.removeEventListener(o,e,!1)},raw:i},i?(Object.defineProperties(s,{isFullscreen:{get:function(){return Boolean(n[i.fullscreenElement])}},element:{enumerable:!0,get:function(){return n[i.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(n[i.fullscreenEnabled])}}}),e?t.exports=s:window.screenfull=s):e?t.exports=!1:window.screenfull=!1});ti.control.FullScreenMenu=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=void 0!==t.className?t.className:"hmap-control-full-screen";this.label=void 0!==t.label?t.label:"\u2922",this.labelActive=void 0!==t.labelActive?t.labelActive:"\xd7",this.keys_=void 0!==t.keys&&t.keys,this.size_=void 0!==t.size?t.size:[16,16],this.source_=t.source,this.element_=this.initDomInternal_(e),ti.control.Control.call(this,{element:this.element_,target:t.target})},ti.inherits(ti.control.FullScreenMenu,ti.control.Control),ti.control.FullScreenMenu.prototype.handleClick_=function(t){var e=this;if(t.preventDefault(),this.getMap()){var o=null;o=this.source_?"string"==typeof this.source_?document.getElementById(this.source_):this.source_:this.getMap().getTargetElement(),Vr.enabled&&(Vr.toggle(o),Vr.on("change",function(){Vr.isFullscreen?e.element_.firstElementChild.innerHTML=e.labelActive:e.element_.firstElementChild.innerHTML=e.label}))}},ti.control.FullScreenMenu.prototype.initDomInternal_=function(t){var e=li("div",t+" "+Br),o=li("span",t+"-inner",e);return o.setAttribute("title","\u653e\u5927"),o.innerHTML=this.label,mi(e,"click",this.handleClick_,this),e};ti.control.FullScreenMenu;ti.control.LayerSwitcher=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(this.options=t,this.className_=void 0!==this.options.className?this.options.className:"hmap-layer-switcher",this.options.itemWidth="number"===this.options.itemWidth?this.options.itemWidth:86,this.baseLayers_=[],this.labelLayers_=[],this.baseLayerKey=this.options.baseLayerKey?this.options.baseLayerKey:"isBaseLayer",this.isDefaultKey=this.options.isDefaultKey?this.options.isDefaultKey:"isDefault",this.labelAliasKey=this.options.labelAlias?this.options.labelAlias:"layerName",this.labelLayerKey=this.options.labelLayerKey?this.options.labelLayerKey:"isLabelLayer",this.isActionSelected_=!1,this.forcedUpdate=this.options.forcedUpdate,this.options.itemHeight="number"==typeof this.options.itemHeight?this.options.itemHeight:60,this.options.key=this.options.key?this.options.key:"layerName",this.labelLayerKey===this.baseLayerKey)throw new Error("\u6807\u6ce8\u56fe\u5c42\u5173\u952e\u5b57\u4e0d\u80fd\u548c\u5e95\u56fe\u76f8\u540c\uff01");this.element_=li("div",this.className_+" "+Br),mi(this.element_,"mouseover",this.contentMouseOver_,this),mi(this.element_,"mouseout",this.contentMouseOut_,this),this.innerElement_=li("ul",this.className_+"-ul-inner",this.element_,this.className_+"-ul-inner"),this.options.layers&&Array.isArray(this.options.layers)&&0<this.options.layers.length?this.initDomInternal(this.options.layers,this.className_,this.options.key):this.element_.style.display="none",ti.control.Control.call(this,{element:this.element_,target:this.options.target})},ti.inherits(ti.control.LayerSwitcher,ti.control.Control),Wi(ti.control.LayerSwitcher,ir),ti.control.LayerSwitcher.prototype.initDomInternal=function(t,r,n){var s=this,a=this.options.itemWidth,p=this.options.itemHeight,h=t.length;this.innerElement_.style.width=a+10*(h-1)+"px",this.innerElement_.style.height=p+"px",t.forEach(function(t,e){if(t&&t[n]){var o=li("li",r+"-li-inner",s.innerElement_,r+"-li"+e+"-inner");if(o.style.background="url("+t.icon+") 0px 0px no-repeat",o.style.width=a+"px",o.style.height=p+"px",o.style.zIndex=e+1,o.style.right="0px",o.style.marginRight=10*(h-1-e)+"px",o.setAttribute("data-name",t[n]),mi(o,"click",s.handleClick_,s),t.name){var i=li("span","layer-name",o);i.setAttribute("data-name",t[n]),i.innerHTML=t.name}s.isActionSelected_||t[s.isDefaultKey]&&(yi(o,"selected-item"),s.isActionSelected_=!0),s.isActionSelected_||e!==h-1||(yi(o,"selected-item"),s.isActionSelected_=!0)}})},ti.control.LayerSwitcher.prototype.contentMouseOver_=function(t){var e=this.options.layers.length;if(0<e){for(var o=0;o<e-1;o++){var i=ui(this.className_+"-li"+o+"-inner");i&&(i.style.marginRight="0px",i.style.zIndex="",i.style.right=(e-1-o)*(10+this.options.itemWidth)+"px")}this.innerElement_.style.width=this.options.itemWidth*e+10*(e-1)+"px"}},ti.control.LayerSwitcher.prototype.contentMouseOut_=function(t){var e=this.options.layers.length;if(0<e){for(var o=0;o<e-1;o++){var i=ui(this.className_+"-li"+o+"-inner");i&&(i.style.zIndex=o+1,i.style.right="0px",i.style.marginRight=10*(e-1-o)+"px")}this.innerElement_.style.width=this.options.itemWidth+10*(e-1)+"px"}},ti.control.LayerSwitcher.prototype.handleClick_=function(t){var e=t.target.getAttribute("data-name");this.switcher(this.options.key,e)},ti.control.LayerSwitcher.prototype.updateBaseLayer_=function(){this.map&&(this.baseLayers_=this.getLayersArrayByKeyValue(this.baseLayerKey,!0),this.labelLayers_=this.getLayersArrayByKeyValue(this.labelLayerKey,!0),this.baseLayers_&&0<this.baseLayers_.length&&this.baseLayers_.filter(function(t){return!!t}),this.labelLayers_&&0<this.labelLayers_.length&&this.labelLayers_.filter(function(t){return!!t}))},ti.control.LayerSwitcher.prototype.switcher=function(e,o){var i=this;if(this.forcedUpdate&&this.updateBaseLayer_(),!(0<this.baseLayers_.length&&this.baseLayers_.length===this.options.layers.length))throw new Error("\u8bf7\u68c0\u67e5\u662f\u5426\u5b58\u5728\u5e95\u56fe\u83b7\u53d6\u5e95\u56fe\u6570\u91cf\u662f\u5426\u548c\u914d\u7f6e\u76f8\u540c\uff01");this.labelLayers_&&0<this.labelLayers_.length&&this.labelLayers_.forEach(function(t){t&&t.get(i.labelAliasKey)===o?t.setVisible(!0):t.setVisible(!1)}),this.baseLayers_.forEach(function(t){t&&t.get(e)===o?(t.setVisible(!0),t.set(i.isDefaultKey,!0)):(t.setVisible(!1),t.set(i.isDefaultKey,!1))});var t=this.options.layers.length;if(0<t)for(var r=0;r<t;r++){var n=ui(this.className_+"-li"+r+"-inner");n&&n.getAttribute("data-name")===o?yi(n,"selected-item"):fi(n,"selected-item")}},ti.control.LayerSwitcher.prototype.setMap=function(t){ti.control.Control.prototype.setMap.call(this,t),(this.map=t)&&t instanceof ti.Map&&this.updateBaseLayer_()};ti.control.LayerSwitcher;var Hr=function(){this.__data__=[],this.size=0};var Wr=function(t,e){return t===e||t!=t&&e!=e};var Xr=function(t,e){for(var o=t.length;o--;)if(Wr(t[o][0],e))return o;return-1},Yr=Array.prototype.splice;var Kr=function(t){var e=this.__data__,o=Xr(e,t);return!(o<0||(o==e.length-1?e.pop():Yr.call(e,o,1),--this.size,0))};var Jr=function(t){var e=this.__data__,o=Xr(e,t);return o<0?void 0:e[o][1]};var qr=function(t){return-1<Xr(this.__data__,t)};var Qr=function(t,e){var o=this.__data__,i=Xr(o,t);return i<0?(++this.size,o.push([t,e])):o[i][1]=e,this};function $r(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var i=t[e];this.set(i[0],i[1])}}$r.prototype.clear=Hr,$r.prototype.delete=Kr,$r.prototype.get=Jr,$r.prototype.has=qr,$r.prototype.set=Qr;var tn=$r;var en=function(){this.__data__=new tn,this.size=0};var on=function(t){var e=this.__data__,o=e.delete(t);return this.size=e.size,o};var rn=function(t){return this.__data__.get(t)};var nn=function(t){return this.__data__.has(t)},sn="object"==typeof i&&i&&i.Object===Object&&i,an="object"==typeof self&&self&&self.Object===Object&&self,pn=sn||an||Function("return this")(),hn=pn.Symbol,ln=Object.prototype,cn=ln.hasOwnProperty,un=ln.toString,gn=hn?hn.toStringTag:void 0;var yn=function(t){var e=cn.call(t,gn),o=t[gn];try{t[gn]=void 0;var i=!0}catch(t){}var r=un.call(t);return i&&(e?t[gn]=o:delete t[gn]),r},fn=Object.prototype.toString;var dn=function(t){return fn.call(t)},vn="[object Null]",An="[object Undefined]",Cn=hn?hn.toStringTag:void 0;var mn=function(t){return null==t?void 0===t?An:vn:Cn&&Cn in Object(t)?yn(t):dn(t)};var In=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},bn="[object AsyncFunction]",wn="[object Function]",Mn="[object GeneratorFunction]",Sn="[object Proxy]";var xn,Pn=function(t){if(!In(t))return!1;var e=mn(t);return e==wn||e==Mn||e==bn||e==Sn},En=pn["__core-js_shared__"],Ln=(xn=/[^.]+$/.exec(En&&En.keys&&En.keys.IE_PROTO||""))?"Symbol(src)_1."+xn:"";var Tn=function(t){return!!Ln&&Ln in t},jn=Function.prototype.toString;var Fn=function(t){if(null!=t){try{return jn.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Rn=/^\[object .+?Constructor\]$/,On=Function.prototype,Nn=Object.prototype,kn=On.toString,Dn=Nn.hasOwnProperty,_n=RegExp("^"+kn.call(Dn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Gn=function(t){return!(!In(t)||Tn(t))&&(Pn(t)?_n:Rn).test(Fn(t))};var Bn=function(t,e){return null==t?void 0:t[e]};var Un=function(t,e){var o=Bn(t,e);return Gn(o)?o:void 0},zn=Un(pn,"Map"),Zn=Un(Object,"create");var Vn=function(){this.__data__=Zn?Zn(null):{},this.size=0};var Hn=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Wn="__lodash_hash_undefined__",Xn=Object.prototype.hasOwnProperty;var Yn=function(t){var e=this.__data__;if(Zn){var o=e[t];return o===Wn?void 0:o}return Xn.call(e,t)?e[t]:void 0},Kn=Object.prototype.hasOwnProperty;var Jn=function(t){var e=this.__data__;return Zn?void 0!==e[t]:Kn.call(e,t)},qn="__lodash_hash_undefined__";var Qn=function(t,e){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=Zn&&void 0===e?qn:e,this};function $n(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var i=t[e];this.set(i[0],i[1])}}$n.prototype.clear=Vn,$n.prototype.delete=Hn,$n.prototype.get=Yn,$n.prototype.has=Jn,$n.prototype.set=Qn;var ts=$n;var es=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var os=function(t,e){var o=t.__data__;return es(e)?o["string"==typeof e?"string":"hash"]:o.map};var is=function(t){var e=os(this,t).delete(t);return this.size-=e?1:0,e};var rs=function(t){return os(this,t).get(t)};var ns=function(t){return os(this,t).has(t)};var ss=function(t,e){var o=os(this,t),i=o.size;return o.set(t,e),this.size+=o.size==i?0:1,this};function as(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var i=t[e];this.set(i[0],i[1])}}as.prototype.clear=function(){this.size=0,this.__data__={hash:new ts,map:new(zn||tn),string:new ts}},as.prototype.delete=is,as.prototype.get=rs,as.prototype.has=ns,as.prototype.set=ss;var ps=as,hs=200;var ls=function(t,e){var o=this.__data__;if(o instanceof tn){var i=o.__data__;if(!zn||i.length<hs-1)return i.push([t,e]),this.size=++o.size,this;o=this.__data__=new ps(i)}return o.set(t,e),this.size=o.size,this};function cs(t){var e=this.__data__=new tn(t);this.size=e.size}cs.prototype.clear=en,cs.prototype.delete=on,cs.prototype.get=rn,cs.prototype.has=nn,cs.prototype.set=ls;var us=cs;var gs=function(t,e){for(var o=-1,i=null==t?0:t.length;++o<i&&!1!==e(t[o],o,t););return t},ys=function(){try{var t=Un(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var fs=function(t,e,o){"__proto__"==e&&ys?ys(t,e,{configurable:!0,enumerable:!0,value:o,writable:!0}):t[e]=o},ds=Object.prototype.hasOwnProperty;var vs=function(t,e,o){var i=t[e];ds.call(t,e)&&Wr(i,o)&&(void 0!==o||e in t)||fs(t,e,o)};var As=function(t,e,o,i){var r=!o;o||(o={});for(var n=-1,s=e.length;++n<s;){var a=e[n],p=i?i(o[a],t[a],a,o,t):void 0;void 0===p&&(p=t[a]),r?fs(o,a,p):vs(o,a,p)}return o};var Cs=function(t,e){for(var o=-1,i=Array(t);++o<t;)i[o]=e(o);return i};var ms=function(t){return null!=t&&"object"==typeof t},Is="[object Arguments]";var bs=function(t){return ms(t)&&mn(t)==Is},ws=Object.prototype,Ms=ws.hasOwnProperty,Ss=ws.propertyIsEnumerable,xs=bs(function(){return arguments}())?bs:function(t){return ms(t)&&Ms.call(t,"callee")&&!Ss.call(t,"callee")},Ps=Array.isArray;var Es=function(){return!1},Ls=n(function(t,e){var o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,r=i&&i.exports===o?pn.Buffer:void 0,n=(r?r.isBuffer:void 0)||Es;t.exports=n}),Ts=9007199254740991,js=/^(?:0|[1-9]\d*)$/;var Fs=function(t,e){var o=typeof t;return!!(e=null==e?Ts:e)&&("number"==o||"symbol"!=o&&js.test(t))&&-1<t&&t%1==0&&t<e},Rs=9007199254740991;var Os=function(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=Rs},Ns={};Ns["[object Float32Array]"]=Ns["[object Float64Array]"]=Ns["[object Int8Array]"]=Ns["[object Int16Array]"]=Ns["[object Int32Array]"]=Ns["[object Uint8Array]"]=Ns["[object Uint8ClampedArray]"]=Ns["[object Uint16Array]"]=Ns["[object Uint32Array]"]=!0,Ns["[object Arguments]"]=Ns["[object Array]"]=Ns["[object ArrayBuffer]"]=Ns["[object Boolean]"]=Ns["[object DataView]"]=Ns["[object Date]"]=Ns["[object Error]"]=Ns["[object Function]"]=Ns["[object Map]"]=Ns["[object Number]"]=Ns["[object Object]"]=Ns["[object RegExp]"]=Ns["[object Set]"]=Ns["[object String]"]=Ns["[object WeakMap]"]=!1;var ks=function(t){return ms(t)&&Os(t.length)&&!!Ns[mn(t)]};var Ds=function(e){return function(t){return e(t)}},_s=n(function(t,e){var o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,r=i&&i.exports===o&&sn.process,n=function(){try{return r&&r.binding&&r.binding("util")}catch(t){}}();t.exports=n}),Gs=_s&&_s.isTypedArray,Bs=Gs?Ds(Gs):ks,Us=Object.prototype.hasOwnProperty;var zs=function(t,e){var o=Ps(t),i=!o&&xs(t),r=!o&&!i&&Ls(t),n=!o&&!i&&!r&&Bs(t),s=o||i||r||n,a=s?Cs(t.length,String):[],p=a.length;for(var h in t)!e&&!Us.call(t,h)||s&&("length"==h||r&&("offset"==h||"parent"==h)||n&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||Fs(h,p))||a.push(h);return a},Zs=Object.prototype;var Vs=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Zs)};var Hs=function(e,o){return function(t){return e(o(t))}},Ws=Hs(Object.keys,Object),Xs=Object.prototype.hasOwnProperty;var Ys=function(t){if(!Vs(t))return Ws(t);var e=[];for(var o in Object(t))Xs.call(t,o)&&"constructor"!=o&&e.push(o);return e};var Ks=function(t){return null!=t&&Os(t.length)&&!Pn(t)};var Js=function(t){return Ks(t)?zs(t):Ys(t)};var qs=function(t,e){return t&&As(e,Js(e),t)};var Qs=function(t){var e=[];if(null!=t)for(var o in Object(t))e.push(o);return e},$s=Object.prototype.hasOwnProperty;var ta=function(t){if(!In(t))return Qs(t);var e=Vs(t),o=[];for(var i in t)("constructor"!=i||!e&&$s.call(t,i))&&o.push(i);return o};var ea=function(t){return Ks(t)?zs(t,!0):ta(t)};var oa=function(t,e){return t&&As(e,ea(e),t)},ia=n(function(t,e){var o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,r=i&&i.exports===o?pn.Buffer:void 0,n=r?r.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var o=t.length,i=n?n(o):new t.constructor(o);return t.copy(i),i}});var ra=function(t,e){var o=-1,i=t.length;for(e||(e=Array(i));++o<i;)e[o]=t[o];return e};var na=function(t,e){for(var o=-1,i=null==t?0:t.length,r=0,n=[];++o<i;){var s=t[o];e(s,o,t)&&(n[r++]=s)}return n};var sa=function(){return[]},aa=Object.prototype.propertyIsEnumerable,pa=Object.getOwnPropertySymbols,ha=pa?function(e){return null==e?[]:(e=Object(e),na(pa(e),function(t){return aa.call(e,t)}))}:sa;var la=function(t,e){return As(t,ha(t),e)};var ca=function(t,e){for(var o=-1,i=e.length,r=t.length;++o<i;)t[r+o]=e[o];return t},ua=Hs(Object.getPrototypeOf,Object),ga=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)ca(e,ha(t)),t=ua(t);return e}:sa;var ya=function(t,e){return As(t,ga(t),e)};var fa=function(t,e,o){var i=e(t);return Ps(t)?i:ca(i,o(t))};var da=function(t){return fa(t,Js,ha)};var va=function(t){return fa(t,ea,ga)},Aa=Un(pn,"DataView"),Ca=Un(pn,"Promise"),ma=Un(pn,"Set"),Ia=Un(pn,"WeakMap"),ba="[object Map]",wa="[object Promise]",Ma="[object Set]",Sa="[object WeakMap]",xa="[object DataView]",Pa=Fn(Aa),Ea=Fn(zn),La=Fn(Ca),Ta=Fn(ma),ja=Fn(Ia),Fa=mn;(Aa&&Fa(new Aa(new ArrayBuffer(1)))!=xa||zn&&Fa(new zn)!=ba||Ca&&Fa(Ca.resolve())!=wa||ma&&Fa(new ma)!=Ma||Ia&&Fa(new Ia)!=Sa)&&(Fa=function(t){var e=mn(t),o="[object Object]"==e?t.constructor:void 0,i=o?Fn(o):"";if(i)switch(i){case Pa:return xa;case Ea:return ba;case La:return wa;case Ta:return Ma;case ja:return Sa}return e});var Ra=Fa,Oa=Object.prototype.hasOwnProperty;var Na=function(t){var e=t.length,o=new t.constructor(e);return e&&"string"==typeof t[0]&&Oa.call(t,"index")&&(o.index=t.index,o.input=t.input),o},ka=pn.Uint8Array;var Da=function(t){var e=new t.constructor(t.byteLength);return new ka(e).set(new ka(t)),e};var _a=function(t,e){var o=e?Da(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.byteLength)},Ga=/\w*$/;var Ba=function(t){var e=new t.constructor(t.source,Ga.exec(t));return e.lastIndex=t.lastIndex,e},Ua=hn?hn.prototype:void 0,za=Ua?Ua.valueOf:void 0;var Za=function(t){return za?Object(za.call(t)):{}};var Va=function(t,e){var o=e?Da(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.length)},Ha="[object Boolean]",Wa="[object Date]",Xa="[object Map]",Ya="[object Number]",Ka="[object RegExp]",Ja="[object Set]",qa="[object String]",Qa="[object Symbol]",$a="[object ArrayBuffer]",tp="[object DataView]",ep="[object Float32Array]",op="[object Float64Array]",ip="[object Int8Array]",rp="[object Int16Array]",np="[object Int32Array]",sp="[object Uint8Array]",ap="[object Uint8ClampedArray]",pp="[object Uint16Array]",hp="[object Uint32Array]";var lp=function(t,e,o){var i=t.constructor;switch(e){case $a:return Da(t);case Ha:case Wa:return new i(+t);case tp:return _a(t,o);case ep:case op:case ip:case rp:case np:case sp:case ap:case pp:case hp:return Va(t,o);case Xa:return new i;case Ya:case qa:return new i(t);case Ka:return Ba(t);case Ja:return new i;case Qa:return Za(t)}},cp=Object.create,up=function(){function o(){}return function(t){if(!In(t))return{};if(cp)return cp(t);o.prototype=t;var e=new o;return o.prototype=void 0,e}}();var gp=function(t){return"function"!=typeof t.constructor||Vs(t)?{}:up(ua(t))},yp="[object Map]";var fp=function(t){return ms(t)&&Ra(t)==yp},dp=_s&&_s.isMap,vp=dp?Ds(dp):fp,Ap="[object Set]";var Cp=function(t){return ms(t)&&Ra(t)==Ap},mp=_s&&_s.isSet,Ip=mp?Ds(mp):Cp,bp=1,wp=2,Mp=4,Sp="[object Arguments]",xp="[object Function]",Pp="[object GeneratorFunction]",Ep="[object Object]",Lp={};Lp[Sp]=Lp["[object Array]"]=Lp["[object ArrayBuffer]"]=Lp["[object DataView]"]=Lp["[object Boolean]"]=Lp["[object Date]"]=Lp["[object Float32Array]"]=Lp["[object Float64Array]"]=Lp["[object Int8Array]"]=Lp["[object Int16Array]"]=Lp["[object Int32Array]"]=Lp["[object Map]"]=Lp["[object Number]"]=Lp[Ep]=Lp["[object RegExp]"]=Lp["[object Set]"]=Lp["[object String]"]=Lp["[object Symbol]"]=Lp["[object Uint8Array]"]=Lp["[object Uint8ClampedArray]"]=Lp["[object Uint16Array]"]=Lp["[object Uint32Array]"]=!0,Lp["[object Error]"]=Lp[xp]=Lp["[object WeakMap]"]=!1;var Tp=function o(i,r,n,t,e,s){var a,p=r&bp,h=r&wp,l=r&Mp;if(n&&(a=e?n(i,t,e,s):n(i)),void 0!==a)return a;if(!In(i))return i;var c=Ps(i);if(c){if(a=Na(i),!p)return ra(i,a)}else{var u=Ra(i),g=u==xp||u==Pp;if(Ls(i))return ia(i,p);if(u==Ep||u==Sp||g&&!e){if(a=h||g?{}:gp(i),!p)return h?ya(i,oa(a,i)):la(i,qs(a,i))}else{if(!Lp[u])return e?i:{};a=lp(i,u,p)}}s||(s=new us);var y=s.get(i);if(y)return y;if(s.set(i,a),Ip(i))return i.forEach(function(t){a.add(o(t,r,n,t,i,s))}),a;if(vp(i))return i.forEach(function(t,e){a.set(e,o(t,r,n,e,i,s))}),a;var f=l?h?va:da:h?keysIn:Js,d=c?void 0:f(i);return gs(d||i,function(t,e){d&&(t=i[e=t]),vs(a,e,o(t,r,n,e,i,s))}),a},jp=1,Fp=4;var Rp=function(t){return Tp(t,jp|Fp)};ti.control.ContextMenu=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.options=t,this.mapContent=null,this.pixel=[],this.itemWidth="number"==typeof this.options.itemWidth?this.options.itemWidth:160,this.itemHeight="number"==typeof this.options.itemHeight?this.options.itemHeight:30,this.className_=void 0!==this.options.className?this.options.className:"hmap-context-menu-content",this.element_=li("div",this.className_+" "+Br),this.element_.style.display="none",ti.control.Control.call(this,{element:this.element_,target:this.options.target}),ii.call(this)},ti.inherits(ti.control.ContextMenu,ti.control.Control),Wi(ti.control.ContextMenu,ii),ti.control.ContextMenu.prototype.initDomInternal=function(t){this.htmlUtils(t,"",this.element_),this.getMap()&&(this.mapContent=this.getMap().getViewport(),mi(this.mapContent,"contextmenu",this.mouseDownHandle_,this))},ti.control.ContextMenu.prototype.mouseDownHandle_=function(t){var e=this;t.stopPropagation(),t.preventDefault(),2===t.button&&(e.pixel=this.getMap().getEventPixel(t),this.dispatch("before-show",t),window.setTimeout(function(){e.show(e.pixel),e.dispatch("show",t)},50)),mi(t.target,"mousedown",function(){e.hide(),e.dispatch("hide",t)},this,!0)},ti.control.ContextMenu.prototype.show=function(t){this.element_.style.display="block",this.element_.style.top=t[1]+"px",this.element_.style.left=t[0]+"px";var e=this.getMap().getSize(),o=e[0]-this.element_.offsetWidth,i=e[1]-this.element_.offsetHeight;this.element_.offsetTop>i&&(this.element_.style.top=i+"px"),this.element_.offsetLeft>o&&(this.element_.style.left=o+"px")},ti.control.ContextMenu.prototype.hide=function(){this.element_.style.display="none",this.pixel=[]},ti.control.ContextMenu.prototype.htmlUtils=function(t,s,e,o){var a=this,p=null;return t&&Array.isArray(t)&&0<t.length&&(p=li("ul",this.className_+"-ul"+s+"-inner",e,this.className_+"-ul"+s+"-inner"),o&&(p.style.position="absolute",p.style.top="0px",p.style.left=this.itemWidth+20+"px"),t.forEach(function(t,e){if(t&&t.name&&t.alias){var o=s+"-"+e,i=li("li",a.className_+"-li-"+o+"-inner",p,a.className_+"-li-"+o+"-inner");if(i.style.width=a.itemWidth+"px",i.style.height=a.itemHeight+"px",i.style.lineHeight=a.itemHeight+"px",i.setAttribute("data-name",t.alias),mi(i,"click",a.handleItemClick_.bind(a,t)),t.icon){var r=li("span","li-icon-content",i);if("iconfont"===t.iconType){var n=t.fontName?t.fontName:"iconfont";yi(r,n+" "+t.icon),t.iconColor&&(r.style.color=t.iconColor)}else r.style.background="url("+t.icon+") 0px 0px no-repeat"}li("span","li-name-content",i).innerHTML=t.name,t.showLine&&(i.style.borderBottom="1px solid #CCCCCC"),t.items&&(a.htmlUtils(t.items,o,i,!0),mi(i,"mouseenter",a.handleItemMouseOver_,a),mi(i,"mouseleave",a.handleItemMouseOut_,a))}})),p},ti.control.ContextMenu.prototype.updateElement_=function(t,e,o){var i=ui(this.className_+"-ul-inner"),r=Rp(this.options.items),n=null;switch(t){case"pop":this.element_.removeChild(i),n=r.pop(),this.htmlUtils(r,"",this.element_);break;case"push":this.element_.removeChild(i),n=r=r.push(e),this.htmlUtils(r,"",this.element_);break;case"shift":this.element_.removeChild(i),n=r.shift(),this.htmlUtils(r,"",this.element_);break;case"unshift":this.element_.removeChild(i),n=r=r.unshift(e),this.htmlUtils(r,"",this.element_);break;case"reverse":this.element_.removeChild(i),n=r.reverse(),this.htmlUtils(r,"",this.element_);break;default:this.element_.removeChild(i),n=o,this.htmlUtils(o,"",this.element_)}return n},ti.control.ContextMenu.prototype.getCurrentPixel=function(){return this.pixel},ti.control.ContextMenu.prototype.getCurrentCoordinates=function(){return this.getMap().getCoordinateFromPixel(this.getCurrentPixel())},ti.control.ContextMenu.prototype.handleItemClick_=function(t,e){var o=this;vi(e),t&&t.callback&&"function"==typeof t.callback&&t.callback(e,{source:t,pixel:this.getCurrentPixel(),coordinates:this.getCurrentCoordinates()}),this.dispatch("item-click",e,{source:t,pixel:this.getCurrentPixel(),coordinates:this.getCurrentCoordinates()}),window.setTimeout(function(){o.hide()},50)},ti.control.ContextMenu.prototype.handleItemMouseOver_=function(t){if(vi(t),t.target&&t.target.childNodes){var e=Array.prototype.slice.call(t.target.childNodes,0);e&&0<e.length&&e.every(function(t){return!t||"ul"!==t.nodeName.toLowerCase()||(t.style.display="block",!1)})}},ti.control.ContextMenu.prototype.handleItemMouseOut_=function(t){if(vi(t),t.target&&t.target.childNodes){var e=Array.prototype.slice.call(t.target.childNodes,0);e&&0<e.length&&e.every(function(t){return!t||"ul"!==t.nodeName.toLowerCase()||(t.style.display="none",!1)})}},ti.control.ContextMenu.prototype.setMap=function(t){ti.control.Control.prototype.setMap.call(this,t),t&&t instanceof ti.Map&&this.initDomInternal(this.options.items)},ti.control.ContextMenu.prototype.pop=function(){return this.updateElement_("pop")},ti.control.ContextMenu.prototype.push=function(t){if(t&&"object"===(void 0===t?"undefined":l(t)))return this.updateElement_("push",t);throw new Error("\u4f20\u5165\u7684\u4e0d\u662f\u5bf9\u8c61")},ti.control.ContextMenu.prototype.shift=function(){return this.updateElement_("shift")},ti.control.ContextMenu.prototype.reverse=function(){return this.updateElement_("reverse")},ti.control.ContextMenu.prototype.unshift=function(t){if(t&&"object"===(void 0===t?"undefined":l(t)))return this.updateElement_("unshift",t);throw new Error("\u4f20\u5165\u7684\u4e0d\u662f\u5bf9\u8c61")},ti.control.ContextMenu.prototype.update=function(t){if(!(t&&Array.isArray(t)&&0<t.length))throw new Error("\u4f20\u5165\u7684\u6570\u7ec4\u6709\u8bef\uff01");this.updateElement_("","",t)},ti.control.ContextMenu.prototype.updateOption=function(t){if(!(t&&Array.isArray(t)&&0<t.length))throw new Error("\u4f20\u5165\u7684\u6570\u7ec4\u6709\u8bef\uff01");this.options.items=t,this.updateElement_("","",t)};ti.control.ContextMenu;ti.control.CompareLayer=function(t,e,o){if(this.options=o||{},!t||!e)throw new Error("\u56fe\u5c42\u5fc5\u987b\u4f20\u5165\uff01");this.beforeMap=t,this.afterMap=e,this.orderLayerZindex(),this.className=void 0!==this.options.className?this.options.className:"hmap-compare",this.initPosition=void 0!==this.options.initPosition?this.options.initPosition:.5,this.dragging_=!1,this.previousX_=null,this.previousY_=null,this.element_=li("div",this.className+" "+Br);var i=li("div",this.className+"-inner",this.element_);mi(i,"pointerdown",this.handleDraggerStart_,this),mi(i,"pointermove",this.handleDraggerDrag_,this),mi(i,"pointerup",this.handleDraggerEnd_,this),mi(window,"pointerup",this.handleDraggerEnd_,this),ti.control.Control.call(this,{element:this.element_,target:this.options.target})},ti.inherits(ti.control.CompareLayer,ti.control.Control),ti.control.CompareLayer.prototype.initControl=function(){this._bounds=this.getMap().getTargetElement().getBoundingClientRect(),this.percent=.5,this._setPosition(this._bounds.width,this._bounds.width/2),this.resize(),this.clipLayer()},ti.control.CompareLayer.prototype.handleDraggerStart_=function(t){this.dragging_||t.target!==ci("."+this.className+"-inner",this.element_)[0]||(this.previousX_=t.clientX,this.previousY_=t.clientY,this.dragging_=!0)},ti.control.CompareLayer.prototype.handleDraggerDrag_=function(t){this.dragging_&&(this._bounds=this.getMap().getTargetElement().getBoundingClientRect(),this._setPosition(this._bounds.width,this._getX(t)),this.previousX_=t.clientX,this.previousY_=t.clientY)},ti.control.CompareLayer.prototype.handleDraggerEnd_=function(t){this.dragging_&&(this.dragging_=!1,this.previousX_=void 0,this.previousY_=void 0)},ti.control.CompareLayer.prototype.clipLayer=function(){var i=this;this.getMap().un("precompose",this.precompose),this.getMap().un("postcompose",this.postcompose),this.precompose=this.beforeMap.on("precompose",function(t){var e=t.context,o=e.canvas.width*i.initPosition;e.save(),e.beginPath(),e.rect(o,0,e.canvas.width-o,e.canvas.height),e.clip()}),this.postcompose=this.beforeMap.on("postcompose",function(t){t.context.restore()})},ti.control.CompareLayer.prototype._setPosition=function(t,e){var o="translate("+e+"px, 0)";this.element_.style.transform=o,this.element_.style.WebkitTransform=o,this._x=e,this.percent=e/t,this.initPosition=e/t,this.getMap().render()},ti.control.CompareLayer.prototype.resize=function(){var t="orientationchange"in window?"orientationchange":"resize",e=window.document,o=this;window.addEventListener(t,function(){setTimeout(function(){o._bounds=o.getMap().getTargetElement().getBoundingClientRect(),o._setPosition(o._bounds.width,o._bounds.width*o.percent)},50)},!1),window.addEventListener("pageshow",function(t){t.persisted&&setTimeout(function(){o._bounds=o.getMap().getTargetElement().getBoundingClientRect(),o._setPosition(o._bounds.width,o._bounds.width*o.percent)},50)},!1),"complete"===e.readyState?setTimeout(function(){o._bounds=o.getMap().getTargetElement().getBoundingClientRect(),o._setPosition(o._bounds.width,o._bounds.width*o.percent)},50):e.addEventListener("DOMContentLoaded",function(t){setTimeout(function(){o._bounds=o.getMap().getTargetElement().getBoundingClientRect(),o._setPosition(o._bounds.width,o._bounds.width*o.percent)},50)},!1)},ti.control.CompareLayer.prototype._getX=function(t){var e=(t=t.touches?t.touches[0]:t).clientX-this._bounds.left;return e<0&&(e=0),e>this._bounds.width&&(e=this._bounds.width),e},ti.control.CompareLayer.prototype.setMap=function(t){if(!(t&&t instanceof ti.Map))throw Error("\u4f20\u5165\u7684\u4e0d\u662f\u5730\u56fe\u5bf9\u8c61\uff01");ti.control.Control.prototype.setMap.call(this,t),t&&(t.render(),this.initControl())},ti.control.CompareLayer.prototype.setBeforeLayet=function(t){if(!t)throw Error("\u8bbe\u7f6e\u56fe\u5c42\u9519\u8bef\uff01");this.beforeMap=t,this.orderLayerZindex()},ti.control.CompareLayer.prototype.setAfterLayer=function(t){if(!t)throw Error("\u8bbe\u7f6e\u56fe\u5c42\u9519\u8bef\uff01");this.afterMap=t,this.orderLayerZindex()},ti.control.CompareLayer.prototype.orderLayerZindex=function(){if(this.afterMap&&this.beforeMap){var t=this.afterMap.getZIndex(),e=this.beforeMap.getZIndex(),o=Math.max(t,e),i=Math.min(t,e);o===i&&(o+=1),this.beforeMap.setZIndex(o),this.afterMap.setZIndex(i)}};ti.control.CompareLayer;ti.control.ScaleLineH=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=void 0!==t.className?t.className:"hmap-scale-line-control";this.element_=li("div",e+" "+Br),this.innerElement_=li("div",e+"-inner",this.element_),this.viewState_=null,this.minWidth_=void 0!==t.minWidth?t.minWidth:64,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="";var o=t.render?t.render:ti.control.ScaleLineH.render;ti.control.Control.call(this,{element:this.element_,render:o,target:t.target}),mi(this,"change:"+ti.control.ScaleLineH.Property_.UNITS,this.handleUnitsChanged_,this),this.setUnits(t.units||ti.control.ScaleLineH.ScaleLineUnits.METRIC)},ti.inherits(ti.control.ScaleLineH,ti.control.Control),ti.control.ScaleLineH.LEADING_DIGITS=[1,2,5],ti.control.ScaleLineH.ScaleLineUnits={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",CHINESEMETRIC:"metric_cn",US:"us"},ti.control.ScaleLineH.prototype.getUnits=function(){return this.get(ti.control.ScaleLineH.Property_.UNITS)},ti.control.ScaleLineH.render=function(t){var e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()},ti.control.ScaleLineH.prototype.handleUnitsChanged_=function(){this.updateElement_()},ti.control.ScaleLineH.prototype.setUnits=function(t){this.set(ti.control.ScaleLineH.Property_.UNITS,t)},ti.control.ScaleLineH.prototype.updateElement_=function(){var t=this.viewState_;if(t){var e=[t.center,t.projection],o=e[0],i=e[1],r=this.getUnits(),n=r===ti.control.ScaleLineH.ScaleLineUnits.DEGREES?Ur.DEGREES:Ur.METERS,s=ti.proj.getPointResolution(i,t.resolution,o,n),a=this.minWidth_*s,p="";if(r===ti.control.ScaleLineH.ScaleLineUnits.DEGREES){var h=ti.proj.METERS_PER_UNIT[Ur.DEGREES];i.getUnits()===Ur.DEGREES?a*=h:s/=h,a<h/60?(p="\u2033",s*=3600):a<h?(p="\u2032",s*=60):p="\xb0"}else r===ti.control.ScaleLineH.ScaleLineUnits.IMPERIAL?a<.9144?(p="in",s/=.0254):a<1609.344?(p="ft",s/=.3048):(p="mi",s/=1609.344):r===ti.control.ScaleLineH.ScaleLineUnits.NAUTICAL?(s/=1852,p="nm"):r===ti.control.ScaleLineH.ScaleLineUnits.METRIC?a<.001?(p="\u03bcm",s*=1e6):a<1?(p="mm",s*=1e3):a<1e3?p="m":(p="km",s/=1e3):r===ti.control.ScaleLineH.ScaleLineUnits.US?a<.9144?(p="in",s*=39.37):a<1609.344?(p="ft",s/=.30480061):(p="mi",s/=1609.3472):r===ti.control.ScaleLineH.ScaleLineUnits.CHINESEMETRIC?a<.001?(p="\u5fae\u7c73",s*=1e6):a<1?(p="\u6beb\u7c73",s*=1e3):a<1e3?p="\u7c73":(p="\u5343\u7c73",s/=1e3):ti.asserts.assert(!1,33);for(var l=3*Math.floor(Math.log(this.minWidth_*s)/Math.log(10)),c=[],u=c[0],g=c[1];;){if(u=ti.control.ScaleLineH.LEADING_DIGITS[(l%3+3)%3]*Math.pow(10,Math.floor(l/3)),g=Math.round(u/s),isNaN(g))return this.element_.style.display="none",void(this.renderedVisible_=!1);if(g>=this.minWidth_)break;++l}var y=u+" "+p;this.renderedHTML_!==y&&(this.innerElement_.innerHTML=y,this.renderedHTML_=y),this.renderedWidth_!==g&&(this.innerElement_.style.width=g+"px",this.renderedWidth_=g),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},ti.control.ScaleLineH.Property_={UNITS:"units"};ti.control.ScaleLineH;ti.control.MousePositionH=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.className_=void 0!==t.className?t.className:"hmap-mouse-position";var e=li("div",this.className_+" "+Br),o=t.render?t.render:ti.control.MousePositionH.render;ti.control.Control.call(this,{element:e,render:o,target:t.target}),mi(this,"change:"+ti.control.MousePositionH.Property_.PROJECTION,this.handleProjectionChanged_,this),t.coordinateFormat&&this.setCoordinateFormat(t.coordinateFormat),t.projection&&this.setProjection(t.projection),t.units&&this.setUnits(t.units),this.undefinedHTML_=void 0!==t.undefinedHTML?t.undefinedHTML:"",this.renderedHTML_=e.innerHTML,this.mapProjection_=null,this.transform_=null,this.lastMouseMovePixel_=null,this.followMouse_=!0===t.followMouse&&t.followMouse,this.popver_=null,this._bounds=null},ti.inherits(ti.control.MousePositionH,ti.control.Control),ti.control.MousePositionH.render=function(t){var e=t.frameState;e?this.mapProjection_!==e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null,this.getMap()&&this.lastMouseMovePixel_&&(this.followMouse_?this.followMousePopver_(this.lastMouseMovePixel_):this.updateHTML_(this.lastMouseMovePixel_))},ti.control.MousePositionH.prototype.handleProjectionChanged_=function(){this.transform_=null},ti.control.MousePositionH.prototype.getCoordinateFormat=function(){return this.get(ti.control.MousePositionH.Property_.COORDINATE_FORMAT)},ti.control.MousePositionH.prototype.getProjection=function(){return this.get(ti.control.MousePositionH.Property_.PROJECTION)},ti.control.MousePositionH.prototype.handleMouseMove=function(t){var e=this.getMap();e&&(this.lastMouseMovePixel_=e.getEventPixel(t),this.lastMouseMovePixel_&&(this.followMouse_?this.followMousePopver_(t):this.updateHTML_(this.lastMouseMovePixel_)))},ti.control.MousePositionH.prototype.followMousePopver_=function(){var t=this.getHTML_(this.lastMouseMovePixel_),e=this.getMap(),o=e.getCoordinateFromPixel(this.lastMouseMovePixel_);if(this.popver_){var i=this.popver_.getElement();i.innerHTML=t,i.offsetWidth>=this._bounds.width-this.lastMouseMovePixel_[0]?(this.popver_.setPositioning("center-right"),this.popver_.setOffset([-10,0])):(this.popver_.setPositioning("center-left"),this.popver_.setOffset([10,0])),this.popver_.setPosition(o),this.popver_.setElement(i)}else{var r=li("div",this.className_+"_overlay");r.innerHTML=t,this.popver_=new ti.Overlay({element:r,offset:[10,0],position:o,positioning:"center-left"}),e.addOverlay(this.popver_),e.render()}},ti.control.MousePositionH.prototype.handleMouseOut=function(t){this.updateHTML_(null),this.lastMouseMovePixel_=null},ti.control.MousePositionH.prototype.setMap=function(t){if(ti.control.Control.prototype.setMap.call(this,t),t){var e=t.getViewport();this._bounds=t.getTargetElement().getBoundingClientRect(),mi(e,"mousemove",this.handleMouseMove,this),mi(e,"mouseout",this.handleMouseOut,this)}},ti.control.MousePositionH.prototype.setCoordinateFormat=function(t){this.set(ti.control.MousePositionH.Property_.COORDINATE_FORMAT,t)},ti.control.MousePositionH.prototype.setProjection=function(t){this.set(ti.control.MousePositionH.Property_.PROJECTION,ti.proj.get(t))},ti.control.MousePositionH.prototype.setUnits=function(t){this.set(ti.control.MousePositionH.Property_.PROJECTION,t)},ti.control.MousePositionH.prototype.updateHTML_=function(t){var e=this.getHTML_(t);this.renderedHTML_&&e===this.renderedHTML_||(this.element.innerHTML=e,this.renderedHTML_=e)},ti.control.MousePositionH.prototype.getHTML_=function(t){var e=this.undefinedHTML_;if(t&&this.mapProjection_){if(!this.transform_){var o=this.getProjection();this.transform_=o?ti.proj.getTransformFromProjections(this.mapProjection_,o):ti.control.MousePositionH.identityTransform}var i=this.getMap().getCoordinateFromPixel(t);if(i){this.transform_(i,i);var r=this.getCoordinateFormat();e=r?r(i):ti.control.MousePositionH.Property_.UNITS[0]+"\uff1a"+i[0]+" "+ti.control.MousePositionH.Property_.UNITS[1]+"\uff1a"+i[1]}}return e},ti.control.MousePositionH.Property_={PROJECTION:"projection",COORDINATE_FORMAT:"coordinateFormat",UNITS:["\u7ecf\u5ea6","\u7eac\u5ea6"]},ti.control.MousePositionH.identityTransform=function(t,e,o){if(void 0!==e&&t!==e){for(var i=0,r=t.length;i<r;++i)e[i]=t[i];t=e}return t};ti.control.MousePositionH;ti.control.OverviewMapH=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.collapsed_=void 0===t.collapsed||t.collapsed,this.collapsible_=void 0===t.collapsible||t.collapsible,this.collapsible_||(this.collapsed_=!1);var e=void 0!==t.className?t.className:"hmap-overview-map",o=li("div",e+" "+Br);this.ovmapDiv_=li("div","hmap-overview-map-target",o),this.collapsible_&&(this.collapsElement_=li("div","hmap-overview-map-button",o),mi(this.collapsElement_,"click",this.handleClick_,this)),this.ovmap_=new ti.Map({controls:new ti.Collection,interactions:new ti.Collection,view:t.view});var i=t.render?t.render:ti.control.OverviewMapH.render;ti.control.Control.call(this,{element:o,render:i,target:t.target}),this.addBoxControl_()},ti.inherits(ti.control.OverviewMapH,ti.control.Control),ti.control.OverviewMapH.prototype.addOptionLayers_=function(t){var e=this.ovmap_;t.layers&&t.layers.forEach(function(t){e.addLayer(t)},this)},ti.control.OverviewMapH.computeDesiredMousePosition=function(t,e){return{clientX:t.clientX-e.offsetWidth/2,clientY:t.clientY+e.offsetHeight/2}},ti.control.OverviewMapH.prototype.move_=function(t){var e=this.boxOverlay_.getElement(),o=this.ovmap_.getEventCoordinate(ti.control.OverviewMapH.computeDesiredMousePosition(t,e));this.boxOverlay_.setPosition(o)},ti.control.OverviewMapH.prototype.endMoving_=function(t){var e=this.ovmap_.getEventCoordinate(t);this.getMap().getView().setCenter(e),Ii(window,"mousemove",this.move_,this),Ii(window,"mouseup",this.endMoving_,this)},ti.control.OverviewMapH.prototype.addEvent_=function(){mi(window,"mousemove",this.move_,this),mi(window,"mouseup",this.endMoving_,this)},ti.control.OverviewMapH.prototype.addBoxControl_=function(){var t=li("div","hmap-overview-map-box");mi(t,"mousedown",this.addEvent_,this),this.boxOverlay_=new ti.Overlay({position:[0,0],positioning:"bottom-left",element:t}),this.ovmap_.addOverlay(this.boxOverlay_)},ti.control.OverviewMapH.prototype.setMap=function(t){var e=this.getMap();if(t!==e){if(e){var o=e.getView();o&&this.unbindView_(o),this.ovmap_.setTarget(null)}if(ti.control.Control.prototype.setMap.call(this,t),t){this.ovmap_.setTarget(this.ovmapDiv_),mi(t,"propertychange",this.handleMapPropertyChange_,this),0===this.ovmap_.getLayers().getLength()&&this.ovmap_.setLayerGroup(t.getLayerGroup());var i=t.getView();i&&(this.bindView_(i),this.isDef(i)&&(this.ovmap_.updateSize(),this.resetExtent_()))}}},ti.control.OverviewMapH.prototype.isDef=function(t){return!!t.getCenter()&&void 0!==t.getResolution()},ti.control.OverviewMapH.prototype.handleMapPropertyChange_=function(t){if("view"===t.key){var e=t.oldValue;e&&this.unbindView_(e);var o=this.getMap().getView();this.bindView_(o)}},ti.control.OverviewMapH.prototype.bindView_=function(t){mi(t,"change:rotation",this.handleRotationChanged_,this)},ti.control.OverviewMapH.prototype.unbindView_=function(t){Ii(t,"change:rotation",this.handleRotationChanged_,this)},ti.control.OverviewMapH.prototype.handleRotationChanged_=function(){this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},ti.control.OverviewMapH.render=function(t){this.validateExtent_(),this.updateBox_()},ti.control.OverviewMapH.prototype.validateExtent_=function(){var t=this.getMap(),e=this.ovmap_,o=t.getSize(),i=t.getView().calculateExtent(o),r=e.getSize(),n=e.getView().calculateExtent(r),s=e.getPixelFromCoordinate(ti.extent.getTopLeft(i)),a=e.getPixelFromCoordinate(ti.extent.getBottomRight(i)),p=Math.abs(s[0]-a[0]),h=Math.abs(s[1]-a[1]),l=r[0],c=r[1];p<l*zr||h<c*zr||l*Zr<p||c*Zr<h?this.resetExtent_():ti.extent.containsExtent(n,i)||this.recenter_()},ti.control.OverviewMapH.prototype.resetExtent_=function(){if(0!==Zr&&0!==zr){var t=this.getMap(),e=this.ovmap_,o=t.getSize(),i=t.getView().calculateExtent(o),r=e.getView(),n=Math.log(Zr/zr)/Math.LN2,s=1/(Math.pow(2,n/2)*zr);this.scaleFromCenter(i,s),r.fit(i)}},ti.control.OverviewMapH.prototype.scaleFromCenter=function(t,e){var o=(t[2]-t[0])/2*(e-1),i=(t[3]-t[1])/2*(e-1);t[0]-=o,t[2]+=o,t[1]-=i,t[3]+=i},ti.control.OverviewMapH.prototype.recenter_=function(){var t=this.getMap(),e=this.ovmap_,o=t.getView();e.getView().setCenter(o.getCenter())},ti.control.OverviewMapH.prototype.updateBox_=function(){var t=this.getMap(),e=this.ovmap_,o=t.getSize(),i=t.getView(),r=e.getView(),n=i.getRotation(),s=this.boxOverlay_,a=this.boxOverlay_.getElement(),p=i.calculateExtent(o),h=r.getResolution(),l=ti.extent.getBottomLeft(p),c=ti.extent.getTopRight(p),u=this.calculateCoordinateRotate_(n,l);s.setPosition(u),a&&(a.style.width=Math.abs((l[0]-c[0])/h)+"px",a.style.height=Math.abs((c[1]-l[1])/h)+"px")},ti.control.OverviewMapH.prototype.calculateCoordinateRotate_=function(t,e){var o=void 0,i=this.getMap().getView().getCenter();return i&&(o=[e[0]-i[0],e[1]-i[1]],ti.coordinate.rotate(o,t),ti.coordinate.add(o,i)),o},ti.control.OverviewMapH.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},ti.control.OverviewMapH.prototype.handleToggle_=function(){this.collapsed_?(this.collapsed_=!1,event.target.style.backgroundPosition="-40px -405px",this.element.style.width="17px",this.element.style.height="17px"):(this.collapsed_=!0,event.target.style.backgroundPosition="-40px -386px",this.element.style.width="120px",this.element.style.height="120px");var t,e,o,i=this.ovmap_;this.collapsed_||i||(i.updateSize(),this.resetExtent_(),t=i,e="postrender",o=this.updateBox_,mi(t,e,o,this,!0))},ti.control.OverviewMapH.prototype.getCollapsible=function(){return this.collapsible_},ti.control.OverviewMapH.prototype.setCollapsible=function(t){this.collapsible_!==t&&!(this.collapsible_=t)&&this.collapsed_&&this.handleToggle_()},ti.control.OverviewMapH.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},ti.control.OverviewMapH.prototype.getCollapsed=function(){return this.collapsed_},ti.control.OverviewMapH.prototype.getOverviewMap=function(){return this.ovmap_};ti.control.OverviewMapH;var Op=function(){function t(){h(this,t)}return t.prototype._addControls=function(t){var e=t||{},o=[];if(e.hasOwnProperty("zoom")||this.addZoom({},o),e.hasOwnProperty("rotate")||this.addRotate({},o),e)for(var i in e)i&&e[i]&&this["add"+ri(i)](e[i],o);return o},t.prototype.addZoom=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];(e=e||this.map.getControls()).push(new ti.control.ZoomMenu({className:t.className,duration:t.duration,target:t.target,delta:t.delta}))},t.prototype.addRotate=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];(e=e||this.map.getControls()).push(new ti.control.RotateControl({className:t.className,duration:t.duration,label:t.resetNorth,autoHide:t.autoHide,target:t.target}))},t.prototype.addAttribution=function(t,e){(e=e||this.map.getControls()).push(new ti.control.Attribution({className:t.className?t.className:"ol-attribution",label:t.label?t.label:"i",tipLabel:t.tipLabel&&"string"==typeof t.tipLabel?t.tipLabel:"\u7248\u6743",collapsible:!1!==t.collapsible||t.collapsible,collapsed:!1!==t.collapsed||t.collapsed,collapseLabel:t.collapseLabel?t.collapseLabel:"\xbb",target:t.target?t.target:void 0}))},t.prototype.addScaleLine=function(t,e){(e=e||this.map.getControls()).push(new ti.control.ScaleLineH({units:t.units?t.units:"metric_cn"}))},t.prototype.addFullScreen=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];(e=e||this.map.getControls()).push(new ti.control.FullScreenMenu(t))},t.prototype.addMousePosition=function(t,e){e=e||this.map.getControls(),t.projection||(t.projection=this.view.getProjection()),e.push(new ti.control.MousePositionH(t))},t.prototype.addZoomSlider=function(t,e){e=e||this.map.getControls();var o=new ti.control.BZoomSlider(t);e.push(o)},t.prototype.addGeolocation=function(t,e){(e=e||this.map.getControls()).push(new ti.control.Geolocation(t))},t.prototype.addLoading=function(t,e){e=e||this.map.getControls();var o=new ti.control.Loading({className:t.className?t.className:"hmap-loading-panel",widget:t.widget?t.widget:"animatedGif",target:t.target?t.target:void 0});e.push(o)},t.prototype.addCompareLayer=function(t,e){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=arguments[3];i=i||this.map.getControls();var r=new ti.control.CompareLayer(t,e,o);i.push(r)},t.prototype.addContextMenu=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];e=e||this.map.getControls();var o=new ti.control.ContextMenu(t);e.push(o)},t.prototype.addLayerSwitcher=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];e=e||this.map.getControls();var o=new ti.control.LayerSwitcher(t);e.push(o)},t.prototype.addOverviewMap=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];e=e||this.map.getControls();var o=new ti.control.OverviewMapH(t);e.push(o)},t}();ti.interaction.FreeHandCircle=function(t){this.options=t||{},this.wgs84Sphere=new ti.Sphere("number"==typeof this.options.sphere?this.options.sphere:6378137),this.layerName=this.options.layerName||"FREE_HAND_CIRCLE",this.centerStyle=this.options.centerStyle||null,this.layer=null,this.radius="",this.center_=[],this.isMouseDown=!1,this.isDraging=!1,this.cursor_="pointer",this.drawStart_=!1,this.previousCursor_=void 0,this.coordinate_=null,this.feature_=null,this.textOverlay=null,this.circleFeature=null,this.centerFeature=null,this.labelFeature=null,this.style_={fill:{fillColor:"rgba(67, 110, 238, 0)"},stroke:{strokeColor:"rgba(249, 185, 154, 1)",strokeWidth:2.5},image:{type:"",image:{fill:{fillColor:"rgba(255, 255, 255, 0.8)"},points:1/0,radius:4,stroke:{strokeColor:"rgba(255, 0, 0, 1)",strokeWidth:1.5}}}},this.options.style&&"object"===l(this.options.style)&&(this.style_=this.options.style),ti.interaction.Pointer.call(this,{handleMoveEvent:ti.interaction.FreeHandCircle.handleMoveEvent_,handleDownEvent:ti.interaction.FreeHandCircle.handleDownEvent_,handleUpEvent:ti.interaction.FreeHandCircle.handleUpEvent_,handleDragEvent:ti.interaction.FreeHandCircle.handleDragEvent_}),ii.call(this)},ti.inherits(ti.interaction.FreeHandCircle,ti.interaction.Pointer),Wi(ti.interaction.FreeHandCircle,ii),ti.interaction.FreeHandCircle.handleMoveEvent_=function(t){var e=this;if(this.cursor_){var o=t.map,i=o.forEachFeatureAtPixel(t.pixel,function(t){return t},{layerFilter:function(t){return t.get("layerName")===e.layerName}}),r=o.getTargetElement();i&&i.get("free-hand-circle-lable")?r.style.cursor!==this.cursor_&&(this.previousCursor_=r.style.cursor,r.style.cursor=this.cursor_):void 0!==this.previousCursor_&&(r.style.cursor=this.previousCursor_,this.previousCursor_=void 0)}},ti.interaction.FreeHandCircle.handleDownEvent_=function(t){var e=this;if(this.isMouseDown=!0,!this.drawStart_&&0===t.originalEvent.button){var o=t.map.forEachFeatureAtPixel(t.pixel,function(t){return t},{layerFilter:function(t){return t.get("layerName")===e.layerName}});return o&&o.get("free-hand-circle-lable")&&(this.coordinate_=t.coordinate,this.feature_=o),!!this.feature_}},ti.interaction.FreeHandCircle.handleUpEvent_=function(t){return this.feature_&&this.coordinate_&&this.isDraging&&this.dispatch("changeend",this.circleFeature.getGeometry()),this.coordinate_=null,this.feature_=null,this.isMouseDown=!1,this.isDraging=!1},ti.interaction.FreeHandCircle.handleDragEvent_=function(t){if(this.coordinate_&&this.feature_){this.isDraging=!0;var e=t.coordinate[0]-this.coordinate_[0],o=this.feature_.getGeometry();o.translate(e,0),this.coordinate_[0]=t.coordinate[0],this.coordinate_[1]=t.coordinate[1],this.createCircle(this.center_,this.mathRadius(this.center_,o.getCoordinates()))}},ti.interaction.FreeHandCircle.prototype.initDrawInteraction=function(){if(this.getMap()){var t=new Xi(this.style_);this.draw=new ti.interaction.Draw({type:"Circle",style:t}),this.draw.set("uuid",hi()),this.getMap().addInteraction(this.draw),this.draw.on("drawstart",this.drawStartHandle_,this),this.draw.on("drawend",this.drawEndHandle_,this)}},ti.interaction.FreeHandCircle.prototype.removeLastInteraction_=function(){this.getMap()&&(this.draw.un("drawstart",this.drawStartHandle_,this),this.draw.un("drawend",this.drawEndHandle_,this),this.getMap().removeInteraction(this.draw))},ti.interaction.FreeHandCircle.prototype.drawStartHandle_=function(t){this.drawStart_=!0},ti.interaction.FreeHandCircle.prototype.drawEndHandle_=function(t){if(t&&t.feature){var e=t.feature.getGeometry();this.center_=e.getCenter();var o=e.getLastCoordinate();this.radius=this.mathRadius(this.center_,o),this.createCircle(this.center_,this.radius)}this.removeLastInteraction_(),this.drawStart_=!1},ti.interaction.FreeHandCircle.prototype.createCircle=function(t,e){var i=this;if(this.getMap()){var o=new Xi(this.style_);this.layer||(this.layer=Ti(this.getMap(),this.layerName,{create:!0}),this.layer.setStyle(o));var r=this.transformCenterAndRadius_(t,e);if(this.circleFeature)this.circleFeature.getGeometry().setCenterAndRadius(r.center,r.radius);else{this.circleFeature=new ti.Feature({geometry:new ti.geom.Circle(r.center,r.radius)});var n=this.draw&&this.draw.get("uuid")?this.draw.get("uuid"):hi();this.circleFeature.set("uuid",n),this.layer.getSource().addFeature(this.circleFeature),this.circleFeature.getGeometry().on("change",function(t){var e=t.target,o=e.getLastCoordinate();i.center_=e.getCenter(),i.radius=i.mathRadius(i.center_,o),i.addLabelFeature_(i.center_,"center"),i.addLabelFeature_(o,"endLabel"),i.drawTextLabel_(i.radius+" m",o),!i.drawStart_&&i.isMouseDown&&i.isDraging||i.dispatch("changeend",e)}),this.circleFeature.getGeometry().dispatchEvent("change")}}},ti.interaction.FreeHandCircle.prototype.transformCenterAndRadius_=function(t,e){var o=ti.proj.transform(t,this._getProjectionCode(),"EPSG:4326"),i=new ti.geom.Circle(o,this.transformRadius(o,e)).transform("EPSG:4326",this._getProjectionCode());return{center:i.getCenter(),radius:i.getRadius()}},ti.interaction.FreeHandCircle.prototype.addLabelFeature_=function(t,e){if("center"===e)if(this.centerFeature)this.centerFeature.setGeometry(new ti.geom.Point(t));else{if(this.centerFeature=new ti.Feature({uuid:this.circleFeature.get("uuid"),geometry:new ti.geom.Point(t)}),this.centerStyle){var o=new Xi(this.centerStyle);this.centerFeature.setStyle(o)}this.layer.getSource().addFeature(this.centerFeature)}else if(this.labelFeature)this.labelFeature.setGeometry(new ti.geom.Point(t));else{this.labelFeature=new ti.Feature({uuid:this.circleFeature.get("uuid"),geometry:new ti.geom.Point(t)});var i=new Xi({image:{type:"icon",image:{imageSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAATCAYAAAGCZu9cAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTAyQjQ0OTk5MUZGMTFFN0JCMzdENDYyNTY0RDI4MzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QTAyQjQ0OUE5MUZGMTFFN0JCMzdENDYyNTY0RDI4MzAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBMDJCNDQ5NzkxRkYxMUU3QkIzN0Q0NjI1NjREMjgzMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBMDJCNDQ5ODkxRkYxMUU3QkIzN0Q0NjI1NjREMjgzMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Poms414AAAUoSURBVHjaYmxqamJg+PTJn+H//0gGBoYVtT09G1iADMm86uoNDBAQDsSMTEDi+bPHj9/9//eP4dWzZx9AMgABxAjW/vHjCrA6fv4Ixo8fPvwHAgYYYObi4rpnZmoaCLSAYfKUKSIAAcQA0nJkz54nP3/8+I+OTx858hykG2SZiJ6JifS7N28YXEqvMCDTqlpaEiCjAQIIYjkDAwvQAd0gJ0OtfAl0SD5EgoFBubys7A4DJsjr7OoC+unjxyXfv38HGw2ikdmcv36dZ2Lg4Dj5/etXhlXlEgwgGoX948cMJgZ29obZEybs5+TmZuDg5ARjEHt2f/8+Bj6+mQABBHMkI8PPn8YO9vbrbZydZZADCB0wMjIynDx06NnuLVscgR65VVtbCw4ODoYvX+aU1tScNraykgG578ePHwwOhRfANAzD+CB5PVNTqdLm5psMHz70gQwGGSLG8O+fyvcvX+B+8ai8AbYVxgdhEACJw/jfgOqBwAoW5sxA2gdoalVmebnZD6BNhAA7BwfDjK6uMwwCApZA7/wBxctfIN4IFNg9feZMTSBbCYi5cej/BsQPgPgaUP0XmCBAAMECFhK437+LMvz6lQtkq2JoB4U2IyPIn1OBAfoGJgwKWBYomxOYEFaVtbR4srKxMTPgih1gzABBfWtp6XagS7xhwqCAZWP4/HlGZUeHDzD6mP/8/s3w588f7Bgk9/s3I1CtFzAM5yEbouYTHOz+6+dPuGJQUgRhXPxfv34xRKWmBiIbog7MHiK/gbaAMCx6NzcpM8DEQGxYFMPEpBUUBIBBwAszhPPHt29//gBNB+H1NbJgDTA+DIMASA7G//v7939gAH+FGfLm6L59T0DOhNkCyjiBLY/hfBAbJAbjg9SePnr0CVDvP5ghVy5dv77q65cvH/8Cix2Yv5cVi2Bl//37F4S/Hd6/vxAWJqAofsbAyrp26ZIlDDrq6mFmtrZS3Dw8nNhiGJiaf549fvzZuXPnmhl4eDYgGwJy0nmgQS+v3Lt3EIjFQKUbFjNA6l4D8VUGTk64V0AAIMCQUywk1YIM/vVLDJhlE4EZ09vAzExMUU2ND5hfmAUEBdkZiASfP3369e3r1z9PHz78curwYZDlG4CJdQYwMt4hqwOleJhvYA7gBAacBsPXrx2egYG6RhYWEv/+/WMgFwgKC3OBaA0dHRFnb28FRiYm02sXLhRsWLbsEtBBsUAHPUdWzwKNZBFgKHjKiImVx9bWav6FJmxswK38Gpje1alFkhwIqGpriwJznfPmVasOXzl/PgXomAPIDuEHYh1gVMT5hIUp/gQWa9hKaa+a23D2thZVcHZGByBxkDqYg0B8dPAXWJa4BwQoXgElNAYGW+QczAuuy/794+Hm5maD5Q1kjOyIjfUKDNjUwDBIHtnx6PKgkAaWWUx8AgJ8wHaAKHKIgMroXwwsLM8e3b//QUxKSgjdt2uqpMF0SNtTBv/GByhiyAAkj67nN5pZzMzMDO/fvv326ePHG8jFNMgh74H4HjA/7li9aBF/YESErpS8vAiwvYARRStKxeBsbFGDTx5U8QKLf4aP799/XDpr1hlg1Z8Hqj2QHQKqia6DQ4WP79v69etNgBWPRUBUlJKMggLYQaASCJSD8NXw2OoVJiBmZmEBtibYGd69fv1h+Zw5d4BlzWJgSMwHqviCnmtg1SIohT0G6roAxPs2bNsmAWxmqAPDVhHoCn4g5iM5DzMyfmZgYnoLjPZLQDN3ACu6u0DRD9DkgAIAomQEZFjvy7gAAAAASUVORK5CYII="}}});this.labelFeature.set("free-hand-circle-lable",!0),this.labelFeature.setStyle(i),this.layer.getSource().addFeature(this.labelFeature)}},ti.interaction.FreeHandCircle.prototype.drawTextLabel_=function(t,e){if(this.textOverlay){this.textOverlay.getElement().innerHTML=t,this.textOverlay.setPosition(e),this.getMap().render()}else{var o=document.createElement("span");o.className="free-hand-circle-label",o.innerHTML=t,this.textOverlay=new ti.Overlay({element:o,position:e,positioning:"center-left",offset:[20,0]}),this.getMap().addOverlay(this.textOverlay)}},ti.interaction.FreeHandCircle.prototype.getImageSrc_=function(t){var e=document.createElement("canvas"),o=e.getContext("2d");o.font="30px Arial",o.textAlign="center";var i=o.measureText(t).width;return e.width=i+8,e.height=24,o.fillText(t,2,10),o.fillStyle="white",o.fillRect(0,0,i,20),e.toDataURL("image/.png",1)},ti.interaction.FreeHandCircle.prototype.transformRadius=function(t,e){try{var o=this.wgs84Sphere.offset(t,e,1.5*Math.PI),i=t[0]-o[0],r=t[1]-o[1];return Math.sqrt(Math.pow(i,2)+Math.pow(r,2))}catch(t){console.log(t)}},ti.interaction.FreeHandCircle.prototype.mathRadius=function(t,e){var o="";if(t&&e){var i=ti.proj.transform(this.center_,this._getProjectionCode(),"EPSG:4326"),r=ti.proj.transform(e,this._getProjectionCode(),"EPSG:4326"),n=this.wgs84Sphere.haversineDistance(i,r);o=this.options.maxRadius&&n>this.options.maxRadius?this.options.maxRadius-1:this.options.minRadius&&n<this.options.minRadius?this.options.minRadius-1:n,o=Math.floor(o)+1}return o},ti.interaction.FreeHandCircle.prototype._getProjectionCode=function(){return this.getMap()?this.getMap().getView().getProjection().getCode():"EPSG:3857"},ti.interaction.FreeHandCircle.prototype.setRadius=function(t){if(!this.circleFeature||!this.circleFeature.getGeometry())throw new Error("\u672a\u521b\u5efaCircle\u5b9e\u4f8b\u3002");var e=this.circleFeature.getGeometry(),o=this.transformCenterAndRadius_(this.center_,t);e.setCenterAndRadius(o.center,o.radius),e.dispatchEvent("change")},ti.interaction.FreeHandCircle.prototype.setCenter=function(t){if(!this.circleFeature||!this.circleFeature.getGeometry())throw new Error("\u672a\u521b\u5efaCircle\u5b9e\u4f8b\u3002");var e=this.circleFeature.getGeometry(),o=this.transformCenterAndRadius_(t,this.radius);e.setCenterAndRadius(o.center,o.radius),e.dispatchEvent("change")},ti.interaction.FreeHandCircle.prototype.setCenterRadius=function(t,e){if(!this.circleFeature||!this.circleFeature.getGeometry())throw new Error("\u672a\u521b\u5efaCircle\u5b9e\u4f8b\u3002");var o=this.circleFeature.getGeometry(),i=this.transformCenterAndRadius_(t,e);o.setCenterAndRadius(i.center,i.radius),o.dispatchEvent("change")},ti.interaction.FreeHandCircle.prototype.setActive=function(t){ti.interaction.Pointer.prototype.setActive.call(this,t)},ti.interaction.FreeHandCircle.prototype.destroy=function(){this.draw&&this.removeLastInteraction_(),this.textOverlay&&this.textOverlay instanceof ti.Overlay&&(this.getMap().removeOverlay(this.textOverlay),this.textOverlay=null),this.layer&&(this.layer.getSource().clear(),this.circleFeature=null,this.centerFeature=null,this.labelFeature=null),this.coordinate_=null,this.feature_=null,this.drawStart_=!1,this.center_=[],this.radius="",this.isDraging=!1,this.isMouseDown=!1};ti.interaction.FreeHandCircle;ti.interaction.LayerSpyglass=function(t){if(this.options=t||{},!this.options.spyLayer)throw new Error("\u56fe\u5c42\u5fc5\u987b\u4f20\u5165\uff01");this.spyLayer=this.options.spyLayer,this._currentLayerIndex=null,this.radius="number"==typeof this.options.radius?this.options.radius:75,this.minRadius="number"==typeof this.options.minRadius?this.options.minRadius:150,this.maxRadius="number"==typeof this.options.maxRadius?this.options.maxRadius:25,this.lineWidth="number"==typeof this.options.lineWidth?this.options.lineWidth:5,this.strokeStyle=this.options.strokeStyle?this.options.strokeStyle:"rgba(0, 0, 0, 0.5)",this.zoomInKeyCode=void 0!==this.options.zoomInKeyCode?this.options.zoomInKeyCode:38,this.zoomOutKeyCode=void 0!==this.options.zoomOutKeyCode?this.options.zoomOutKeyCode:40,this.mousePosition=null,ti.interaction.Pointer.call(this,{handleEvent:ti.interaction.LayerSpyglass.handleEvent_,handleMoveEvent:ti.interaction.LayerSpyglass.handleMoveEvent_})},ti.inherits(ti.interaction.LayerSpyglass,ti.interaction.Pointer),ti.interaction.LayerSpyglass.handleMoveEvent_=function(t){this.mousePosition=t.pixel,this.getMap().render()},ti.interaction.LayerSpyglass.handleEvent_=function(t){return ti.interaction.Pointer.handleEvent.call(this,t)},ti.interaction.LayerSpyglass.prototype.initEvents_=function(){if(this.getMap()){mi(this.getMap().getTargetElement(),"mouseout",this.handleMouseOut_,this),mi(document,"keydown",this.handleKeyDown_,this);var t=this.getMap().getLayers().getArray(),e=[];this._currentLayerIndex=this.spyLayer.getZIndex(),t.every(function(t){e.push(t.getZIndex())});var o=Math.max.apply(Math,e);this.spyLayer.setZIndex(o+10),this.spyLayer.setVisible(!0),this.spyLayer.on("precompose",this.handlePrecompose_,this),this.spyLayer.on("postcompose",this.handlePostcompose_,this)}},ti.interaction.LayerSpyglass.prototype.handleMouseOut_=function(t){this.mousePosition=null,this.getMap().render()},ti.interaction.LayerSpyglass.prototype.handleKeyDown_=function(t){t.which===this.zoomInKeyCode?(this.radius=Math.min(this.radius+5,150),this.getMap().render(),t.preventDefault()):t.which===this.zoomOutKeyCode&&(this.radius=Math.max(this.radius-5,25),this.getMap().render(),t.preventDefault())},ti.interaction.LayerSpyglass.prototype.handlePrecompose_=function(t){var e=t.context,o=t.frameState.pixelRatio;e.save(),e.beginPath(),this.mousePosition&&(e.arc(this.mousePosition[0]*o,this.mousePosition[1]*o,this.radius*o,0,2*Math.PI),e.lineWidth=this.lineWidth*o,e.strokeStyle=this.strokeStyle,e.stroke()),e.clip()},ti.interaction.LayerSpyglass.prototype.handlePostcompose_=function(t){t.context.restore()},ti.interaction.LayerSpyglass.prototype.setMap=function(t){t&&t instanceof ti.Map?(ti.interaction.Interaction.prototype.setMap.call(this,t),this.initEvents_()):(Ii(this.getMap().getTargetElement(),"mouseout",this.handleMouseOut_,this),Ii(document,"keydown",this.handleKeyDown_,this),this.spyLayer.un("precompose",this.handlePrecompose_,this),this.spyLayer.un("postcompose",this.handlePostcompose_,this),this.spyLayer.setVisible(!1),this.spyLayer.setZIndex(this._currentLayerIndex),this._currentLayerIndex=null,ti.interaction.Interaction.prototype.setMap.call(this,t))};ti.interaction.LayerSpyglass;ti.interaction.LayerMagnify=function(t){if(this.options=t||{},!this.options.magnifyLayer)throw new Error("\u56fe\u5c42\u5fc5\u987b\u4f20\u5165\uff01");this.magnifyLayer=this.options.magnifyLayer,this._currentLayerIndex=null,this.radius="number"==typeof this.options.radius?this.options.radius:75,this.minRadius="number"==typeof this.options.minRadius?this.options.minRadius:150,this.maxRadius="number"==typeof this.options.maxRadius?this.options.maxRadius:25,this.lineWidth="number"==typeof this.options.lineWidth?this.options.lineWidth:2,this.strokeStyle=this.options.strokeStyle?this.options.strokeStyle:"rgba(0, 0, 0, 0.5)",this.zoomInKeyCode=void 0!==this.options.zoomInKeyCode?this.options.zoomInKeyCode:38,this.zoomOutKeyCode=void 0!==this.options.zoomOutKeyCode?this.options.zoomOutKeyCode:40,this.mousePosition=null,ti.interaction.Pointer.call(this,{handleEvent:ti.interaction.LayerMagnify.handleEvent_,handleMoveEvent:ti.interaction.LayerMagnify.handleMoveEvent_})},ti.inherits(ti.interaction.LayerMagnify,ti.interaction.Pointer),ti.interaction.LayerMagnify.handleMoveEvent_=function(t){this.mousePosition=t.pixel,this.getMap().render()},ti.interaction.LayerMagnify.handleEvent_=function(t){return ti.interaction.Pointer.handleEvent.call(this,t)},ti.interaction.LayerMagnify.prototype.initEvents_=function(){this.getMap()&&(mi(this.getMap().getTargetElement(),"mouseout",this.handleMouseOut_,this),mi(document,"keydown",this.handleKeyDown_,this),this.magnifyLayer.on("postcompose",this.handlePostcompose_,this))},ti.interaction.LayerMagnify.prototype.handleMouseOut_=function(t){this.mousePosition=null,this.getMap().render()},ti.interaction.LayerMagnify.prototype.handleKeyDown_=function(t){t.which===this.zoomInKeyCode?(this.radius=Math.min(this.radius+5,150),this.getMap().render(),t.preventDefault()):t.which===this.zoomOutKeyCode&&(this.radius=Math.max(this.radius-5,25),this.getMap().render(),t.preventDefault())},ti.interaction.LayerMagnify.prototype.handlePostcompose_=function(t){if(this.mousePosition){for(var e=[t.context,t.frameState.pixelRatio],o=e[0],i=e[1],r=this.radius*i,n=this.mousePosition[0]*i,s=this.mousePosition[1]*i,a=n-r,p=s-r,h=2*r+1,l=o.getImageData(a,p,h,h).data,c=o.createImageData(h,h),u=c.data,g=0;g<h;++g)for(var y=0;y<h;++y){var f=y-r,d=g-r,v=y,A=g;Math.sqrt(f*f+d*d)<r&&(v=Math.round(r+f/2),A=Math.round(r+d/2));var C=4*(g*h+y),m=4*(A*h+v);u[C]=l[m],u[C+1]=l[m+1],u[C+2]=l[m+2],u[C+3]=l[m+3]}o.beginPath(),o.arc(n,s,r,0,2*Math.PI,!1),o.lineWidth=this.lineWidth*i,o.strokeStyle=this.strokeStyle,o.putImageData(c,a,p),o.stroke(),o.restore()}},ti.interaction.LayerMagnify.prototype.setMap=function(t){t&&t instanceof ti.Map?(ti.interaction.Interaction.prototype.setMap.call(this,t),this.initEvents_()):(Ii(this.getMap().getTargetElement(),"mouseout",this.handleMouseOut_,this),Ii(document,"keydown",this.handleKeyDown_,this),this.magnifyLayer.un("postcompose",this.handlePostcompose_,this),ti.interaction.Interaction.prototype.setMap.call(this,t))};ti.interaction.LayerMagnify;ti.interaction.MeasureTool=function(t){this.options=t||{},this.wgs84Sphere=new ti.Sphere("number"==typeof this.options.sphere?this.options.sphere:6378137),this.measureTypes={measureLength:{name:"measureLength",type:"LineString"},measureArea:{name:"measureArea",type:"Polygon"},measureCircle:{name:"measureCircle",type:"Circle"}},this.measureType="",this.freehand=!1,this.isGeodesic=!1!==this.options.isGeodesic||this.options.isGeodesic,this.layerName=this.options.layerName||"measureTool",this.layer=null,this.draw=null,this.isActive_=!1,this.clickCount="",this.drawStyle={fill:{fillColor:"rgba(67, 110, 238, 0.4)"},stroke:{strokeColor:"rgba(249, 185, 154, 1)",strokeWidth:2.5},image:{type:"",image:{fill:{fillColor:"rgba(255, 255, 255, 0.8)"},points:1/0,radius:4,stroke:{strokeColor:"rgba(255, 0, 0, 1)",strokeWidth:1.5}}}},this.options.drawStyle&&"object"===l(this.options.drawStyle)&&(this.drawStyle=this.options.drawStyle),this.finshStyle={fill:{fillColor:"rgba(67, 110, 238, 0.4)"},stroke:{strokeColor:"rgba(253, 128, 68, 1)",strokeWidth:3},image:{type:"",image:{fill:{fillColor:"rgba(255, 255, 255, 0.8)"},points:1/0,radius:4,stroke:{strokeColor:"rgba(255, 0, 0, 1)",strokeWidth:1.5}}}},this.options.finshStyle&&"object"===l(this.options.finshStyle)&&(this.finshStyle=this.options.finshStyle),this.cursor_="default",this.previousCursor_=void 0,ti.interaction.Pointer.call(this,{handleMoveEvent:ti.interaction.MeasureTool.handleMoveEvent_,handleDownEvent:ti.interaction.MeasureTool.handleDownEvent_,handleDragEvent:ti.interaction.MeasureTool.handleDragEvent_}),this.doubleClickZoom=null},ti.inherits(ti.interaction.MeasureTool,ti.interaction.Pointer),ti.interaction.MeasureTool.handleMoveEvent_=function(t){this.getTool()&&(this.drawStart_&&!t.dragging&&this.measureType===this.measureTypes.measureCircle.name?this.afterDrawPointClickHandler(t):this.drawStart_||t.dragging?this.drawStart_&&!t.dragging?this.afterDrawPointClickHandler(t):this.freehand&&this.drawStart_&&t.dragging&&this.afterDragHandler_(t):this.beforeDrawPointClickHandler(t))},ti.interaction.MeasureTool.handleDownEvent_=function(t){this.freehand&&console.log(t)},ti.interaction.MeasureTool.handleDragEvent_=function(t){this.freehand&&console.log(t)},ti.interaction.MeasureTool.prototype.addDrawInteractions_=function(t){var e=new Xi(this.drawStyle);this.draw=new ti.interaction.Draw({type:t,style:e,freehand:this.freehand}),this.draw.set("uuid",hi()),this.getMap().addInteraction(this.draw),this.draw.on("drawstart",this.drawStartHandle_,this),this.draw.on("drawend",this.drawEndHandle_,this),"LineString"!==t||this.freehand||this.getMap().on("singleclick",this.drawClickHandle_,this)},ti.interaction.MeasureTool.prototype.drawClickHandle_=function(t){this.drawStart_&&!t.dragging&&(this.clickCount||(this.clickCount=hi(),this.draw.set("measureResult","\u8d77\u70b9")),this.addMeasurecircle(t.coordinate),this.addMeasureOverlay(t.coordinate,this.draw.get("measureResult")))},ti.interaction.MeasureTool.prototype.addMeasurecircle=function(t){var e=new ti.Feature({uuid:this.draw.get("uuid"),geometry:new ti.geom.Point(t)});this.layer.getSource().addFeature(e)},ti.interaction.MeasureTool.prototype.drawStartHandle_=function(t){var n=this,s=this;this.drawStart_=!0,t.feature.getGeometry().on("change",function(t){var e=t.target;if(e instanceof ti.geom.LineString){var o=s.formatData(e);s.draw.set("measureResult",o)}else if(e instanceof ti.geom.Polygon){var i=n.formatData(e);s.draw.set("measureResult",i)}else if(e instanceof ti.geom.Circle){var r=n.formatData(e);s.draw.set("measureResult",r)}})},ti.interaction.MeasureTool.prototype.drawEndHandle_=function(t){this.drawEnd_=!0;var e=t.feature;e.set("uuid",this.draw.get("uuid")),this.layer.getSource().addFeature(e);var o=e.getGeometry().getLastCoordinate();if(this.measureTypes.measureLength.name===this.measureType)this.addMeasurecircle(o),this.addMeasureOverlay(o,this.draw.get("measureResult"),"length");else if(this.measureTypes.measureArea.name===this.measureType){var i=ti.extent.getCenter(e.getGeometry().getExtent());this.addMeasureOverlay(i,this.draw.get("measureResult"),"area")}else if(this.measureTypes.measureCircle.name===this.measureType){var r=ti.extent.getCenter(e.getGeometry().getExtent());this.addMeasureOverlay(r,this.draw.get("measureResult"),"circle")}this.addMeasureRemoveButton(o),this.setTool(!1),this.dispatchEvent("measureEnd")},ti.interaction.MeasureTool.prototype.beforeDrawPointClickHandler=function(t){if(!this.measureHelpTooltip&&this.getTool()){var e=document.createElement("span");this.measureTypes.measureLength.name===this.measureType?(e.className="hamp-js-measure hamp-js-measure-length",this.freehand?e.innerHTML="\u6309\u4e0b\u9f20\u6807\u62d6\u62fd\u5f00\u59cb\u6d4b\u91cf":e.innerHTML="\u5355\u51fb\u5f00\u59cb\u6d4b\u8ddd"):this.measureTypes.measureArea.name===this.measureType?(e.className="hamp-js-measure hamp-js-measure-area",this.freehand?e.innerHTML="\u6309\u4e0b\u9f20\u6807\u62d6\u62fd\u5f00\u59cb\u6d4b\u91cf":e.innerHTML="\u5355\u51fb\u5f00\u59cb\u6d4b\u9762"):this.measureTypes.measureCircle.name===this.measureType&&(e.className="hamp-js-measure hamp-js-measure-area",this.freehand?e.innerHTML="\u6309\u4e0b\u9f20\u6807\u62d6\u62fd\u5f00\u59cb\u6d4b\u91cf":e.innerHTML="\u5355\u51fb\u5f00\u59cb\u6d4b\u65b9\u5706\u9762\u79ef"),this.measureHelpTooltip=new ti.Overlay({element:e,offset:[15,0],positioning:"center-left"}),this.measureHelpTooltip.set("layerName",this.layerName),this.getMap().addOverlay(this.measureHelpTooltip)}else this.measureHelpTooltip&&this.measureHelpTooltip instanceof ti.Overlay&&this.measureHelpTooltip.setPosition(t.coordinate)},ti.interaction.MeasureTool.prototype.afterDrawPointClickHandler=function(t){var e=this.measureHelpTooltip.getElement();if(this.measureTypes.measureLength.name===this.measureType){e.className="hamp-js-measure-move hamp-js-measure-length";var o=this.draw.get("measureResult");e.innerHTML='<span>\u603b\u957f\uff1a<span class="measure-result">'+o+'</span></span><br><span class="tool-tip">\u5355\u51fb\u786e\u5b9a\u5730\u70b9\uff0c\u53cc\u51fb\u7ed3\u675f</span>'}else if(this.measureTypes.measureArea.name===this.measureType){e.className="hamp-js-measure-move hamp-js-measure-area";var i=this.draw.get("measureResult");e.innerHTML='<span>\u603b\u9762\u79ef\uff1a<span class="measure-result">'+i+'</span></span><br><span class="tool-tip">\u5355\u51fb\u786e\u5b9a\u5730\u70b9\uff0c\u53cc\u51fb\u7ed3\u675f</span>'}else if(this.measureTypes.measureCircle.name===this.measureType){e.className="hamp-js-measure-move hamp-js-measure-area";var r=this.draw.get("measureResult");e.innerHTML='<span>\u603b\u9762\u79ef\uff1a<span class="measure-result">'+r+'</span></span><br><span class="tool-tip">\u5355\u51fb\u786e\u5b9a\u5730\u70b9\uff0c\u53cc\u51fb\u7ed3\u675f</span>'}this.measureHelpTooltip.setPosition(t.coordinate),this.getMap().render()},ti.interaction.MeasureTool.prototype.afterDragHandler_=function(t){var e=this.measureHelpTooltip.getElement();if(this.measureTypes.measureLength.name===this.measureType){e.className="hamp-js-measure-move hamp-js-measure-length";var o=this.draw.get("measureResult");e.innerHTML='<span>\u603b\u957f\uff1a<span class="measure-result">'+o+'</span></span><br><span class="tool-tip">\u677e\u5f00\u9f20\u6807\u6309\u952e\u7ed3\u675f\u6d4b\u91cf</span>'}else if(this.measureTypes.measureArea.name===this.measureType){e.className="hamp-js-measure-move hamp-js-measure-area";var i=this.draw.get("measureResult");e.innerHTML='<span>\u603b\u9762\u79ef\uff1a<span class="measure-result">'+i+'</span></span><br><span class="tool-tip">\u677e\u5f00\u9f20\u6807\u6309\u952e\u7ed3\u675f\u6d4b\u91cf</span>'}else if(this.measureTypes.measureCircle.name===this.measureType){e.className="hamp-js-measure-move hamp-js-measure-area";var r=this.draw.get("measureResult");e.innerHTML='<span>\u603b\u9762\u79ef\uff1a<span class="measure-result">'+r+'</span></span><br><span class="tool-tip">\u677e\u5f00\u9f20\u6807\u6309\u952e\u7ed3\u675f\u6d4b\u91cf</span>'}this.measureHelpTooltip.setPosition(t.coordinate),this.getMap().render()},ti.interaction.MeasureTool.prototype.addMeasureOverlay=function(t,e,o){var i=document.createElement("span"),r=null;"length"===o?(i.className="hmap-measure-end-overlay-label",i.innerHTML="\u603b\u957f\uff1a<span class='measure-end-label'>"+e+"</span>",r=new ti.Overlay({element:i,position:t,offset:[10,10],positioning:"top-left"})):"area"===o?(i.className="hmap-measure-area-overlay-label",i.innerHTML='<span class="measure-label">'+e+"</span>",r=new ti.Overlay({element:i,position:t,positioning:"center-center"})):"circle"===o?(i.className="hmap-measure-area-overlay-label",i.innerHTML='<span class="measure-label">'+e+"</span>",r=new ti.Overlay({element:i,position:t,positioning:"center-center"})):(i.className="hmap-measure-overlay-label",i.innerHTML=e,r=new ti.Overlay({element:i,position:t,offset:[10,0],positioning:"center-left"})),r.set("layerName",this.layerName),r.set("uuid",this.draw.get("uuid")),this.getMap().addOverlay(r),this.getMap().render()},ti.interaction.MeasureTool.prototype.addMeasureRemoveButton=function(t){var e=this,o=document.createElement("img");o.src=this.options.removeButtonSrc?this.options.removeButtonSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NEYzMzc1RDY3RDU1MTFFNUFDNDJFNjQ4NUUwMzRDRDYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NEYzMzc1RDc3RDU1MTFFNUFDNDJFNjQ4NUUwMzRDRDYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0RjMzNzVENDdENTUxMUU1QUM0MkU2NDg1RTAzNENENiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0RjMzNzVENTdENTUxMUU1QUM0MkU2NDg1RTAzNENENiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsDx84AAAAC3SURBVHjavJIxDoMwDEV/ok5wDCbu0DvAdUBIwMLFSs/AxDXY6tZ2SCGVUikd+ifn20+2k5hHVd0AXJGmGQw+UyWMxY8KQGpbUNcB23aYHIsnuSgIy8dlAQ2DgwWSmD0YE5ReAq5pQOMIrKsDRByjKGC/dsxz2L7XQgU8JB7n4qDoY6SYF4J+p72T7/zeOXqr03SMx8XnsTUX7UgElKVCyDK3s8Tsae6sv/8ceceZ6jr1k99fAgwAsZy0Sa2HgDcAAAAASUVORK5CYII=",o.style.cursor="pointer",o.title="\u6e05\u9664\u6d4b\u91cf\u7ed3\u679c",o.uuid_=this.draw.get("uuid"),o.onclick=function(t){e.removeMeasure_(this.uuid_)};var i=new ti.Overlay({element:o,offset:[8,0],position:t,positioning:"center-left"});i.set("uuid",this.draw.get("uuid")),i.set("layerName",this.layerName),this.getMap().addOverlay(i),this.getMap().render()},ti.interaction.MeasureTool.prototype.removeMeasure_=function(e){var t=this.getMap().getOverlays().getArray();if(t&&Array.isArray(t))for(var o=t.length,i=0,r=0;i<o;i++)t[o-++r]&&t[o-r]instanceof ti.Overlay&&t[o-r].get("uuid")===e&&this.getMap().removeOverlay(t[o-r]);if(this.layer&&this.layer.getSource()){var n=this.layer.getSource();n.getFeatures().forEach(function(t){t.get("uuid")===e&&n.removeFeature(t)},this)}},ti.interaction.MeasureTool.prototype.removeAllMeasure_=function(){var t=this.getMap().getOverlays().getArray();if(t&&Array.isArray(t))for(var e=t.length,o=0,i=0;o<e;o++)t[e-++i]&&t[e-i]instanceof ti.Overlay&&t[e-i].get("layerName")===this.layerName&&this.getMap().removeOverlay(t[e-i]);if(this.layer&&this.layer.getSource()){var r=this.layer.getSource();r.getFeatures().forEach(function(t){r.removeFeature(t)},this)}},ti.interaction.MeasureTool.prototype.setTool=function(t,e,o){if(this.removeLastInteraction_(),t&&e&&this.measureTypes.hasOwnProperty(e)){if(this.isActive_=t,this.freehand=o,this.measureType=e,!this.layer){var i=new Xi(this.finshStyle);this.layer=Ti(this.getMap(),this.layerName,{create:!0}),this.layer.setStyle(i)}this.addDrawInteractions_(this.measureTypes[e].type)}},ti.interaction.MeasureTool.prototype.removeLastInteraction_=function(){this.isActive_=!1,this.freehand=!1,this.drawStart_=!1,this.draw&&(this.draw.un("drawstart",this.drawStartHandle_,this),this.draw.un("drawend",this.drawEndHandle_,this),this.getMap().un("singleclick",this.drawClickHandle_,this),this.measureHelpTooltip&&this.measureHelpTooltip instanceof ti.Overlay&&(this.getMap().removeOverlay(this.measureHelpTooltip),this.measureHelpTooltip=null),this.clickCount="",this.disActionInteraction(),this.getMap().removeInteraction(this.draw),this.measureType="")},ti.interaction.MeasureTool.prototype.getTool=function(){return this.isActive_},ti.interaction.MeasureTool.prototype.setActive=function(t){ti.interaction.Pointer.prototype.setActive.call(this,t)},ti.interaction.MeasureTool.prototype.disActionInteraction=function(){var t=this;this.doubleClickZoom=this.getDoubleClickZoomInteraction();var e=this.doubleClickZoom.getActive();this.doubleClickZoom.setActive(!1),window.setTimeout(function(){t.doubleClickZoom.setActive(e)},200)},ti.interaction.MeasureTool.prototype.getDoubleClickZoomInteraction=function(){var e=this;this.doubleClickZoom||this.getMap().getInteractions().getArray().every(function(t){return!(t&&t instanceof ti.interaction.DoubleClickZoom)||(e.doubleClickZoom=t,!1)});return this.doubleClickZoom},ti.interaction.MeasureTool.prototype.formatData=function(t){var e=0;if(t)if(this.measureTypes.measureLength.name===this.measureType)if(this.isGeodesic){for(var o=[t.getCoordinates(),0],i=o[0],r=o[1],n=this.getMap().getView().getProjection(),s=0,a=i.length-1;s<a;++s){var p=ti.proj.transform(i[s],n,"EPSG:4326"),h=ti.proj.transform(i[s+1],n,"EPSG:4326");r+=this.wgs84Sphere.haversineDistance(p,h)}e=100<r?Math.round(r/1e3*100)/100+" \u516c\u91cc":Math.round(100*r)/100+" \u7c73"}else e=Math.round(100*t.getLength())/100;else if("measureArea"===this.measureType)if(this.isGeodesic){var l=this.getMap().getView().getProjection(),c=t.clone().transform(l,"EPSG:4326").getLinearRing(0).getCoordinates(),u=Math.abs(this.wgs84Sphere.geodesicArea(c));e=1e10<u?Math.round(u/1e10*100)/100+" \u4e07\u5e73\u65b9\u516c\u91cc":1e6<u&&u<1e10?Math.round(u/1e6*100)/100+" \u5e73\u65b9\u516c\u91cc":Math.round(100*u)/100+" \u5e73\u65b9\u7c73"}else e=t.getArea();else if("measureCircle"===this.measureType){var g=this.getMap().getView().getProjection(),y=t.clone().transform(g,"EPSG:4326"),f=ti.geom.Polygon.fromCircle(y,64,0);if(this.isGeodesic){var d=f.getLinearRing(0).getCoordinates(),v=Math.abs(this.wgs84Sphere.geodesicArea(d));e=1e10<v?Math.round(v/1e10*100)/100+" \u4e07\u5e73\u65b9\u516c\u91cc":1e6<v&&v<1e10?Math.round(v/1e6*100)/100+" \u5e73\u65b9\u516c\u91cc":Math.round(100*v)/100+" \u5e73\u65b9\u7c73"}else e=f.getArea()}return e};ti.interaction.MeasureTool;var Np=function(n){function s(t){h(this,s);var e=c(this,n.call(this,t));e.pointRadius=t.pointRadius||12,e.circleMaxObjects=t.circleMaxObjects||10,e.maxObjects=t.maxObjects||60,e.spiral=!1!==t.spiral,e.animate=t.animate,e.animationDuration=t.animationDuration||500,e.selectCluster_=!1!==t.selectCluster;var o=new ti.layer.Vector({source:new ti.source.Vector({features:new ti.Collection,useSpatialIndex:!0}),name:"Cluster overlay",updateWhileAnimating:!0,updateWhileInteracting:!0,displayInLayerSwitcher:!1,style:t.featureStyle});if(e.overlayLayer_=o,t.layers)if("function"==typeof t.layers){var i=t.layers;t.layers=function(t){return t===o||i(t)}}else t.layers.push&&t.layers.push(e.overlayLayer_);if(t.filter){var r=t.filter;t.filter=function(t,e){return!(!e&&t.get("selectclusterlink"))&&r(t,e)}}else t.filter=function(t,e){return!(!e&&t.get("selectclusterlink"))};return e.filter_=t.filter,e.on("select",e.selectCluster,e),e}return r(s,n),s.prototype.clear=function(){this.getFeatures().clear(),this.overlayLayer_.getSource().clear()},s.prototype.setMap=function(t){this.getMap()&&(this.getMap().getView()&&this.getMap().getView().un("change:resolution",this.clear,this),this.getMap().removeLayer(this.overlayLayer_)),this.overlayLayer_.setMap(t),ti.interaction.Select.prototype.setMap.call(this,t),t&&t.getView()&&t.getView().on("change:resolution",this.clear,this)},s.prototype.getLayer=function(){return this.overlayLayer_},s.prototype.selectCluster=function(t){if(t.selected.length){var e=t.selected[0];if(!e.get("selectclusterfeature")){var o=this.overlayLayer_.getSource();o.clear();var i=e.get("features");if(i&&1!==i.length){this.selectCluster_||this.getFeatures().clear();var r=e.getGeometry().getCoordinates(),n=this.getMap().getView().getResolution(),s=n*this.pointRadius*(.5+i.length/4);if(!this.spiral||i.length<=this.circleMaxObjects)for(var a=Math.min(i.length,this.circleMaxObjects),p=0;p<a;p++){var h=2*Math.PI*p/a;2!==a&&4!==a||(h+=Math.PI/4);var l=[r[0]+s*Math.sin(h),r[1]+s*Math.cos(h)],c=new ti.Feature({selectclusterfeature:!0,features:[i[p]],geometry:new ti.geom.Point(l)});c.setStyle(i[p].getStyle()),o.addFeature(c);var u=new ti.Feature({selectclusterlink:!0,geometry:new ti.geom.LineString([r,l])});o.addFeature(u)}else for(var g=0,y=null,f=2*this.pointRadius,d=Math.min(this.maxObjects,i.length),v=0;v<d;v++){g+=(f+.1)/(y=f/2+f*g/(2*Math.PI));var A=n*y*Math.sin(g),C=n*y*Math.cos(g),m=[r[0]+A,r[1]+C],I=new ti.Feature({selectclusterfeature:!0,features:[i[v]],geometry:new ti.geom.Point(m)});I.setStyle(i[v].getStyle()),o.addFeature(I);var b=new ti.Feature({selectclusterlink:!0,geometry:new ti.geom.LineString([r,m])});o.addFeature(b)}this.animate&&this.animateCluster_(r)}}}else this.clear()},s.prototype.animateCluster_=function(g){this.listenerKey_&&(this.overlayLayer_.setVisible(!0),ti.Observable.unByKey(this.listenerKey_));var y=this.overlayLayer_.getSource().getFeatures();if(y.length){this.overlayLayer_.setVisible(!1);var t=this.overlayLayer_.getStyle(),f="function"==typeof t?t:t.length?function(){return t}:function(){return[t]},d=this.animationDuration||500,v=(new Date).getTime();this.listenerKey_=this.getMap().on("postcompose",function(t){for(var e=t.vectorContext,o=t.frameState.pixelRatio,i=t.target.getView().getResolution(),r=ti.easing.easeOut((t.frameState.time-v)/d),n=0;n<y.length;n++)if(y[n].get("features")){var s=y[n],a=s.getGeometry().getCoordinates();a[0]=g[0]+r*(a[0]-g[0]),a[1]=g[1]+r*(a[1]-g[1]);for(var p=new ti.geom.Point(a),h=f(s,i),l=0;l<h.length;l++){var c=void 0,u=!ti.Map.prototype.getFeaturesAtPixel&&h[l].getImage();u&&(c=u.getScale(),u.setScale(o)),e.setStyle?(e.setStyle(h[l]),e.drawGeometry(p)):(e.setImageStyle(u),e.drawPointGeometry(p)),u&&u.setScale(c)}}if(1<r)return ti.Observable.unByKey(this.listenerKey_),this.overlayLayer_.setVisible(!0),void this.overlayLayer_.changed();t.frameState.animate=!0},this)}},s}(ti.interaction.Select);ti.interaction.SelectCluster=Np;var kp=ti.interaction.Pointer,Dp=ti.Collection,_p=ti.layer.Vector,Gp=ti.source.Vector,Bp=ti.Feature,Up=ti.geom.Point,zp=ti.geom.Polygon,Zp=ti.geom.GeometryCollection,Vp=ti.extent,Hp="rotate-anchor",Wp="rotate-arrow",Xp="angle",Yp="anchor",Kp="rotatestart",Jp="rotating",qp="rotateend",Qp=function(){function r(t,e,o,i){h(this,r),this.propagationStopped_=!1,this.type_=t,this.features_=e,this.angle_=o,this.anchor_=i}return r.prototype.preventDefault=function(){this.propagationStopped_=!0},r.prototype.stopPropagation=function(){this.propagationStopped_=!0},t(r,[{key:"propagationStopped",get:function(){return this.propagationStopped_}},{key:"type",get:function(){return this.type_}},{key:"features",get:function(){return this.features_}},{key:"angle",get:function(){return this.angle_}},{key:"anchor",get:function(){return this.anchor_}}]),r}(),$p=function(a){function p(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};h(this,p);var e,o,i,r,s,n=c(this,a.call(this,{handleEvent:th,handleDownEvent:eh,handleUpEvent:oh,handleDragEvent:ih,handleMoveEvent:rh}));if(n.previousCursor_=void 0,n.anchorFeature_=void 0,n.arrowFeature_=void 0,n.lastCoordinate_=void 0,n.anchorMoving_=!1,n.overlay_=new _p({style:t.style||(o=[255,255,255,.8],i=[0,153,255,.8],r=[255,255,255,.01],(e={})[Hp]=[new Xi({image:{type:"",image:{points:6,radius:4,stroke:{strokeColor:i,strokeWidth:1},fill:{fillColor:[0,153,255,.8]}}},zIndex:1/0})],e[Wp]=[new Xi({fill:{fillColor:r},stroke:{strokeColor:o,strokeWidth:4},text:{textFont:"normal normal 100 12px ArialMT",textOffsetX:20,textOffsetY:-20,textOverflow:!0,textFill:{fillColor:"blue"},textStroke:{strokeColor:o,strokeWidth:3}},zIndex:1/0}),new Xi({fill:{fillColor:r},stroke:{strokeColor:i,strokeWidth:2},zIndex:1/0})],s=e,function(t,e){var o=void 0,i=t.get(Xp)||0;switch(!0){case t.get(Hp):return(o=s[Hp])[0].getImage().setRotation(-i),o;case t.get(Wp):o=s[Wp];var r=t.getGeometry().getCoordinates(),n=new zp([[[r[0],r[1]-6*e],[r[0]+8*e,r[1]-12*e],[r[0],r[1]+30*e],[r[0]-8*e,r[1]-12*e],[r[0],r[1]-6*e]]]);return n.rotate(i,r),o[0].setGeometry(n),o[1].setGeometry(n),o[0].getText().setText(Math.round(180*-i/Math.PI)+"\xb0"),o}}),source:new Gp({features:new Dp})}),n.features_=void 0,t.features)if(Array.isArray(t.features))n.features_=new Dp(t.features);else{if(!(t.features instanceof Dp))throw new Error("Features option should be an array or collection of features, got "+l(t.features));n.features_=t.features}else n.features_=new Dp;return n.setAnchor(t.anchor||nh(n.features_)),n.setAngle(t.angle||0),n.features_.on("add",n.onFeatureAdd_,n),n.features_.on("remove",n.onFeatureRemove_,n),n.on("change:"+Xp,n.onAngleChange_,n),n.on("change:"+Yp,n.onAnchorChange_,n),n.createOrUpdateAnchorFeature_(),n.createOrUpdateArrowFeature_(),n}return r(p,a),p.prototype.setMap=function(t){this.overlay_.setMap(t),a.prototype.setMap.call(this,t)},p.prototype.setActive=function(t){this.overlay_&&this.overlay_.setMap(t?this.map:void 0),a.prototype.setActive.call(this,t)},p.prototype.setAngle=function(t){this.set(Xp,parseFloat(t))},p.prototype.getAngle=function(){return this.get(Xp)},p.prototype.setAnchor=function(t){this.set(Yp,null!=t?t.map(parseFloat):nh(this.features_))},p.prototype.getAnchor=function(){return this.get(Yp)},p.prototype.createOrUpdateAnchorFeature_=function(){var t,e=this.getAngle(),o=this.getAnchor();o&&(this.anchorFeature_?(this.anchorFeature_.getGeometry().setCoordinates(o),this.anchorFeature_.set(Xp,e)):(this.anchorFeature_=new Bp(((t={geometry:new Up(o)})[Xp]=e,t[Hp]=!0,t)),this.overlay_.getSource().addFeature(this.anchorFeature_)))},p.prototype.createOrUpdateArrowFeature_=function(){var t,e=this.getAngle(),o=this.getAnchor();o&&(this.arrowFeature_?(this.arrowFeature_.getGeometry().setCoordinates(o),this.arrowFeature_.set(Xp,e)):(this.arrowFeature_=new Bp(((t={geometry:new Up(o)})[Xp]=e,t[Wp]=!0,t)),this.overlay_.getSource().addFeature(this.arrowFeature_)))},p.prototype.resetAngleAndAnchor_=function(){this.resetAngle_(),this.resetAnchor_()},p.prototype.resetAngle_=function(){this.set(Xp,0,!0),this.arrowFeature_&&this.arrowFeature_.set(Xp,this.getAngle()),this.anchorFeature_&&this.anchorFeature_.set(Xp,this.getAngle())},p.prototype.resetAnchor_=function(){this.set(Yp,nh(this.features_),!0),this.getAnchor()&&(this.arrowFeature_&&this.arrowFeature_.getGeometry().setCoordinates(this.getAnchor()),this.anchorFeature_&&this.anchorFeature_.getGeometry().setCoordinates(this.getAnchor()))},p.prototype.onFeatureAdd_=function(){this.resetAngleAndAnchor_(),this.createOrUpdateAnchorFeature_(),this.createOrUpdateArrowFeature_()},p.prototype.onFeatureRemove_=function(){this.resetAngleAndAnchor_(),this.features_.getLength()?(this.createOrUpdateAnchorFeature_(),this.createOrUpdateArrowFeature_()):(this.overlay_.getSource().clear(),this.anchorFeature_=this.arrowFeature_=void 0)},p.prototype.onAngleChange_=function(t){var e=this,o=t.oldValue;this.features_.forEach(function(t){return t.getGeometry().rotate(e.getAngle()-o,e.getAnchor())}),this.arrowFeature_&&this.arrowFeature_.set(Xp,this.getAngle()),this.anchorFeature_&&this.anchorFeature_.set(Xp,this.getAngle())},p.prototype.onAnchorChange_=function(){var t=this.getAnchor();t&&(this.anchorFeature_&&this.anchorFeature_.getGeometry().setCoordinates(t),this.arrowFeature_&&this.arrowFeature_.getGeometry().setCoordinates(t))},p.prototype.dispatchRotateStartEvent_=function(t){this.dispatchEvent(new Qp(Kp,t,this.getAngle(),this.getAnchor()))},p.prototype.dispatchRotatingEvent_=function(t){this.dispatchEvent(new Qp(Jp,t,this.getAngle(),this.getAnchor()))},p.prototype.dispatchRotateEndEvent_=function(t){this.dispatchEvent(new Qp(qp,t,this.getAngle(),this.getAnchor()))},t(p,[{key:"features",get:function(){return this.features_}},{key:"angle",get:function(){return this.getAngle()},set:function(t){this.setAngle(t)}},{key:"anchor",get:function(){return this.getAnchor()},set:function(t){this.setAnchor(t)}},{key:"map",set:function(t){this.setMap(t)},get:function(){return this.getMap()}},{key:"active",set:function(t){this.setActive(t)},get:function(){return this.getActive()}}]),p}(kp);function th(t){var e=t.map.forEachFeatureAtPixel(t.pixel,function(t){return t});return!(-1<["click","singleclick","dblclick"].indexOf(t.type)&&-1<[this.anchorFeature_,this.arrowFeature_].indexOf(e))&&kp.handleEvent.call(this,t)}function eh(t){var e=t.map.forEachFeatureAtPixel(t.pixel,function(t){return t});return e&&!this.lastCoordinate_&&(-1<this.features_.getArray().indexOf(e)||e===this.arrowFeature_)?(this.lastCoordinate_=t.coordinate,rh.call(this,t),this.dispatchRotateStartEvent_(this.features_),!0):!(!e||e!==this.anchorFeature_)&&(this.anchorMoving_=!0,rh.call(this,t),!0)}function oh(t){return this.lastCoordinate_?(this.lastCoordinate_=void 0,rh.call(this,t),this.dispatchRotateEndEvent_(this.features_),!0):!!this.anchorMoving_&&(this.anchorMoving_=!1,rh.call(this,t),!0)}function ih(t){var e=t.coordinate,o=this.anchorFeature_.getGeometry().getCoordinates();if(this.lastCoordinate_){var i=[this.lastCoordinate_[0]-o[0],this.lastCoordinate_[1]-o[1]],r=[e[0]-o[0],e[1]-o[1]],n=Math.atan2(i[0]*r[1]-r[0]*i[1],i[0]*r[0]+i[1]*r[1]);this.setAngle(this.getAngle()+n),this.dispatchRotatingEvent_(this.features_),this.lastCoordinate_=e}else this.anchorMoving_&&this.setAnchor(e)}function rh(t){var e=t.map,o=t.pixel,i=e.getTargetElement(),r=e.forEachFeatureAtPixel(o,function(t){return t}),n=function(t){1<arguments.length&&void 0!==arguments[1]&&arguments[1]&&(i.style.cursor="-webkit-"+t,i.style.cursor="-moz-"+t),i.style.cursor=t};this.lastCoordinate_?(this.previousCursor_=i.style.cursor,n("grabbing",!0)):r&&(-1<this.features_.getArray().indexOf(r)||r===this.arrowFeature_)?(this.previousCursor_=i.style.cursor,n("grab",!0)):r&&r===this.anchorFeature_||this.anchorMoving_?(this.previousCursor_=i.style.cursor,n("crosshair")):(n(this.previousCursor_||""),this.previousCursor_=void 0)}function nh(t){if((t=t instanceof Dp?t.getArray():t).length)return Vp.getCenter(function(t){if((t=t instanceof Dp?t.getArray():t).length)return new Zp(t.map(function(t){return t.getGeometry()})).getExtent()}(t))}ti.interaction.RotateFeature=$p,ti.interaction.PointerEvents=function(){this.coordinate_=null,this.cursor_="pointer",this.feature_=null,this.previousCursor_=void 0,ti.interaction.Pointer.call(this,{handleDownEvent:ti.interaction.PointerEvents.handleDownEvent,handleDragEvent:ti.interaction.PointerEvents.handleDragEvent,handleMoveEvent:ti.interaction.PointerEvents.handleMoveEvent,handleUpEvent:ti.interaction.PointerEvents.handleUpEvent})},ti.inherits(ti.interaction.PointerEvents,ti.interaction.Pointer),ti.interaction.PointerEvents.handleDownEvent=function(t){if(0===t.originalEvent.button){var e=t.map,o=e.forEachFeatureAtPixel(t.pixel,function(t){return t});return o&&this.isSelectSupported(o)&&(this.coordinate_=t.coordinate,this.feature_=o,e.dispatchEvent({type:xr,originEvent:t,value:o})),!!this.feature_}},ti.interaction.PointerEvents.handleDragEvent=function(t){if(this.coordinate_&&this.isMoveSupported(this.feature_)){var e=t.coordinate[0]-this.coordinate_[0],o=t.coordinate[1]-this.coordinate_[1];this.feature_.getGeometry().translate(e,o),this.coordinate_[0]=t.coordinate[0],this.coordinate_[1]=t.coordinate[1],this.feature_.dispatchEvent(Er),t.map.dispatchEvent({type:Er,originEvent:t,value:this.feature_})}},ti.interaction.PointerEvents.handleMoveEvent=function(t){if(this.cursor_){var e=t.map,o=null;o=this.feature_?this.feature_:e.forEachFeatureAtPixel(t.pixel,function(t){return t});var i=t.map.getTargetElement();o&&this.isSelectSupported(o)?i.style.cursor!==this.cursor_&&(this.previousCursor_=i.style.cursor,i.style.cursor=this.cursor_):void 0!==this.previousCursor_&&(i.style.cursor=this.previousCursor_,this.previousCursor_=void 0)}},ti.interaction.PointerEvents.handleUpEvent=function(t){var e=t.map;return this.feature_&&this.isSelectSupported(this.feature_)&&e.dispatchEvent({type:Pr,originEvent:t,value:this.feature_}),this.coordinate_=null,this.feature_=null,!1},ti.interaction.PointerEvents.prototype.isSelectSupported=function(t){var e=!1;if(t&&t instanceof ti.Feature){var o=t.get("params");o&&o[kr]&&(e=!0)}return e},ti.interaction.PointerEvents.prototype.isMoveSupported=function(t){var e=!1;if(t&&t instanceof ti.Feature){var o=t.get("params");o&&o[Dr]&&(e=!0)}return e};var sh=ti.interaction.PointerEvents,ah=function(){function t(){h(this,t)}return t.prototype._addInteractions=function(t){var e=Object.assign(Zi.INTERACTIONS,t||{}),o=[];if(e)for(var i in e)i&&e[i]&&this["add"+ri(i)](e[i],o);return o},t.prototype.addDoubleClickZoom=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];(e=e||this.map.getInteractions()).push(new ti.interaction.DoubleClickZoom({delta:t.zoomDelta,duration:t.zoomDuration}))},t.prototype.addMouseWheelZoom=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];(e=e||this.map.getInteractions()).push(new ti.interaction.MouseWheelZoom({constrainResolution:t.constrainResolution,duration:t.zoomDuration}))},t.prototype.addKeyboard=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];(e=e||this.map.getInteractions()).push(new ti.interaction.KeyboardPan),e.push(new ti.interaction.KeyboardZoom({delta:t.zoomDelta,duration:t.zoomDuration}))},t.prototype.addAltShiftDragRotate=function(){var t=arguments[1];(t=t||this.map.getInteractions()).push(new ti.interaction.DragRotate)},t.prototype.addShiftDragZoom=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];(e=e||this.map.getInteractions()).push(new ti.interaction.DragZoom({duration:t.zoomDuration}))},t.prototype.addDragPan=function(){var t=arguments[1];(t=t||this.map.getInteractions()).push(new ti.interaction.DragPan({kinetic:new ti.Kinetic(-.005,.05,100)}))},t.prototype.addPinchRotate=function(){var t=arguments[1];(t=t||this.map.getInteractions()).push(new ti.interaction.PinchRotate)},t.prototype.addPinchZoom=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];(e=e||this.map.getInteractions()).push(new ti.interaction.PinchZoom({constrainResolution:t.constrainResolution,duration:t.zoomDuration}))},t.prototype.addDraw=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];(e=e||this.map.getInteractions()).push(new ti.interaction.Draw(t))},t.prototype.addMeasureTool=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];(e=e||this.map.getInteractions()).push(new ti.interaction.MeasureTool(t))},t.prototype.addFreeHandCircle=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];(e=e||this.map.getInteractions()).push(new ti.interaction.FreeHandCircle(t))},t.prototype.addLayerMagnify=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];(e=e||this.map.getInteractions()).push(new ti.interaction.LayerMagnify(t))},t.prototype.addLayerSpyglass=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];(e=e||this.map.getInteractions()).push(new ti.interaction.LayerSpyglass(t))},t.prototype.addPointerEvents=function(t){(t=t||this.map.getInteractions()).push(new sh)},t}();function ph(t,e,o){return(t[0]-o[0])*(e[1]-o[1])-(t[1]-o[1])*(e[0]-o[0])<=0}ti.coordinate.convexHull=function(t){t.sort(function(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]});for(var e=[],o=0;o<t.length;o++){for(;2<=e.length&&ph(e[e.length-2],e[e.length-1],t[o]);)e.pop();e.push(t[o])}for(var i=[],r=t.length-1;0<=r;r--){for(;2<=i.length&&ph(i[i.length-2],i[i.length-1],t[r]);)i.pop();i.push(t[r])}return i.pop(),e.pop(),e.concat(i)},ti.geom.Geometry.prototype.convexHull=function(){return ti.coordinate.convexHull(function t(e){var o=[],i=null;switch(e.getType()){case"Point":o.push(e.getCoordinates());break;case"LineString":case"LinearRing":case"MultiPoint":o=e.getCoordinates();break;case"MultiLineString":i=e.getLineStrings();for(var r=0;r<i.length;r++)o.concat(t(i[r]));break;case"Polygon":o=t(e.getLinearRing(0));break;case"MultiPolygon":i=e.getPolygons();for(var n=0;n<i.length;n++)o.concat(t(i[n]));break;case"GeometryCollection":i=e.getGeometries();for(var s=0;s<i.length;s++)o.concat(t(i[s]))}return o}(this))};var hh=function(){function t(){h(this,t)}return t.prototype.getExtent=function(t){return t?this.view.calculateExtent(t):this.view.calculateExtent(this.map.getSize())},t.prototype.getMapCurrentExtent=function(){if(this.map)return this.view.calculateExtent(this.map.getSize())},t.prototype.zoomMaxExtent=function(t){var e=this.map.getView();if(t="number"==typeof t?t:2,this.map&&e){var o=e.getCenter();o&&(this.view.setCenter(o),this.view.setZoom(t))}},t.prototype.setViewCenter=function(t){t&&Array.isArray(t)&&this.map&&this.map.getView().animate({center:t,duration:800})},t.prototype.movePointToView=function(t){if(this.map){var e=this.getMapCurrentExtent();ti.extent.containsXY(e,t[0],t[1])||this.map.getView().animate({center:[t[0],t[1]],duration:400})}},t.prototype.adjustExtent=function(t,e){if(this.map){e=e||{};var o=ti.extent.getSize(t),i="number"==typeof e.adjust?e.adjust:.2,r="number"==typeof e.minWidth?e.minWidth:.05,n="number"==typeof e.minHeight?e.minHeight:.05;if(o[0]<=r||o[1]<=n){var s=ti.extent.getBottomLeft(t),a=ti.extent.getTopRight(t),p=s[0]-i,h=s[1]-i,l=a[0]+i,c=a[1]+i;t=ti.extent.buffer([p,h,l,c],i)}return t}},t.prototype.zoomToExtent=function(t,e,o){if(this.map){var i=this.map.getView(),r=this.map.getSize();e?i.fit(t,{size:r,padding:[0,0,0,0],duration:o||800,maxZoom:i.getMaxZoom()||void 0}):i.fit(t,{size:r,padding:[0,0,0,0],duration:0,maxZoom:i.getMaxZoom()||void 0})}},t.prototype.orderLayerZindex=function(){var o=this,i=10;if(this.map){var t=this.pointLayers,e=this.lineLayers;this.polygonLayers.forEach(function(t){if(t){var e=o.getLayerByLayerName(t);e&&e.setZIndex(i++)}}),e.forEach(function(t){if(t){var e=o.getLayerByLayerName(t);e&&e.setZIndex(i++)}}),t.forEach(function(t){if(t){var e=o.getLayerByLayerName(t);e&&e.setZIndex(i++)}})}},t}(),lh=function(e){function o(){h(this,o);var t=c(this,e.call(this));return t[Symbol("geometry")]=Symbol("geometry"),t}return r(o,e),o.prototype._getExtent=function(t,e){var o=t.getExtent(),i=!0;return o.every(function(t){return t!==1/0&&!isNaN(t)&&null!=t||(i=!1)}),i&&(e.view&&e.view.adjustExtent&&(o=this.adjustExtent(o,e.view)),e.zoomToExtent&&this.zoomToExtent(o,!0)),o},o.prototype.getCenterExtentFromLine=function(t,e){try{var o=null;t instanceof ti.geom.Geometry||(o=this.getGeomFromGeomData(t,e));var i=new ti.geom.MultiLineString([]);if(o&&o instanceof ti.geom.LineString)i.appendLineString(o);else if(o&&o instanceof ti.geom.MultiLineString){var r=o.getLineStrings();r&&Array.isArray(r)&&0<r.length&&r.forEach(function(t){t&&t instanceof ti.geom.LineString&&i.appendLineString(t)})}var n=this._getExtent(i,e);return{extent:n,center:ti.extent.getCenter(n)}}catch(t){console.error(t)}},o.prototype.getCenterExtentFromPolygon=function(t,e){try{var o=null;t instanceof ti.geom.Geometry||(o=this.getGeomFromGeomData(t,e));var i=new ti.geom.MultiPolygon([]);if(o&&o instanceof ti.geom.Polygon)i.appendPolygon(o);else if(o&&o instanceof ti.geom.MultiPolygon){var r=o.getPolygons();r&&Array.isArray(r)&&0<r.length&&r.forEach(function(t){t&&t instanceof ti.geom.Polygon&&i.appendPolygon(t)})}var n=this._getExtent(i,e);return{extent:n,center:ti.extent.getCenter(n)}}catch(t){console.error(t)}},o.prototype._getMultiGeomtery=function(t,e){try{var o=null,i=new ti.geom.MultiPolygon([]),r=new ti.geom.MultiLineString([]),n=new ti.geom.MultiPoint([]);if(!(o=t instanceof ti.geom.Geometry?t:this.getGeomFromGeomData(t,e)))return!1;if(o instanceof ti.geom.Polygon||o instanceof ti.geom.MultiPolygon){if(o instanceof ti.geom.Polygon)i.appendPolygon(o);else{var s=o.getPolygons();s&&Array.isArray(s)&&0<s.length&&s.forEach(function(t){t&&t instanceof ti.geom.Polygon&&i.appendPolygon(t)})}return i}if(o instanceof ti.geom.LineString||o instanceof ti.geom.MultiLineString){if(o instanceof ti.geom.LineString)r.appendLineString(o);else{var a=o.getLineStrings();a&&Array.isArray(a)&&0<a.length&&a.forEach(function(t){t&&t instanceof ti.geom.LineString&&r.appendLineString(t)})}return r}if(o instanceof ti.geom.Point||o instanceof ti.geom.MultiPoint){if(o instanceof ti.geom.Point)n.appendPoint(o);else{var p=o.getPoints();p&&Array.isArray(p)&&0<p.length&&p.forEach(function(t){t&&t instanceof ti.geom.Point&&n.appendPoint(t)})}return n}}catch(t){console.log(t)}},o.prototype.getGeomFromGeomData=function(t,e){try{e=e||{};var o=null;if(t instanceof ti.geom.Geometry)o=t,e.dataProjection&&e.featureProjection&&(o=o.transform(e.dataProjection,e.featureProjection));else if(t.hasOwnProperty("geometry")&&t.geometry instanceof ti.geom.Geometry)o=t.geometry,e.dataProjection&&e.featureProjection&&(o=o.transform(e.dataProjection,e.featureProjection));else if("GeoJSON"===t.geomType||"GeoJSON"===e.geomType){o=(new ti.format.GeoJSON).readGeometry(t.geometry,{dataProjection:e.dataProjection?e.dataProjection:void 0,featureProjection:e.featureProjection?e.featureProjection:void 0})}else if("EsriJSON"===t.geomType||"EsriJSON"===e.geomType){o=(new ti.format.EsriJSON).readGeometry(t.geometry,{dataProjection:e.dataProjection?e.dataProjection:void 0,featureProjection:e.featureProjection?e.featureProjection:void 0})}else if("Polyline"===t.geomType||"Polyline"===e.geomType){o=(new ti.format.Polyline).readGeometry(t.geometry,{dataProjection:e.dataProjection?e.dataProjection:void 0,featureProjection:e.featureProjection?e.featureProjection:void 0})}else if(Array.isArray(t.geometry))o=new ti.geom.Point(t.geometry),e.dataProjection&&e.featureProjection&&(o=o.transform(e.dataProjection,e.featureProjection));else if("MVT"===t.geomType||"MVT"===e.geomType)o=(new ti.format.MVT).readGeometry(t);else if("TopoJSON"===t.geomType||"TopoJSON"===e.geomType)o=(new ti.format.TopoJSON).readGeometry(t);else if("IGC"===t.geomType||"IGC"===e.geomType)o=(new ti.format.IGC).readGeometry(t);else if("GMLBase"===t.geomType||"GMLBase"===e.geomType)o=(new ti.format.GMLBase).readGeometry(t);else if("GPX"===t.geomType||"GPX"===e.geomType)o=(new ti.format.GPX).readGeometry(t);else if("KML"===t.geomType||"KML"===e.geomType)o=(new ti.format.KML).readGeometry(t);else if("OSMXML"===t.geomType||"OSMXML"===e.geomType)o=(new ti.format.OSMXML).readGeometry(t);else if("WFS"===t.geomType||"WFS"===e.geomType)o=(new ti.format.WFS).readGeometry(t);else if("WMSGetFeatureInfo"===t.geomType||"WMSGetFeatureInfo"===e.geomType)o=(new ti.format.WMSGetFeatureInfo).readGeometry(t);else{o=(new ti.format.WKT).readGeometry(t.geometry,{dataProjection:e.dataProjection?e.dataProjection:void 0,featureProjection:e.featureProjection?e.featureProjection:void 0})}return o}catch(t){console.log(t)}},o.prototype.getCenterExtentFromGeom=function(t,e){var o=this.getGeomFromGeomData(t,e),i=this._getExtent(o,e),r=ti.extent.getCenter(i),n=!0;return i.every(function(t){return t!==1/0&&!isNaN(t)&&null!=t||(n=!1)}),n&&e.zoomToExtent&&(e.view&&e.view.adjustExtent&&(i=this.adjustExtent(i,e.view)),this.zoomToExtent(i,!0)),{extent:i,center:r}},o.prototype._getExtentCenter=function(t,e){var o=this._getExtent(t,e),i=ti.extent.getCenter(o),r=!0;return o.every(function(t){return t!==1/0&&!isNaN(t)&&null!=t||(r=!1)}),r&&e.zoomToExtent&&(e.view&&e.view.adjustExtent&&(o=this.adjustExtent(o,e.view)),this.zoomToExtent(o,!0)),{extent:o,center:i}},o.prototype.getCenterExtentFromGeoms=function(t,n){var s=this,e=null,a="";if(t&&Array.isArray(t)&&0<t.length){var p=new ti.geom.MultiPolygon([]),h=new ti.geom.MultiLineString([]),l=new ti.geom.MultiPoint([]);t.forEach(function(t){if(t){var e=s._getMultiGeomtery(s.getGeomFromGeomData(t,n));if(e)if(e instanceof ti.geom.MultiPolygon){var o=e.getPolygons();o&&Array.isArray(o)&&0<o.length&&o.forEach(function(t){t&&t instanceof ti.geom.Polygon&&p.appendPolygon(t)}),a="multiPolygon"}else if(e instanceof ti.geom.MultiLineString){var i=e.getLineStrings();i&&Array.isArray(i)&&0<i.length&&i.forEach(function(t){t&&t instanceof ti.geom.LineString&&h.appendLineString(t)}),a="multiLine"}else if(e instanceof ti.geom.MultiPoint){var r=e.getPoints();r&&Array.isArray(r)&&0<r.length&&r.forEach(function(t){t&&t instanceof ti.geom.Point&&l.appendPoint(t)}),a="multiPoint"}}}),"multiPolygon"===a?e=this._getExtentCenter(p,n):"multiLine"===a?e=this._getExtentCenter(h,n):"multiPoint"===a&&(e=this._getExtentCenter(l,n))}return e},o}(hh),ch=function(e){function o(){h(this,o);var t=c(this,e.call(this));return t[Symbol("feature")]=Symbol("feature"),t}return r(o,e),o.prototype.getFeatureFromLayer=function(t,e){var o=void 0;if(t&&t instanceof ti.layer.Vector&&e){var i=t.getSource();i&&i.getFeatureById&&(o=i.getFeatureById(e))}return o},o.prototype.getFeatureById=function(e){var o=this,t=this.getVectorLayers(),i=void 0;return t.every(function(t){return!((i=o.getFeatureFromLayer(t,e))&&i instanceof ti.Feature)}),i},o.prototype.getFeatureById2LayerName=function(t,e){var o=void 0;if(e){var i=this.getLayerByLayerName(e);o=this.getFeatureFromLayer(i,t)}return o&&o instanceof ti.Feature||(o=this.getFeatureById(t)),o},o.prototype.fixStyle=function(t,e,o){t.attributes||(t.attributes={});var i=[],r=i[0],n=i[1],s=t.attributes.style||e.style,a=t.attributes.selectStyle||e.selectStyle;return s&&s instanceof ti.style.Style?r=s:pi(s)?r=s:"object"===(void 0===s?"undefined":l(s))&&(r=new Xi(s)),a&&a instanceof ti.style.Style?n=a:pi(a)?n=a:"object"===(void 0===a?"undefined":l(a))&&(n=new Xi(a)),r&&o&&(o.setStyle(r),o.set("style",r),n&&o.set("selectStyle",n)),o},o.prototype.fixProperties=function(t,e,o){if(t.attributes&&(t.attributes.id||t.attributes.ID)){var i=t.attributes.id||t.attributes.ID||e.id;o.setId(i),o.setProperties(t.attributes)}return o},o.prototype.fixView=function(t,e){if(e.zoomToExtent){var o=t.getExtent();e.view&&e.view.adjustExtent&&(o=this.adjustExtent(o,e.view)),this.zoomToExtent(o,!0)}},o.prototype.appendFeature=function(t,e){t.create=!0,this.createVectorLayer(t.layerName,t).getSource().addFeature(e),this.orderLayerZindex()},o.prototype.addPoint=function(t,e){var o=this.getGeomFromGeomData(t,e);if(o){var i=new ti.Feature({geometry:o,params:e});return i=this.fixStyle(t,e,i),i=this.fixProperties(t,e,i),this.fixView(o,e),e.layerName&&(this.appendFeature(e,i),this.pointLayers.add(e.layerName)),i}},o.prototype.addPoints=function(t,r){var n=this;try{if(t&&Array.isArray(t)){var s=[],a=new ti.geom.MultiPoint([]),e=!1;return r.zoomToExtent&&(r.zoomToExtent=!1,e=!0),t.forEach(function(t){if(t&&t.geometry){var e=n.addPoint(t,r);if(e&&e instanceof ti.Feature){s.push(e);var o=e.getGeometry();if(o&&o instanceof ti.geom.Point)a.appendPoint(o);else if(o&&o instanceof ti.geom.MultiPoint){var i=o.getPoints();i&&Array.isArray(i)&&0<i.length&&i.forEach(function(t){t&&t instanceof ti.geom.Point&&a.appendPoint(t)})}}}}),e&&(r.zoomToExtent=!0,this.fixView(a,r)),s}}catch(t){console.error(t)}},o.prototype.setPointGeometry=function(t,e,o){if(t&&e&&t instanceof ti.Feature){var i=this.getGeomFromGeomData({geometry:e},o);t.setGeometry(i)}else console.info("\u4f20\u5165\u6570\u636e\u6709\u8bef\uff01")},o.prototype.addPolyline=function(t,e){var o=this.getGeomFromGeomData(t,e);if(o){var i=new ti.Feature({geometry:o,params:e});return i=this.fixStyle(t,e,i),i=this.fixProperties(t,e,i),this.fixView(o,e),e.layerName&&(this.appendFeature(e,i),this.lineLayers.add(e.layerName)),i}},o.prototype.addPolylines=function(t,r){var n=this;try{if(t&&Array.isArray(t)){var s=[],a=new ti.geom.MultiLineString([]),e=!1;return r.zoomToExtent&&(r.zoomToExtent=!1,e=!0),t.forEach(function(t){var e=n.addPolyline(t,r);if(e&&e instanceof ti.Feature){s.push(e);var o=e.getGeometry();if(o&&o instanceof ti.geom.LineString)a.appendLineString(o);else if(o&&o instanceof ti.geom.MultiLineString){var i=o.getLineStrings();i&&Array.isArray(i)&&0<i.length&&i.forEach(function(t){t&&t instanceof ti.geom.LineString&&a.appendLineString(t)})}}}),e&&(r.zoomToExtent=!0,this.fixView(a,r)),s}}catch(t){console.error(t)}},o.prototype.addPolygon=function(t,e){var o=this.getGeomFromGeomData(t,e);if(o){var i=new ti.Feature({geometry:o,params:e});return i=this.fixStyle(t,e,i),i=this.fixProperties(t,e,i),this.fixView(o,e),e.layerName&&(this.appendFeature(e,i),this.polygonLayers.add(e.layerName)),i}},o.prototype.addPolygons=function(t,r){var n=this;try{if(t&&Array.isArray(t)){var s=[],a=new ti.geom.MultiPolygon([]),e=!1;return r.zoomToExtent&&(r.zoomToExtent=!1,e=!0),t.forEach(function(t){var e=n.addPolygon(t,r);if(e&&e instanceof ti.Feature){s.push(e);var o=e.getGeometry();if(o&&o instanceof ti.geom.Polygon)a.appendPolygon(o);else if(o&&o instanceof ti.geom.MultiPolygon){var i=o.getPolygons();i&&Array.isArray(i)&&0<i.length&&i.forEach(function(t){t&&t instanceof ti.geom.Polygon&&a.appendPolygon(t)})}}}),e&&(r.zoomToExtent=!0,this.fixView(a,r)),s}}catch(t){console.log(t)}},o.prototype.addHeatFeatures=function(t,i){var r=this;try{var e="";if(t&&Array.isArray(t)&&0<t.length){var n=new ti.geom.MultiPoint([]),o=!1;if(i.zoomToExtent&&(i.zoomToExtent=!1,o=!0),t.forEach(function(t){if(t&&t.geometry){var e=r.getGeomFromGeomData(t,i);if(e&&e instanceof ti.geom.Point)n.appendPoint(e);else if(e&&e instanceof ti.geom.MultiPoint){var o=e.getPoints();o&&Array.isArray(o)&&0<o.length&&o.forEach(function(t){t&&t instanceof ti.geom.Point&&n.appendPoint(t)})}}}),i.layerName){e=new ti.Feature({geometry:n,params:i}),i.create=!0;var s=this.createHeatMapLayer(i.layerName,i);s&&s instanceof ti.layer.Heatmap&&s.getSource().addFeature(e),this.pointLayers.add(i.layerName)}o&&(i.zoomToExtent=!0,this.fixView(n,i))}return e}catch(t){console.log(t)}},o.prototype.setHeatLayerStyle=function(t,e){try{var o=null;if(t){t=t.trim();var i=this.getLayerByLayerName(t);if(i&&i instanceof ti.layer.Heatmap&&(o=i,e&&"object"===(void 0===e?"undefined":l(e))))for(var r in e)switch(r){case"blur":o.setBlur(e[r]);break;case"radius":o.setRadius(e[r]);break;case"gradient":o.setGradient(e[r]);break;case"visible":o.setVisible(e[r]);break;case"opacity":o.setOpacity(e[r])}}return o}catch(t){console.log(t)}},o.prototype.removeFeatureByLayerName=function(t,e){try{this._removeSelectFeature(null,!0);var o=this.getLayerByLayerName(t),i=[];if(o&&o instanceof ti.layer.Vector){var r=o.getSource();r&&r.clear&&(r.getFeatures&&(i=r.getFeatures()),r.clear(e||!1))}return i}catch(t){console.log(t)}},o.prototype.removeFeatureByLayerNames=function(t){var e=this,o=[];if(this._removeSelectFeature(null,!0),t&&Array.isArray(t)&&0<t.length)return t.forEach(function(t){o=o.concat(e.removeFeatureByLayerName(t))}),o;console.info("\u4f20\u5165\u7684\u4e0d\u662f\u6570\u7ec4\uff01")},o.prototype.removeFeature=function(t){if(this._removeSelectFeature(t,!1),!(t&&t instanceof ti.Feature))throw new Error("\u4f20\u5165\u7684\u4e0d\u662f\u8981\u7d20!");var e=this.getLayerByFeature(t);if(e){var o=e.getSource();o&&o.removeFeature&&o.removeFeature(t)}},o.prototype.removeFeatureById=function(e,t){var o=this,i=void 0;if(this.map&&e)if(t){var r=this.getLayerByLayerName(t);if(r&&r.getSource){var n=r.getSource();n&&n.getFeatureById&&(i=n.getFeatureById(e))&&i instanceof ti.Feature&&(n.removeFeature(i),this._removeSelectFeature(i,!1))}}else{this.getAllLayers().every(function(t){return!((i=o.getFeatureFromLayer(t,e))&&i instanceof ti.Feature)||(t.getSource().removeFeature(i),o._removeSelectFeature(i,!1),!1)})}return i},o.prototype.removeFeatureByIds=function(t,e){var o=this,i=[];return t&&Array.isArray(t)&&0<t.length?t.forEach(function(t){i.push(o.removeFeatureById(t,e))}):console.info("id\u4e3a\u7a7a\u6216\u8005\u4e0d\u662f\u6570\u7ec4\uff01"),i},o.prototype.highLightFeature=function(t,e,o){if(this.map){if(t&&t instanceof ti.Feature){if(e&&e instanceof ti.style.Style)t.setStyle(e);else if(pi(e))t.setStyle(e);else if("object"===(void 0===e?"undefined":l(e))){var i=new Xi(e);t.setStyle(i)}else{var r=t.get("selectStyle");if(r&&r instanceof ti.style.Style)t.setStyle(r);else if(pi(r))t.setStyle(e);else if("object"===(void 0===r?"undefined":l(r))){var n=new Xi(r);t.setStyle(n)}}return t}if(t&&"string"==typeof t&&"''"!==t.trim()){var s=this.getFeatureById(t);if(s&&s instanceof ti.Feature){if(e&&e instanceof ti.style.Style)s.setStyle(e);else if(pi(e))s.setStyle(e);else if("object"===(void 0===e?"undefined":l(e))){var a=new Xi(e);s.setStyle(a)}else{var p=s.get("selectStyle");if(p&&p instanceof ti.style.Style)s.setStyle(p);else if(pi(e))s.setStyle(p);else if("object"===(void 0===p?"undefined":l(p))){var h=new Xi(p);s.setStyle(h)}}s.set("keepStyle",o)}return s}}},o.prototype.unHighLightFeature=function(t,e,o){if(this.map){if(t&&t instanceof ti.Feature){if(!o&&t.get("keepStyle"))return t;if(t.set("keepStyle",!1),e&&e instanceof ti.style.Style)t.setStyle(e);else if(pi(e))t.setStyle(e);else if("object"===(void 0===e?"undefined":l(e))){var i=new Xi(e);t.setStyle(i)}else{var r=t.get("style");if(r&&r instanceof ti.style.Style)t.setStyle(r);else if(pi(r))t.setStyle(r);else if("object"===(void 0===r?"undefined":l(r))){var n=new Xi(r);t.setStyle(n)}}return t}if(t&&"string"==typeof t&&"''"!==t.trim()){var s=this.getFeatureById(t);if(s&&s instanceof ti.Feature){if(!o&&s.get("keepStyle"))return s;if(s.set("keepStyle",!1),e&&e instanceof ti.style.Style)s.setStyle(e);else if(pi(e))s.setStyle(e);else if("object"===(void 0===e?"undefined":l(e))){var a=new Xi(e);s.setStyle(a)}else{var p=s.get("style");if(p&&p instanceof ti.style.Style)s.setStyle(p);else if(pi(p))s.setStyle(e);else if("object"===(void 0===p?"undefined":l(p))){var h=new Xi(p);s.setStyle(h)}}}return s}}},o}(oi(ir,lh)),uh=function(t){function e(){return h(this,e),c(this,t.apply(this,arguments))}return r(e,t),e.prototype.addOverlayPoint=function(t,e,o){try{if(t&&t.geometry){var i=this.getGeomFromGeomData(t,e);if(i&&i.getCoordinates){var r=i.getCoordinates();if(t.attributes&&(t.attributes.id||t.attributes.ID)){var n=t.attributes.id||t.attributes.ID||e.id,s=this.map.getOverlayById(n),a=this.getElementForOverlay(t,e,o),p=[a.marker,a.ele],h=p[0],l=p[1];if(s)this._addOverLayEvent(h,l,s),s.setElement(h);else{var c=new ti.Overlay({element:h,positioning:"center-center",id:n,offset:[0,0],stopEvent:!0});c.setPosition(r),c.setProperties(t.attributes),e&&(c.set("params",e),e.layerName&&c.set("layerName",e.layerName)),this._addOverLayEvent(h,l,c),this.map.addOverlay(c)}}if(e.zoomToExtent){var u=new ti.geom.Point(r).getExtent();e.view&&e.view.adjustExtent&&(u=this.adjustExtent(u,e.view)),this.zoomToExtent(u,!0)}}}}catch(t){console.log(t)}},e.prototype._addOverLayEvent=function(t,e,o){var i=this;t.onmousedown=function(t){2===t.button?i.dispatch(Fr,{type:Fr,originEvent:t,value:o}):0===t.button&&i.dispatch(jr,{type:jr,originEvent:t,value:o}),i.dispatch(Rr,{type:Rr,originEvent:t,value:o})},t.onmouseover=function(t){e.style.color=e.selectColor,i.dispatch(Or,{type:Or,originEvent:t,value:o})},t.onmouseout=function(t){e.style.color=e.normalColor,i.dispatch(Nr,{type:Nr,originEvent:t,value:o})}},e.prototype.getElementForOverlay=function(t,e,o){var i=document.createElement("div");i.className="overlay-point-content";var r=t.attributes.style||e.style,n="",s="";if(r.element instanceof Element)(n=document.createElement("div")).setAttribute("normalColor",r.color?r.color:"#1b9de8"),n.setAttribute("selectColor",r.selectColor?r.selectColor:"#F61717"),n.innerHTML=r.text?r.text:"",n.appendChild(r.element),i.appendChild(n);else if(r.element&&ai(r.element)){n=document.createElement("div");var a=r.element.className?r.element.className:"maker-point";yi(n,"iconfont"),yi(n,a),n.style.top=r.element.top?r.element.top:"-100%",n.style.left=r.element.left?r.element.left:"100%",n.style.fontSize=r.element.fontSize?r.element.fontSize:"16px",n.style.borderColor=r.element.borderColor?r.element.borderColor:"#2A2A2A",n.style.borderWidth=r.element.borderWidth?r.element.borderWidth:"1px",n.style.opacity=r.element.opacity?r.element.opacity:1,n.style.width=r.element.width?r.element.width:"100%",n.style.height=r.element.height?r.element.height:"100%",n.style.borderRadius=r.element.borderRadius?r.element.borderRadius:"0px",n.setAttribute("normalColor",r.color?r.color:"#1b9de8"),n.setAttribute("selectColor",r.selectColor?r.selectColor:"#F61717"),n.setAttribute("selectClass",r.selectClass?r.selectClass:"overlay-point-marker-raise"),n.style.color=r.color?r.color:"#1b9de8",n.innerHTML=r.element.text?r.element.text:"",e.orderBy?(s=document.createElement("span")).innerHTML=Number(o)+1:e.orderByNum&&void 0!==t.attributes.number&&""!==t.attributes.number&&null!==t.attributes.number?(s=document.createElement("span")).innerHTML=Number(t.attributes.number)+1:e.innerHtml&&(s.innerHTML=t.attributes.innerHtml),s&&n.appendChild(s),i.appendChild(n)}return{marker:i,ele:n}},e.prototype.addOverlayPoints=function(t,i){var r=this;try{if(t&&Array.isArray(t)){var n=new ti.geom.MultiPoint([]),e=!1;i.zoomToExtent&&(i.zoomToExtent=!1,e=!0),t.forEach(function(t,e){if(t&&t.geometry){var o=r.getGeomFromGeomData(t,i);o&&(r.addOverlayPoint(t,i,e),n.appendPoint(o))}}),e&&(i.zoomToExtent=!0,this.fixView(n,i))}}catch(t){console.log(t)}},e.prototype.removeOverLay=function(t){try{if(t&&t instanceof ti.Overlay&&this.map)return t.get("markFeature")&&t.get("markFeature")instanceof ti.Feature&&this.removeFeature(t.get("markFeature")),this.map.removeOverlay(t),t}catch(t){console.log(t)}},e.prototype.removeOverlayById=function(t){try{if(this.map&&t){var e=ni(t),o=this.map.getOverlayById(e);return o&&o instanceof ti.Overlay&&(o.get("markFeature")&&o.get("markFeature")instanceof ti.Feature&&this.removeFeature(o.get("markFeature")),this.removeOverlay(o)),o}}catch(t){console.log(t)}},e.prototype.removeOverlayByLayerName=function(t){var e=[];if(this.map&&t)for(var o=this.map.getOverlays().getArray(),i=o.length,r=0;r<i;r++)o[r]&&o[r].get("layerName")===t&&(e.push(o[r]),o[r].get("markFeature")&&o[r].get("markFeature")instanceof ti.Feature&&this.removeFeature(o[r].get("markFeature")),this.removeOverlay(o[r]),r--);return e},e.prototype.removeOverlayByIds=function(t){var o=this;try{var i=[];return t&&Array.isArray(t)&&0<t.length&&t.forEach(function(t){if(t){var e=o.removeOverlayById(t);i.push(e)}}),i}catch(t){console.log(t)}},e.prototype.removeOverlayByLayerNames=function(t){var o=this;try{var i=[];return t&&Array.isArray(t)&&0<t.length&&t.forEach(function(t){if(t){var e=o.removeOverlayByLayerName(t);e&&0<e.length&&(i=i.concat(e))}}),i}catch(t){console.log(t)}},e.prototype.highLightOverLay=function(t,e){try{if(!this.map)return;if(e&&e instanceof ti.Overlay){var o=e.getElement(),i=o.getElementsByTagName("div")[0];return i.style.color=i.getAttribute("selectColor"),yi(o,i.getAttribute("selectClass")),e}if(t&&"''"!==ni(t)){var r=this.map.getOverlayById(t);if(r&&r instanceof ti.Overlay){var n=r.getElement(),s=n.getElementsByTagName("div")[0];return s.style.color=s.getAttribute("selectColor"),yi(n,s.getAttribute("selectClass")),r}}}catch(t){console.info(t)}},e.prototype.unHighLightOverLay=function(t,e){if(this.map){if(e&&e instanceof ti.Overlay){var o=e.getElement(),i=o.getElementsByTagName("div")[0];return i.style.color=i.getAttribute("normalColor"),fi(o,i.getAttribute("selectClass")),e}if(t&&"''"!==ni(t)){var r=this.map.getOverlayById(t);if(r&&r instanceof ti.Overlay){var n=r.getElement(),s=n.getElementsByTagName("div")[0];return s.style.color=s.getAttribute("normalColor"),fi(n,s.getAttribute("selectClass")),r}}}},e.prototype.getOverLayById=function(t){var e=ni(t);return this.map.getOverlayById(e)},e.prototype.getOverLaysByLayerNames=function(t){var o=this;try{var i=[];return t&&Array.isArray(t)&&0<t.length&&t.forEach(function(t){if(t){var e=o.getOverlayByLayerName(t);e&&0<e.length&&(i=i.concat(e))}}),i}catch(t){console.log(t)}},e.prototype.getOverlayByLayerName=function(e){var o=[];this.map&&e&&this.map.getOverlays().getArray().forEach(function(t){t&&t.get("layerName")===e&&o.push(t)});return o},e.prototype.getOverlayByPropertiesKey=function(o,i){var r=[];this.map&&o&&i&&this.map.getOverlays().getArray().forEach(function(t){if(t){var e=t.getProperties();e&&e[o]&&e[o]===i&&r.push(t)}});return r},e.prototype.getOverlayByPropertiesKeys=function(t,i){var r=this,n=[];return this.map&&t&&i&&Array.isArray(t)&&Array.isArray(i)&&t.length===i.length&&t.forEach(function(t,e){var o=r.getOverlayByPropertiesKey(t,i[e]);o&&0<o.length&&(n=n.concat(o))}),n},e.prototype.removeOverlayByPropertiesKey=function(t,e){var o=[];if(this.map&&t&&e)for(var i=this.map.getOverlays().getArray(),r=i.length,n=0;n<r;n++)if(i[n]){var s=i[n].getProperties();s&&s[t]&&s[t]===e&&(o.push(i[n]),i[n].get("markFeature")&&i[n].get("markFeature")instanceof ti.Feature&&this.removeFeature(i[n].get("markFeature")),this.map.removeOverlay(i[n]),n--)}return o},e.prototype.removeOverlayByPropertiesKeys=function(t,i){var r=this,n=[];return this.map&&t&&i&&Array.isArray(t)&&Array.isArray(i)&&t.length===i.length&&t.forEach(function(t,e){var o=r.removeOverlayByPropertiesKey(t,i[e]);o&&0<o.length&&(n=n.concat(o))}),n},e}(lh),gh=Math.PI,yh=3e3*gh/180,fh=6378245,dh=.006693421622965943,vh=function(t,e){var o=2*t-100+3*e+.2*e*e+.1*t*e+.2*Math.sqrt(Math.abs(t));return o+=2*(20*Math.sin(6*t*gh)+20*Math.sin(2*t*gh))/3,o+=2*(20*Math.sin(e*gh)+40*Math.sin(e/3*gh))/3,o+=2*(160*Math.sin(e/12*gh)+320*Math.sin(e*gh/30))/3},Ah=function(t,e){var o=300+t+2*e+.1*t*t+.1*t*e+.1*Math.sqrt(Math.abs(t));return o+=2*(20*Math.sin(6*t*gh)+20*Math.sin(2*t*gh))/3,o+=2*(20*Math.sin(t*gh)+40*Math.sin(t/3*gh))/3,o+=2*(150*Math.sin(t/12*gh)+300*Math.sin(t/30*gh))/3},Ch=function(t,e){return!(73.66<t&&t<135.05&&3.86<e&&e<53.55)},mh=Object.freeze({transformlat:vh,transformlng:Ah,outOfChina:Ch,gcj02towgs84:function(t,e){if(Ch(t,e))return[t,e];var o=vh(t-105,e-35),i=Ah(t-105,e-35),r=e/180*gh,n=Math.sin(r);n=1-dh*n*n;var s=Math.sqrt(n);return o=180*o/(fh*(1-dh)/(n*s)*gh),[2*t-(t+(i=180*i/(fh/s*Math.cos(r)*gh))),2*e-(e+o)]},wgs84togcj02:function(t,e){if(Ch(t,e))return[t,e];var o=vh(t-105,e-35),i=Ah(t-105,e-35),r=e/180*gh,n=Math.sin(r);n=1-dh*n*n;var s=Math.sqrt(n);return o=180*o/(fh*(1-dh)/(n*s)*gh),[t+(i=180*i/(fh/s*Math.cos(r)*gh)),e+o]},gcj02tobd:function(t,e){var o=Math.sqrt(t*t+e*e)+2e-5*Math.sin(e*yh),i=Math.atan2(e,t)+3e-6*Math.cos(t*yh);return[o*Math.cos(i)+.0065,o*Math.sin(i)+.006]},bdtogcj02:function(t,e){var o=t-.0065,i=e-.006,r=Math.sqrt(o*o+i*i)-2e-5*Math.sin(i*yh),n=Math.atan2(i,o)-3e-6*Math.cos(o*yh);return[r*Math.cos(n),r*Math.sin(n)]},lonLatToMercator:function(t,e){var o=20037508.34*t/180,i=Math.log(Math.tan((90+e)*Math.PI/360))/(Math.PI/180);return[o,i=20037508.34*i/180]},MercatorTolonLat:function(t,e){var o=e/20037508.34*180;return[t/20037508.34*180,o=180/Math.PI*(2*Math.atan(Math.exp(o*Math.PI/180))-Math.PI/2)]}}),Ih="1.5.8",bh=function(o){function i(){h(this,i);var t=c(this,o.call(this));t.version_=Ih,t.logo_=zi,t.currentMapLines=[],t.currentMapPoints=[],t.currentMapPolygon=[],t.lineLayers=[],t.pointLayers=[],t.polygonLayers=[],t.selectInteraction=null,t.moveInteraction=null,t.currentSelectFeature=null,t.lastSelectFeature=null,t.view=null,t.timer_=null,t.map=null;var e=Array.prototype.slice.call(arguments);return 1===e.length&&ai(e[0])?e[0].target&&t.initMap(e[0].target,e[0]):2===e.length&&e[0]&&ai(e[1])&&t.initMap(e[0],e[1]),t.showMassages_(),ii.call(t),t}return r(i,o),i.prototype.initMap=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};try{this.target_=t,this.options_=e,this.view=this._addView(this.options_.view);var o=this._addCopyRight(this.options_.logo),i=this.addBaseLayers(this.options_.baseLayers),r=this._addInteractions(this.options_.interactions),n=this._addControls(this.options_.controls);this.map=new ti.Map({target:this.target_,loadTilesWhileAnimating:"boolean"==typeof this.options_.loadTilesWhileAnimating&&this.options_.loadTilesWhileAnimating,loadTilesWhileInteracting:"boolean"==typeof this.options_.loadTilesWhileInteracting&&this.options_.loadTilesWhileInteracting,logo:o,layers:i,view:this.view,renderer:this.options_.renderer?this.options_.renderer:void 0,interactions:r,controls:n}),this._addEvent(),this._addMapInteraction(),this.dispatch(ar,!0)}catch(t){this.dispatch(ar,t)}},i.prototype._addEvent=function(){var e=this;this.map.on(pr,function(t){e.dispatch(pr,t)}),this.map.on(hr,function(t){e.dispatch(hr,t)}),this.map.on(lr,function(t){e.dispatch(lr,t)}),this.map.on(cr,function(t){e.dispatch(cr,t)}),this.map.on(ur,function(t){e.dispatch(ur,t)}),this.map.on(gr,function(t){e.dispatch(gr,t)}),this.map.on(yr,function(t){e.dispatch(yr,t)}),this.map.on(vr,function(t){e.dispatch(vr,t)}),this.map.on(dr,function(t){e.dispatch(dr,t)}),this.map.on(fr,function(t){e.dispatch(fr,t)}),this.map.on(Ar,function(t){e.dispatch(Ar,t)}),this.map.on(Cr,function(t){e.dispatch(Cr,t)}),this.map.on(mr,function(t){e.dispatch(mr,t)}),this.map.on(Ir,function(t){e.dispatch(Ir,t)}),this.map.on(br,function(t){e.dispatch(br,t)}),this.map.on(wr,function(t){e.dispatch(wr,t)}),this.map.on(xr,function(t){e.dispatch(xr,t)}),this.map.on(Pr,function(t){e.dispatch(Pr,t)})},i.prototype._addMapInteraction=function(){var n=this;this.selectInteraction=new ti.interaction.Select({condition:ti.events.condition.click,style:function(t,e){return[new ti.style.Style({stroke:new ti.style.Stroke({color:"#D97363",width:5})})]},layers:function(t){return!0===t.get(kr)},wrapX:!1}),this.moveInteraction=new ti.interaction.Select({condition:ti.events.condition.pointerMove,style:function(t,e){return[new ti.style.Style({stroke:new ti.style.Stroke({color:"#D97363",width:5})})]},layers:function(t){return!0===t.get(kr)},filter:function(t,e){return!t.get("features")||t.get("features").length<=1},wrapX:!1}),this.moveInteraction.on("select",function(t){var e=[t.selected,null],o=e[0],i=e[1];if(t.deselected){var r=t.deselected;0<r.length&&(i=r[0],n.unHighLightFeature(i),i&&i instanceof ti.Feature&&n.dispatch(Sr,{type:Sr,originEvent:t,value:i}))}0<o.length&&(i=o[0],n.lastSelectFeature&&n.lastSelectFeature instanceof ti.Feature&&(n.unHighLightFeature(n.lastSelectFeature),n.lastSelectFeature=null),n.lastSelectFeature=i,n.highLightFeature(i),i&&i instanceof ti.Feature&&n.dispatch(Mr,{type:Mr,originEvent:t,value:i}))}),this.selectInteraction.on("select",function(t){var e=[t.selected,null],o=e[0],i=e[1];if(t.deselected){var r=t.deselected;0<r.length&&(i=r[0],n.unHighLightFeature(i),i&&i instanceof ti.Feature&&n.dispatch(Tr,{type:Tr,originEvent:t,value:i}))}0<o.length&&(i=o[0],n.lastSelectFeature&&n.lastSelectFeature instanceof ti.Feature&&(n.unHighLightFeature(n.lastSelectFeature),n.lastSelectFeature=null),n.lastSelectFeature=i,n.highLightFeature(i),i&&i instanceof ti.Feature&&n.dispatch(Lr,{type:Lr,originEvent:t,value:i}))}),this.map.addInteraction(this.moveInteraction),this.map.addInteraction(this.selectInteraction)},i.prototype._removeSelectFeature=function(t,e){if(this.selectInteraction){var o=this.selectInteraction.getFeatures().getArray();if(o&&0<o.length)for(var i=0;i<o.length;i++)e?this.selectInteraction.getFeatures().remove(o[i]):e||o[i]!==t||this.selectInteraction.getFeatures().remove(o[i])}},i.prototype._addFeatureSelectEvent=function(t){var e=this.map.forEachFeatureAtPixel(t.pixel,function(t){return t});e&&e instanceof ti.Feature&&this.dispatch(Mr,{type:Mr,originEvent:t,value:e})},i.prototype._addCopyRight=function(t){return!0===t?{href:Zi.INDEX_URL,src:this.logo_}:!!ai(t)&&t},i.prototype.showMassages_=function(){console.log("%c            ","font-size:16px; padding:18px 24px;line-height:48px;background:url('"+this.logo_+"') no-repeat;background-size: 48px;"),console.log("hmap-js",Ih,"\xa9","FDD <smileFDD@gmail.com>")},t(i,null,[{key:"accessToken",get:function(){return Zi.ACCESS_TOKEN},set:function(t){Zi.ACCESS_TOKEN=t}}]),i}(oi(rr,ii,nr,sr,Op,ah,ir,hh,lh,ch,uh));return bh.supported=Ui,bh.Popover=ji,bh.AnimatedClusterLayer=Vi,bh.Layer=ti.layer,bh.Map=ti.Map,bh.Observable=ii,bh.View=ti.View,bh.BaseLayers=sr,bh.Controls=ti.control,bh.Interactions=ti.interaction,bh.ViewUtil=hh,bh.Geometry=ti.geom,bh.Feature=ch,bh.Overlay=uh,bh.transform=mh,"undefined"!=typeof window?window.ol=ti:"undefined"!=typeof global?global.ol=ti:"undefined"!=typeof self&&(self.ol=ti),bh});